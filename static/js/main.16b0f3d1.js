/*! For license information please see main.16b0f3d1.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},569:function(e,t,n){e.exports=n(36)},381:function(e,t,n){"use strict";var r=n(589),i=n(297),a=n(301),o=n(774),u=n(804),s=n(145),c=n(411),l=n(467),f=n(221),h=n(346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+w)}var b=u(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?s(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(b,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},36:function(e,t,n){"use strict";var r=n(589),i=n(49),a=n(773),o=n(777);var u=function e(t){var n=new a(t),u=i(a.prototype.request,n);return r.extend(u,a.prototype,n),r.extend(u,n),u.create=function(n){return e(o(t,n))},u}(n(221));u.Axios=a,u.Cancel=n(346),u.CancelToken=n(857),u.isCancel=n(517),u.VERSION=n(600).version,u.all=function(e){return Promise.all(e)},u.spread=n(89),u.isAxiosError=n(580),e.exports=u,e.exports.default=u},346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},857:function(e,t,n){"use strict";var r=n(346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},773:function(e,t,n){"use strict";var r=n(589),i=n(774),a=n(470),o=n(733),u=n(777),s=n(835),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=u(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=u(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(u(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(u(r||{},{method:e,url:t,data:n}))}})),e.exports=l},470:function(e,t,n){"use strict";var r=n(589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},804:function(e,t,n){"use strict";var r=n(44),i=n(549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},467:function(e,t,n){"use strict";var r=n(460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},733:function(e,t,n){"use strict";var r=n(589),i=n(693),a=n(517),o=n(221),u=n(346);function s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new u("canceled")}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function u(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function s(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:s};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==s||(n[e]=i)})),n}},297:function(e,t,n){"use strict";var r=n(467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},693:function(e,t,n){"use strict";var r=n(589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(589),i=n(341),a=n(460),o={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||s.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(u){if(o){if("SyntaxError"===u.name)throw a(u,this,"E_JSON_PARSE");throw u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s},600:function(e){e.exports={version:"0.24.0"}},49:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},774:function(e,t,n){"use strict";var r=n(589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var u=e.indexOf("#");-1!==u&&(e=e.slice(0,u)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},301:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var u=[];u.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(a)&&u.push("domain="+a),!0===o&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},44:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},411:function(e,t,n){"use strict";var r=n(589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},341:function(e,t,n){"use strict";var r=n(589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},145:function(e,t,n){"use strict";var r=n(589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},89:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},835:function(e,t,n){"use strict";var r=n(600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new TypeError("option "+a+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},589:function(e,t,n){"use strict";var r=n(49),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function u(e){return null!==e&&"object"===typeof e}function s(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:s,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return u(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){s(t[r])&&s(n)?t[r]=e(t[r],n):s(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,T=60114,S=60109,C=60110,N=60112,A=60113,R=60120,O=60115,P=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),_=j("react.portal"),E=j("react.fragment"),I=j("react.strict_mode"),T=j("react.profiler"),S=j("react.provider"),C=j("react.context"),N=j("react.forward_ref"),A=j("react.suspense"),R=j("react.suspense_list"),O=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case T:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Re(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ne||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ke=!1,Ge=null,Qe={onError:function(e){We=!0,He=e}};function Je(e,t,n,r,i,a,o,u,s){We=!1,He=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&bt(ut,e),null!==st&&bt(st,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=St("animationend"),Nt=St("animationiteration"),At=St("animationstart"),Rt=St("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Jt=!0;function Yt(e,t,n,r){Fe||Le();var i=$t,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Xt(e,t,n,r){Qt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Jt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(bn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Nn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,Yn=null;function Xn(e){Nr(e,0)}function $n(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Jn&&(Jn.detachEvent("onpropertychange",ar),Yn=Jn=null)}function ar(e){if("value"===e.propertyName&&$n(Yn)){var t=[];if(Qn(t,Yn,e,Te(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Jn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function sr(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Pt.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Je.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Sr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Te(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case Nt:case At:s=wn;break;case Rt:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Jr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Jr(e);null!==e;){if(n=e[$r])return n;e=Jr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ni?Ni:function(){},ji=null,Vi=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Ri()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Ii(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Ji()}function Ji(){if(!Bi&&null!==ji){Bi=!0;var e=0;try{var t=ji;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ti(Oi,Qi),n}finally{Bi=!1}}}var Yi=b.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ks(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Ra=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Ra,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ma(e){Aa.current===e&&(li(Na),li(Aa))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,Ba=!1;function qa(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(ja=e);qa(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ka(e){if(e!==ja)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,Ba=!1}var Qa=[];function Ja(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=b.ReactCurrentDispatcher,Xa=b.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Pu;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function wo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Ks(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&wa(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&wa(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Jo,Yo,Xo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Js({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Js(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ks(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ks(o,u),null!==e?r=Ks(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ks(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ks(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Ja(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Jo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[$r]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Pu||0===(134217727&Bu)&&0===(134217727&qu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ku&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ku&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ja(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Jo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$u?$u=new Set([this]):$u.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(bu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Tu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=zi(),gu(t.child,!0)),void Su(t);case 19:return void Su(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Su(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=b.ReactCurrentDispatcher,Ru=b.ReactCurrentOwner,Ou=0,Pu=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,Bu=0,qu=0,zu=0,Wu=null,Hu=0,Ku=1/0;function Gu(){Ku=zi()+500}var Qu,Ju=null,Yu=!1,Xu=null,$u=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(qu|=t,4===Uu&&gs(e,Lu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Ti(Oi,Ji)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ts();for(Pu===e&&Lu===r||(Gu(),Es(e,r));;)try{Ns();break}catch(s){Is(e,s)}if(na(),Au.current=a,Ou=i,null!==Du?r=0:(Pu=null,Lu=0,r=Uu),0!==(Vu&qu))Es(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ss(e,n))),1===r)throw t=ju,Es(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ss(e,t);0!==(Vu&qu)&&(n=Ss(e,t=Ut(e,t)))}else n=Ss(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ss(e,t))),1===n)throw n=ju,Es(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,zi()),null}function ws(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function bs(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Ja();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Pu=e,Du=Ks(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,zu=qu=Bu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var w=Bs.bind(null,a,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$u||!$u.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ts(){var e=Au.current;return Au.current=Oo,null===e?Oo:e}function Ss(e,t){var n=Ou;Ou|=16;var r=Ts();for(Pu===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ou=n,Au.current=r,null!==Du)throw Error(o(261));return Pu=null,Lu=0,Uu}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Os(e){var t=Wi();return Ki(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Du=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Ru.current=null,Br=Jt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(T){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Jt=!1,ls=null,fs=!1,Ju=r;do{try{Ds()}catch(T){if(null===Ju)throw Error(o(330));Vs(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);ls=null,Ju=r;do{try{for(u=e;null!==Ju;){var k=Ju.flags;if(16&k&&ge(Ju.stateNode,""),128&k){var w=Ju.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xu(Ju),Ju.flags&=-3;break;case 6:xu(Ju),Ju.flags&=-3,Tu(Ju.alternate,Ju);break;case 1024:Ju.flags&=-1025;break;case 1028:Ju.flags&=-1025,Tu(Ju.alternate,Ju);break;case 4:Tu(Ju.alternate,Ju);break;case 8:Iu(u,s=Ju);var x=s.alternate;wu(s),null!==x&&wu(x)}Ju=Ju.nextEffect}}catch(T){if(null===Ju)throw Error(o(330));Vs(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);if(b=qr,w=mr(),k=b.focusedElem,u=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(w=u.start,void 0===(b=u.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!b.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==b.rangeCount||b.anchorNode!==s.node||b.anchorOffset!==s.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(s.node,s.offset),b.removeAllRanges(),x>u?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Jt=!!Br,qr=Br=null,e.current=n,Ju=r;do{try{for(k=e;null!==Ju;){var _=Ju.flags;if(36&_&&yu(k,Ju.alternate,Ju),128&_){w=void 0;var E=Ju.ref;if(null!==E){var I=Ju.stateNode;Ju.tag,w=I,"function"===typeof E?E(w):E.current=w}}Ju=Ju.nextEffect}}catch(T){if(null===Ju)throw Error(o(330));Vs(Ju,T),Ju=Ju.nextEffect}}while(null!==Ju);Ju=null,Ui(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Ju=r;null!==Ju;)t=Ju.nextEffect,Ju.nextEffect=null,8&Ju.flags&&((_=Ju).sibling=null,_.stateNode=null),Ju=t;if(0===(r=e.pendingLanes)&&($u=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(ms(e,zi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Ou)||Qi(),null}function Ds(){for(;null!==Ju;){var e=Ju.alternate;fs||null===ls||(0!==(8&Ju.flags)?et(Ju,ls)&&(fs=!0):13===Ju.tag&&Cu(e,Ju)&&et(Ju,ls)&&(fs=!0));var t=Ju.flags;0!==(256&t)&&mu(e,Ju),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),Ju=Ju.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Ki(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===$u||!$u.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>zi()-Hu?Es(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=Vu),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new zs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ks(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case T:return(e=Ws(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Ws(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case R:return(e=Ws(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return Js(n,i,a,t);case U:return(e=Ws(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case C:u=9;break e;case N:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Js(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $s(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $s(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}bs((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return $o(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi($i,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=ws,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bs((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+T(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(u=e[c],c);s+=S(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=S(u=u.value,t,n,l=r+T(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function R(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,N=null,A=3,R=!1,O=!1,P=!1;function D(e){for(var t=_(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,x(T,t)}t=_(S)}}function L(e){if(P=!1,D(e),!O)if(null!==_(T))O=!0,n(M);else{var t=_(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),R=!0;var a=A;try{for(D(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===_(T)&&E(T),D(n)}else E(T);N=_(T)}if(null!==N)var s=!0;else{var c=_(S);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,A=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(S,e),null===_(T)&&e===_(S)&&(P?i():P=!0,r(L,o-u))):(e.sortIndex=s,x(T,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".3718e719.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="57_test:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/movie_db/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunk_57_test=self.webpackChunk_57_test||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return kt},SDK_VERSION:function(){return vn},_DEFAULT_ENTRY_NAME:function(){return Zt},_addComponent:function(){return rn},_addOrOverwriteComponent:function(){return an},_apps:function(){return tn},_clearComponents:function(){return cn},_components:function(){return nn},_getProvider:function(){return un},_registerComponent:function(){return on},_removeServiceInstance:function(){return sn},deleteApp:function(){return kn},getApp:function(){return yn},getApps:function(){return gn},initializeApp:function(){return mn},onLog:function(){return xn},registerVersion:function(){return bn},setLogLevel:function(){return _n}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l,f=l||(l={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";var h=function(e){return e};function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function y(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var k=(0,t.createContext)(null);var w=(0,t.createContext)(null);var b=(0,t.createContext)({outlet:null,matches:[]});function x(e){return function(e){var n=(0,t.useContext)(b).outlet;if(n)return(0,t.createElement)(A.Provider,{value:e},n);return n}(e.context)}function _(e){g(!1)}function E(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?l.Pop:u,c=e.navigator,f=e.static,h=void 0!==f&&f;S()&&g(!1);var d=z(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,b=void 0===m?"/":m,x=v.search,_=void 0===x?"":x,E=v.hash,I=void 0===E?"":E,T=v.state,C=void 0===T?null:T,N=v.key,A=void 0===N?"default":N,R=(0,t.useMemo)((function(){var e=B(b,d);return null==e?null:{pathname:e,search:_,hash:I,state:C,key:A}}),[d,b,_,I,C,A]);return null==R?null:(0,t.createElement)(k.Provider,{value:p},(0,t.createElement)(w.Provider,{children:a,value:{location:R,navigationType:s}}))}function I(e){var n=e.children,r=e.location;return function(e,n){S()||g(!1);var r=(0,t.useContext)(b).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=C();if(n){var c,l="string"===typeof n?y(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||g(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=B(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}(e,{pathname:h});0;return U(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:q([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:q([o,e.pathnameBase])})})),r)}(O(n),r)}function T(e){S()||g(!1);var n=(0,t.useContext)(k),r=n.basename,i=n.navigator,a=R(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):q([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function S(){return null!=(0,t.useContext)(w)}function C(){return S()||g(!1),(0,t.useContext)(w).location}function N(){S()||g(!1);var e=(0,t.useContext)(k),n=e.basename,r=e.navigator,i=(0,t.useContext)(b).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=V(e,JSON.parse(o),a);"/"!==n&&(i.pathname=q([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}var A=(0,t.createContext)(null);function R(e){var n=(0,t.useContext)(b).matches,r=C().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return V(e,JSON.parse(i),r)}),[e,i,r])}function O(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==_&&g(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=O(e.props.children)),n.push(r)}else n.push.apply(n,O(e.props.children))})),n}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=q([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),P(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:M(o,e.index),routesMeta:u})})),t}var D=/^:\w+$/,L=function(e){return"*"===e};function M(e,t){var n=e.split("/"),r=n.length;return n.some(L)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!L(e)})).reduce((function(e,t){return e+(D.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:q([i,l.pathname]),pathnameBase:q([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=q([i,l.pathnameBase]))}return a}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(x,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function V(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:W(a),hash:H(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var q=function(e){return e.join("/").replace(/\/\/+/g,"/")},z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},W=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function J(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=u.state||{};return[t.idx,h({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:m(e)}function r(e,t){return void 0===t&&(t=null),h(c({pathname:k.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function i(e){f=e,e=t(),g=e[0],k=e[1],w.call({action:f,location:k})}function a(e){u.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,u=o.history,s=null;o.addEventListener("popstate",(function(){if(s)b.call(s),s=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],b.length){if(null!=r){var o=g-r;o&&(s={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var f=l.Pop,g=(e=t())[0],k=e[1],w=p(),b=p();return null==g&&(g=0,u.replaceState(c({},u.state,{idx:g}),"")),{get action(){return f},get location(){return k},createHref:n,push:function e(t,a){var s=l.Push,c=r(t,a);if(!b.length||(b.call({action:s,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=f[0],f=f[1];try{u.pushState(c,"",f)}catch(bp){o.location.assign(f)}i(s)}},replace:function e(t,a){var o=l.Replace,s=r(t,a);b.length&&(b.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:g},n(s)],u.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return w.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&o.addEventListener("beforeunload",d),function(){t(),b.length||o.removeEventListener("beforeunload",d)}}}}({window:i}));var o=a.current,u=s((0,t.useState)({action:o.action,location:o.location}),2),f=u[0],g=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(g)}),[o]),(0,t.createElement)(E,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:o})}var Y=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=G(e,Q),f=T(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=N(),s=C(),c=R(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(s)===m(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",K({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));function X(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=X(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function $(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=X(e))&&(r&&(r+=" "),r+=t);return r}function Z(){return Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function ee(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function te(e){return"number"===typeof e&&!isNaN(e)}function ne(e){return"boolean"===typeof e}function re(e){return"string"===typeof e}function ie(e){return"function"===typeof e}function ae(e){return re(e)||ie(e)?e:null}function oe(e){return 0===e||e}var ue=!("undefined"===typeof window||!window.document||!window.document.createElement);function se(e){return(0,t.isValidElement)(e)||re(e)||ie(e)||te(e)}var ce={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},le={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function fe(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,u=void 0===o||o,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,o=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?n+"--"+o:n,p=a?r+"--"+o:r,v=(0,t.useRef)(),m=(0,t.useRef)(0);function y(e){if(e.target===f.current){var t=f.current;t.removeEventListener("animationend",y),0===m.current&&(t.className=v.current)}}function g(){var e=f.current;e.removeEventListener("animationend",g),u?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,t.useLayoutEffect)((function(){!function(){var e=f.current;v.current=e.className,e.className+=" "+d,e.addEventListener("animationend",y)}()}),[]),(0,t.useEffect)((function(){h||(s?g():function(){m.current=1;var e=f.current;e.className+=" "+p,e.addEventListener("animationend",g)}())}),[h]),t.createElement(t.Fragment,null,i)}}var he={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}};function de(e,n){void 0===n&&(n=!1);var r=(0,t.useRef)(e);return(0,t.useEffect)((function(){n&&(r.current=e)})),r.current}function pe(e,t){switch(t.type){case 0:return[].concat(e,[t.toastId]).filter((function(e){return e!==t.staleId}));case 1:return oe(t.toastId)?e.filter((function(e){return e!==t.toastId})):[]}}var ve=["delay","staleId"];function me(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=n[1],i=(0,t.useReducer)(pe,[]),a=i[0],o=i[1],u=(0,t.useRef)(null),s=de(0),c=de([]),l=de({}),f=de({toastKey:1,displayedToast:0,props:e,containerId:null,isToastActive:h,getToast:function(e){return l[e]||null}});function h(e){return-1!==a.indexOf(e)}function d(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(s-=c.length,c=[])}function p(e){o({type:1,toastId:e})}function v(){var e=c.shift();y(e.toastContent,e.toastProps,e.staleId)}function m(e,n){var i,a=n.delay,o=n.staleId,h=ee(n,ve);if(se(e)&&!function(e){var t=e.containerId,n=e.toastId,r=e.updateId;return!!(!u.current||f.props.enableMultiContainer&&t!==f.props.containerId||l[n]&&null==r)}(h)){var d=h.toastId,m=h.updateId,g=h.data,k=f.props,w=function(){return p(d)},b=null==h.updateId;b&&s++;var x,_,E={toastId:d,updateId:m,isLoading:h.isLoading,theme:h.theme||k.theme,icon:null!=(i=h.icon)?i:k.icon,isIn:!1,key:h.key||f.toastKey++,type:h.type,closeToast:w,closeButton:h.closeButton,rtl:k.rtl,position:h.position||k.position,transition:h.transition||k.transition,className:ae(h.className||k.toastClassName),bodyClassName:ae(h.bodyClassName||k.bodyClassName),style:h.style||k.toastStyle,bodyStyle:h.bodyStyle||k.bodyStyle,onClick:h.onClick||k.onClick,pauseOnHover:ne(h.pauseOnHover)?h.pauseOnHover:k.pauseOnHover,pauseOnFocusLoss:ne(h.pauseOnFocusLoss)?h.pauseOnFocusLoss:k.pauseOnFocusLoss,draggable:ne(h.draggable)?h.draggable:k.draggable,draggablePercent:te(h.draggablePercent)?h.draggablePercent:k.draggablePercent,draggableDirection:h.draggableDirection||k.draggableDirection,closeOnClick:ne(h.closeOnClick)?h.closeOnClick:k.closeOnClick,progressClassName:ae(h.progressClassName||k.progressClassName),progressStyle:h.progressStyle||k.progressStyle,autoClose:!h.isLoading&&(x=h.autoClose,_=k.autoClose,!1===x||te(x)&&x>0?x:_),hideProgressBar:ne(h.hideProgressBar)?h.hideProgressBar:k.hideProgressBar,progress:h.progress,role:re(h.role)?h.role:k.role,deleteToast:function(){!function(e){delete l[e];var t=c.length;(s=oe(e)?s-1:s-f.displayedToast)<0&&(s=0);if(t>0){var n=oe(e)?1:f.props.limit;if(1===t||1===n)f.displayedToast++,v();else{var i=n>t?t:n;f.displayedToast=i;for(var a=0;a<i;a++)v()}}else r()}(d)}};ie(h.onOpen)&&(E.onOpen=h.onOpen),ie(h.onClose)&&(E.onClose=h.onClose),"y"===E.draggableDirection&&80===E.draggablePercent&&(E.draggablePercent*=1.5);var I=k.closeButton;!1===h.closeButton||se(h.closeButton)?I=h.closeButton:!0===h.closeButton&&(I=!se(k.closeButton)||k.closeButton),E.closeButton=I;var T=e;(0,t.isValidElement)(e)&&!re(e.type)?T=(0,t.cloneElement)(e,{closeToast:w,toastProps:E,data:g}):ie(e)&&(T=e({closeToast:w,toastProps:E,data:g})),k.limit&&k.limit>0&&s>k.limit&&b?c.push({toastContent:T,toastProps:E,staleId:o}):te(a)&&a>0?setTimeout((function(){y(T,E,o)}),a):y(T,E,o)}}function y(e,t,n){var r=t.toastId;n&&delete l[n],l[r]={content:e,props:t},o({type:0,toastId:r,staleId:n})}return(0,t.useEffect)((function(){return f.containerId=e.containerId,he.cancelEmit(3).on(0,m).on(1,(function(e){return u.current&&p(e)})).on(5,d).emit(2,f),function(){return he.emit(3,f)}}),[]),(0,t.useEffect)((function(){f.isToastActive=h,f.displayedToast=a.length,he.emit(4,a.length,e.containerId)}),[a]),(0,t.useEffect)((function(){f.props=e})),{getToastToRender:function(t){for(var n={},r=e.newestOnTop?Object.keys(l).reverse():Object.keys(l),i=0;i<r.length;i++){var a=l[r[i]],o=a.props.position;n[o]||(n[o]=[]),n[o].push(a)}return Object.keys(n).map((function(e){return t(e,n[e])}))},collection:l,containerRef:u,isToastActive:h}}function ye(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function ge(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function ke(e){var n=(0,t.useState)(!0),r=n[0],i=n[1],a=(0,t.useState)(!1),o=a[0],u=a[1],s=(0,t.useRef)(null),c=de({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),l=de(e,!0),f=e.autoClose,h=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){var n=s.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=ye(t.nativeEvent),c.y=ge(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(e.draggablePercent/100))}}function y(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&c.x>=i&&c.x<=a&&c.y>=n&&c.y<=r?k():g()}}function g(){i(!0)}function k(){i(!1)}function w(t){if(c.canDrag){t.preventDefault();var n=s.current;r&&k(),c.x=ye(t),c.y=ge(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance))}}function b(){var t=s.current;if(c.canDrag){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return u(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){return ie(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){ie(l.onClose)&&l.onClose((0,t.isValidElement)(l.children)&&l.children.props)}}),[]),(0,t.useEffect)((function(){return e.draggable&&(document.addEventListener("mousemove",w),document.addEventListener("mouseup",b),document.addEventListener("touchmove",w),document.addEventListener("touchend",b)),function(){e.draggable&&(document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",b),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",b))}}),[e.draggable]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||k();window.addEventListener("focus",g),window.addEventListener("blur",k)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",k))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return f&&h&&(x.onMouseEnter=k,x.onMouseLeave=g),v&&(x.onClick=function(e){p&&p(e),c.canCloseOnClick&&d()}),{playToast:g,pauseToast:k,isRunning:r,preventExitTransition:o,toastRef:s,eventHandlers:x}}function we(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function be(e){var n,r,i=e.delay,a=e.isRunning,o=e.closeToast,u=e.type,s=e.hide,c=e.className,l=e.style,f=e.controlledProgress,h=e.progress,d=e.rtl,p=e.isIn,v=e.theme,m=Z({},l,{animationDuration:i+"ms",animationPlayState:a?"running":"paused",opacity:s?0:1});f&&(m.transform="scaleX("+h+")");var y=$("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+u,((n={})["Toastify__progress-bar--rtl"]=d,n)),g=ie(c)?c({rtl:d,type:u,defaultClassName:y}):$(y,c),k=((r={})[f&&h>=1?"onTransitionEnd":"onAnimationEnd"]=f&&h<1?null:function(){p&&o()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:g,style:m},k))}be.defaultProps={type:le.DEFAULT,hide:!1};var xe=["theme","type"],_e=function(e){var n=e.theme,r=e.type,i=ee(e,xe);return t.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var Ee={info:function(e){return t.createElement(_e,Object.assign({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(_e,Object.assign({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(_e,Object.assign({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(_e,Object.assign({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}},Ie=function(e){var n,r,i=ke(e),a=i.isRunning,o=i.preventExitTransition,u=i.toastRef,s=i.eventHandlers,c=e.closeButton,l=e.children,f=e.autoClose,h=e.onClick,d=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,y=e.position,g=e.className,k=e.style,w=e.bodyClassName,b=e.bodyStyle,x=e.progressClassName,_=e.progressStyle,E=e.updateId,I=e.role,T=e.progress,S=e.rtl,C=e.toastId,N=e.deleteToast,A=e.isIn,R=e.isLoading,O=e.icon,P=e.theme,D=$("Toastify__toast","Toastify__toast-theme--"+P,"Toastify__toast--"+d,((n={})["Toastify__toast--rtl"]=S,n)),L=ie(g)?g({rtl:S,position:y,type:d,defaultClassName:D}):$(D,g),M=!!T,F=Ee[d],U={theme:P,type:d},j=F&&F(U);return!1===O?j=void 0:ie(O)?j=O(U):(0,t.isValidElement)(O)?j=(0,t.cloneElement)(O,U):re(O)?j=O:R&&(j=Ee.spinner()),(0,t.createElement)(m,{isIn:A,done:N,position:y,preventExitTransition:o,nodeRef:u},(0,t.createElement)("div",Object.assign({id:C,onClick:h,className:L},s,{style:k,ref:u}),(0,t.createElement)("div",Object.assign({},A&&{role:I},{className:ie(w)?w({type:d}):$("Toastify__toast-body",w),style:b}),j&&(0,t.createElement)("div",{className:$("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!R,r))},j),(0,t.createElement)("div",null,l)),function(e){if(e){var n={closeToast:v,type:d,theme:P};return ie(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(c),(f||M)&&(0,t.createElement)(be,Object.assign({},E&&!M?{key:"pb-"+E}:{},{rtl:S,theme:P,delay:f,isRunning:a,isIn:A,closeToast:v,hide:p,type:d,style:_,className:x,controlledProgress:M,progress:T}))))},Te=fe({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),Se=function(e){var n=me(e),r=n.getToastToRender,i=n.containerRef,a=n.isToastActive,o=e.className,u=e.style,s=e.rtl,c=e.containerId;function l(e){var t,n=$("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=s,t));return ie(o)?o({position:e,rtl:s,defaultClassName:n}):$(n,ae(o))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:c},r((function(e,n){var r=0===n.length?Z({},u,{pointerEvents:"none"}):Z({},u);return(0,t.createElement)("div",{className:l(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(Ie,Object.assign({},r,{isIn:a(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?we:r.closeButton}),n)})))})))};Se.defaultProps={position:ce.TOP_RIGHT,transition:Te,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:we,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var Ce,Ne,Ae,Re=new Map,Oe=[],Pe=!1;function De(){return Math.random().toString(36).substr(2,9)}function Le(e){return e&&(re(e.toastId)||te(e.toastId))?e.toastId:De()}function Me(e,n){return Re.size>0?he.emit(0,e,n):(Oe.push({content:e,options:n}),Pe&&ue&&(Pe=!1,Ne=document.createElement("div"),document.body.appendChild(Ne),(0,r.render)((0,t.createElement)(Se,Object.assign({},Ae)),Ne))),n.toastId}function Fe(e,t){return Z({},t,{type:t&&t.type||e,toastId:Le(t)})}var Ue=function(e){return function(t,n){return Me(t,Fe(e,n))}},je=function(e,t){return Me(e,Fe(le.DEFAULT,t))};function Ve(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ve(a,r,i,o,u,"next",e)}function u(e){Ve(a,r,i,o,u,"throw",e)}o(void 0)}))}}je.loading=function(e,t){return Me(e,Fe(le.DEFAULT,Z({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},je.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=re(i)?je.loading(i,n):je.loading(i.render,Z({},n,i)));var u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,i){var a=Z({type:e},u,n,{data:i}),o=re(t)?{render:t}:t;return r?je.update(r,Z({},a,o)):je(o.render,Z({},a,o)),i},c=ie(e)?e():e;return c.then((function(e){return o&&s("success",o,e)})).catch((function(e){return a&&s("error",a,e)})),c},je.success=Ue(le.SUCCESS),je.info=Ue(le.INFO),je.error=Ue(le.ERROR),je.warn=je.warning=Ue(le.WARNING),je.dark=function(e,t){return Me(e,Fe(le.DEFAULT,Z({theme:"dark"},t)))},je.dismiss=function(e){return he.emit(1,e)},je.clearWaitingQueue=function(e){return void 0===e&&(e={}),he.emit(5,e)},je.isActive=function(e){var t=!1;return Re.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},je.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=Re.get(n||Ce);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=Z({},r,t,{toastId:t.toastId||e,updateId:De()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,Me(o,a)}}),0)},je.done=function(e){je.update(e,{progress:1})},je.onChange=function(e){return ie(e)&&he.on(4,e),function(){ie(e)&&he.off(4,e)}},je.configure=function(e){void 0===e&&(e={}),Pe=!0,Ae=e},je.POSITION=ce,je.TYPE=le,he.on(2,(function(e){Ce=e.containerId||e,Re.set(Ce,e),Oe.forEach((function(e){he.emit(0,e.content,e.options)})),Oe=[]})).on(3,(function(e){Re.delete(e.containerId||e),0===Re.size&&he.off(0).off(1).off(5),ue&&Ne&&document.body.removeChild(Ne)}));var qe=n(757),ze=n.n(qe);function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t,n){return t&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t){return Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ye(e,t)}function Xe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$e(e)}function Ze(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function et(e){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},et(e)}function tt(e,t){if(t&&("object"===et(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Je(e)}function nt(e){var t=Ze();return function(){var n,r=$e(e);if(t){var i=$e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tt(this,n)}}function rt(e,t,n){return rt=Ze()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ye(i,n.prototype),i},rt.apply(null,arguments)}function it(e){var t="function"===typeof Map?new Map:void 0;return it=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return rt(e,arguments,$e(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ye(n,e)},it(e)}var at=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(at(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ut=function(e){return function(e){var t=at(e);return ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},st=function(e){try{return ot.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ct(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ct(e[n],t[n]));return e}var lt=function(){function e(){var t=this;He(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ge(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ft(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ut(JSON.stringify({alg:"none",type:"JWT"})),ut(JSON.stringify(a)),""].join(".")}function ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function pt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function vt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function mt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function yt(){var e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gt(){return"object"===typeof indexedDB}var kt=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Je(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Je(a),wt.prototype.create),a}return Ge(n)}(it(Error)),wt=function(){function e(t,n,r){He(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ge(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?bt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new kt(n,a,t);return o}}]),e}();function bt(e,t){return e.replace(xt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var xt=/\{\$([^}]+)}/g;function _t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Et(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(It(u)&&It(s)){if(!Et(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function It(e){return null!==e&&"object"===typeof e}function Tt(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function St(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ct(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Nt(e,t){var n=new At(e,t);return n.subscribe.bind(n)}var At=function(){function e(t,n){var r=this;He(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ge(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Qe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Rt),void 0===r.error&&(r.error=Rt),void 0===r.complete&&(r.complete=Rt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Rt(){}function Ot(e){return e&&e._delegate?e._delegate:e}function Pt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||Pt(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Lt=function(){function e(t,n,r){He(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ge(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Mt="[DEFAULT]",Ft=function(){function e(t,n){He(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ge(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Mt})}catch(c){}var t,n=Qe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Be(qe.mark((function e(){var t;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Dt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Dt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Qe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(sx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Mt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(sx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt;return this.component?this.component.multipleInstances?e:Mt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ut,jt,Vt=function(){function e(t){He(this,e),this.name=t,this.providers=new Map}return Ge(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ft(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(jt||(jt={}));var qt,zt,Wt={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Ht=jt.INFO,Kt=(We(Ut={},jt.DEBUG,"log"),We(Ut,jt.VERBOSE,"log"),We(Ut,jt.INFO,"info"),We(Ut,jt.WARN,"warn"),We(Ut,jt.ERROR,"error"),Ut),Gt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Kt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Qt=function(){function e(t){He(this,e),this.name=t,this._logLevel=Ht,this._logHandler=Gt,this._userLogHandler=null,Bt.push(this)}return Ge(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in jt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Wt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.DEBUG].concat(t)),this._logHandler.apply(this,[this,jt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,jt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.INFO].concat(t)),this._logHandler.apply(this,[this,jt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.WARN].concat(t)),this._logHandler.apply(this,[this,jt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,jt.ERROR].concat(t)),this._logHandler.apply(this,[this,jt.ERROR].concat(t))}}]),e}();var Jt=function(){function e(t){He(this,e),this.container=t}return Ge(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Yt="@firebase/app",Xt="0.7.11",$t=new Qt("@firebase/app"),Zt="[DEFAULT]",en=(We(qt={},Yt,"fire-core"),We(qt,"@firebase/app-compat","fire-core-compat"),We(qt,"@firebase/analytics","fire-analytics"),We(qt,"@firebase/analytics-compat","fire-analytics-compat"),We(qt,"@firebase/app-check","fire-app-check"),We(qt,"@firebase/app-check-compat","fire-app-check-compat"),We(qt,"@firebase/auth","fire-auth"),We(qt,"@firebase/auth-compat","fire-auth-compat"),We(qt,"@firebase/database","fire-rtdb"),We(qt,"@firebase/database-compat","fire-rtdb-compat"),We(qt,"@firebase/functions","fire-fn"),We(qt,"@firebase/functions-compat","fire-fn-compat"),We(qt,"@firebase/installations","fire-iid"),We(qt,"@firebase/installations-compat","fire-iid-compat"),We(qt,"@firebase/messaging","fire-fcm"),We(qt,"@firebase/messaging-compat","fire-fcm-compat"),We(qt,"@firebase/performance","fire-perf"),We(qt,"@firebase/performance-compat","fire-perf-compat"),We(qt,"@firebase/remote-config","fire-rc"),We(qt,"@firebase/remote-config-compat","fire-rc-compat"),We(qt,"@firebase/storage","fire-gcs"),We(qt,"@firebase/storage-compat","fire-gcs-compat"),We(qt,"@firebase/firestore","fire-fst"),We(qt,"@firebase/firestore-compat","fire-fst-compat"),We(qt,"fire-js","fire-js"),We(qt,"firebase","fire-js-all"),qt),tn=new Map,nn=new Map;function rn(e,t){try{e.container.addComponent(t)}catch(n){$t.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function an(e,t){e.container.addOrOverwriteComponent(t)}function on(e){var t=e.name;if(nn.has(t))return $t.debug("There were multiple attempts to register component ".concat(t,".")),!1;nn.set(t,e);var n,r=Qe(tn.values());try{for(r.s();!(n=r.n()).done;){rn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function un(e,t){return e.container.getProvider(t)}function sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt;un(e,t).clearInstance(n)}function cn(){nn.clear()}var ln,fn,hn=(We(zt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),We(zt,"bad-app-name","Illegal App name: '{$appName}"),We(zt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),We(zt,"app-deleted","Firebase App named '{$appName}' already deleted"),We(zt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),We(zt,"invalid-log-argument","First argument to `onLog` must be null or a function."),zt),dn=new wt("app","Firebase",hn),pn=function(){function e(t,n,r){var i=this;He(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",(function(){return i}),"PUBLIC"))}return Ge(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw dn.create("app-deleted",{appName:this._name})}}]),e}(),vn="9.6.1";function mn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dn.create("bad-app-name",{appName:String(i)});var a=tn.get(i);if(a){if(Et(e,a.options)&&Et(r,a.config))return a;throw dn.create("duplicate-app",{appName:i})}var o,u=new Vt(i),s=Qe(nn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new pn(e,r,u);return tn.set(i,l),l}function yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=tn.get(e);if(!t)throw dn.create("no-app",{appName:e});return t}function gn(){return Array.from(tn.values())}function kn(e){return wn.apply(this,arguments)}function wn(){return(wn=Be(qe.mark((function e(t){var n;return qe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!tn.has(n)){e.next=6;break}return tn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t,n){var r,i=null!==(r=en[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void $t.warn(u.join(" "))}on(new Lt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function xn(e,t){if(null!==e&&"function"!==typeof e)throw dn.create("invalid-log-argument");!function(e,t){var n,r=Qe(Bt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Wt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:jt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function _n(e){var t;t=e,Bt.forEach((function(e){e.setLogLevel(t)}))}ln="",on(new Lt("platform-logger",(function(e){return new Jt(e)}),"PRIVATE")),bn(Yt,Xt,ln),bn(Yt,Xt,"esm2017"),bn("fire-js","");var En=function(){function e(t,n){var r=this;He(this,e),this._delegate=t,this.firebase=n,rn(t,new Lt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ge(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),kn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){rn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){an(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),In=(We(fn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),We(fn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),fn),Tn=new wt("app-compat","Firebase",In);var Sn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=mn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_t(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:bn,setLogLevel:_n,onLog:xn,apps:null,SDK_VERSION:vn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(on(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Tn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ct(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_t(n,e=e||Zt))throw Tn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(En);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ct(n,e)},createSubscribe:Nt,ErrorFactory:wt,deepExtend:ct}),n}(),Cn=new Qt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Cn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Nn=self.firebase.SDK_VERSION;Nn&&Nn.indexOf("LITE")>=0&&Cn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var An=Sn;!function(e){bn("@firebase/app-compat","0.1.12",e)}();function Rn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$e(e)););return e}function On(){return On="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Rn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},On.apply(this,arguments)}An.registerVersion("firebase","9.6.1","app-compat");function Pn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Dn;Object.create;var Ln="facebook.com",Mn="github.com",Fn="google.com",Un="password",jn="twitter.com",Vn="EMAIL_SIGNIN",Bn="PASSWORD_RESET",qn="RECOVER_EMAIL",zn="REVERT_SECOND_FACTOR_ADDITION",Wn="VERIFY_AND_CHANGE_EMAIL",Hn="VERIFY_EMAIL";function Kn(){return We({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Gn=function(){var e;return We(e={},"admin-restricted-operation","This operation is restricted to administrators only."),We(e,"argument-error",""),We(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),We(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),We(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),We(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),We(e,"cordova-not-ready","Cordova framework is not ready."),We(e,"cors-unsupported","This browser is not supported."),We(e,"credential-already-in-use","This credential is already associated with a different user account."),We(e,"custom-token-mismatch","The custom token corresponds to a different audience."),We(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),We(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),We(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),We(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),We(e,"email-already-in-use","The email address is already in use by another account."),We(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),We(e,"expired-action-code","The action code has expired."),We(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),We(e,"internal-error","An internal AuthError has occurred."),We(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),We(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),We(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),We(e,"invalid-auth-event","An internal AuthError has occurred."),We(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),We(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),We(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),We(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),We(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),We(e,"invalid-email","The email address is badly formatted."),We(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),We(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),We(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),We(e,"invalid-credential","The supplied auth credential is malformed or has expired."),We(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),We(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),We(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),We(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),We(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),We(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),We(e,"wrong-password","The password is invalid or the user does not have a password."),We(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),We(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),We(e,"invalid-provider-id","The specified provider ID is invalid."),We(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),We(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),We(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),We(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),We(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),We(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),We(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),We(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),We(e,"missing-continue-uri","A continue URL must be provided in the request."),We(e,"missing-iframe-start","An internal AuthError has occurred."),We(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),We(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),We(e,"missing-multi-factor-info","No second factor identifier is provided."),We(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),We(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),We(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),We(e,"app-deleted","This instance of FirebaseApp has been deleted."),We(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),We(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),We(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),We(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),We(e,"no-auth-event","An internal AuthError has occurred."),We(e,"no-such-provider","User was not linked to an account with the given provider."),We(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),We(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),We(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),We(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),We(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),We(e,"provider-already-linked","User can only be linked to one identity for the given provider."),We(e,"quota-exceeded","The project's quota for this operation has been exceeded."),We(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),We(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),We(e,"rejected-credential","The request contains malformed or mismatching credentials."),We(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),We(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),We(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),We(e,"timeout","The operation has timed out."),We(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),We(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),We(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),We(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),We(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),We(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),We(e,"unverified-email","The operation requires a verified email."),We(e,"user-cancelled","The user did not grant your application the permissions it requested."),We(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),We(e,"user-disabled","The user account has been disabled by an administrator."),We(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),We(e,"user-signed-out",""),We(e,"weak-password","The password must be 6 characters long or more."),We(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),We(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Qn=Kn,Jn=new wt("auth","Firebase",Kn()),Yn=new Qt("@firebase/auth");function Xn(e){if(Yn.logLevel<=jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Yn.error.apply(Yn,["Auth (".concat(vn,"): ").concat(e)].concat(n))}}function $n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw nr.apply(void 0,[e].concat(n))}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nr.apply(void 0,[e].concat(n))}function er(e,t,n){var r=Object.assign(Object.assign({},Qn()),We({},t,n));return new wt("auth","Firebase",r).create(t,{appName:e.name})}function tr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$n(e,"argument-error"),er(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Dt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Dt(o)))}return Jn.create.apply(Jn,[e].concat(n))}function rr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw nr.apply(void 0,[t].concat(r))}}function ir(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Xn(t),new Error(t)}function ar(e,t){e||ir(t)}var or=new Map;function ur(e){ar(e instanceof Function,"Expected a class definition");var t=or.get(e);return t?(ar(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,or.set(e,t),t)}function sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function cr(){return"http:"===lr()||"https:"===lr()}function lr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var fr=function(){function e(t,n){He(this,e),this.shortDelay=t,this.longDelay=n,ar(n>t,"Short delay should be less than long delay!"),this.isMobile=dt()||mt()}return Ge(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(cr()||vt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function hr(e,t){ar(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var dr=function(){function e(){He(this,e)}return Ge(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),pr=(We(Dn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),We(Dn,"MISSING_CUSTOM_TOKEN","internal-error"),We(Dn,"INVALID_IDENTIFIER","invalid-email"),We(Dn,"MISSING_CONTINUE_URI","internal-error"),We(Dn,"INVALID_PASSWORD","wrong-password"),We(Dn,"MISSING_PASSWORD","internal-error"),We(Dn,"EMAIL_EXISTS","email-already-in-use"),We(Dn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),We(Dn,"INVALID_IDP_RESPONSE","invalid-credential"),We(Dn,"INVALID_PENDING_TOKEN","invalid-credential"),We(Dn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),We(Dn,"MISSING_REQ_TYPE","internal-error"),We(Dn,"EMAIL_NOT_FOUND","user-not-found"),We(Dn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),We(Dn,"EXPIRED_OOB_CODE","expired-action-code"),We(Dn,"INVALID_OOB_CODE","invalid-action-code"),We(Dn,"MISSING_OOB_CODE","internal-error"),We(Dn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),We(Dn,"INVALID_ID_TOKEN","invalid-user-token"),We(Dn,"TOKEN_EXPIRED","user-token-expired"),We(Dn,"USER_NOT_FOUND","user-token-expired"),We(Dn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),We(Dn,"INVALID_CODE","invalid-verification-code"),We(Dn,"INVALID_SESSION_INFO","invalid-verification-id"),We(Dn,"INVALID_TEMPORARY_PROOF","invalid-credential"),We(Dn,"MISSING_SESSION_INFO","missing-verification-id"),We(Dn,"SESSION_EXPIRED","code-expired"),We(Dn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),We(Dn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),We(Dn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),We(Dn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),We(Dn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),We(Dn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),We(Dn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),We(Dn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),We(Dn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),We(Dn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),We(Dn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Dn),vr=new fr(3e4,6e4);function mr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function yr(e,t,n,r){return gr.apply(this,arguments)}function gr(){return gr=Be(ze().mark((function e(t,n,r,i){var a,o=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",kr(t,a,Be(ze().mark((function e(){var a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Tt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",dr.fetch()(_r(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}function kr(e,t,n){return wr.apply(this,arguments)}function wr(){return wr=Be(ze().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},pr),n),e.prev=2,a=new Er(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Ir(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Ir(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Ir(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw er(t,p,d);case 30:$n(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof kt)){e.next=37;break}throw e.t0;case 37:$n(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),wr.apply(this,arguments)}function br(e,t,n,r){return xr.apply(this,arguments)}function xr(){return xr=Be(ze().mark((function e(t,n,r,i){var a,o,u=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,yr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&$n(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function _r(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?hr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Er=function(){function e(t){var n=this;He(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Zn(n.auth,"timeout"))}),vr.get())}))}return Ge(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Ir(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Zn(e,t,r);return i.customData._tokenResponse=n,i}function Tr(e,t){return Sr.apply(this,arguments)}function Sr(){return Sr=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Sr.apply(this,arguments)}function Cr(e,t){return Nr.apply(this,arguments)}function Nr(){return Nr=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Nr.apply(this,arguments)}function Ar(e,t){return Rr.apply(this,arguments)}function Rr(){return Rr=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Or(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Pr(){return Pr=Be(ze().mark((function e(t){var n,r,i,a,o,u,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ot(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,rr((a=Lr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Or(Dr(a.auth_time)),issuedAtTime:Or(Dr(a.iat)),expirationTime:Or(Dr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Dr(e){return 1e3*Number(e)}function Lr(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Xn("JWT malformed, contained fewer than 3 sections"),null;try{var a=st(r);return a?JSON.parse(a):(Xn("Failed to decode base64 JWT payload"),null)}catch(o){return Xn("Caught error parsing JWT payload as JSON",o),null}}function Mr(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=Be(ze().mark((function e(t,n){var r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof kt&&Ur(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Fr.apply(this,arguments)}function Ur(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var jr=function(){function e(t){He(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ge(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vr=function(){function e(t,n){He(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ge(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Br(e){return qr.apply(this,arguments)}function qr(){return qr=Be(ze().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Mr(t,Ar(r,{idToken:i}));case 6:rr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Hr(o.providerUserInfo):[],s=Wr(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Vr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function zr(){return(zr=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ot(t),e.next=3,Br(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Dt(n),Dt(t))}function Hr(e){return e.map((function(e){var t=e.providerId,n=Pn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Kr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kr(t,{},Be(ze().mark((function e(){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=_r(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",dr.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}var Qr=function(){function e(){He(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ge(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){rr(e.idToken,"internal-error"),rr("undefined"!==typeof e.idToken,"internal-error"),rr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Lr(e);return rr(t,"internal-error"),rr("undefined"!==typeof t.exp,"internal-error"),rr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Be(ze().mark((function e(t){var n,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],rr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ir("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(rr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(rr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(rr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Jr(e,t){rr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Yr=function(){function e(t){He(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Pn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Vr(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ge(e,[{key:"getIdToken",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(rr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Pr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return zr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(rr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){rr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Be(ze().mark((function e(t){var n,r,i=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Br(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Mr(this,Tr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;rr(k&&_,t,"internal-error");var E=Qr.fromJSON(this.name,_);rr("string"===typeof k,t,"internal-error"),Jr(f,t.name),Jr(h,t.name),rr("boolean"===typeof w,t,"internal-error"),rr("boolean"===typeof b,t,"internal-error"),Jr(d,t.name),Jr(p,t.name),Jr(v,t.name),Jr(m,t.name),Jr(y,t.name),Jr(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Be(ze().mark((function t(n,r){var i,a,o,u=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Qr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Br(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Xr=function(){function e(){He(this,e),this.type="NONE",this.storage={}}return Ge(e,[{key:"_isAvailable",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Xr.type="NONE";var $r=Xr;function Zr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ei=function(){function e(t,n,r){He(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Zr(this.userKey,a.apiKey,o),this.fullPersistenceKey=Zr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ge(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Yr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Be(ze().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ur($r),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ur($r),u=Zr(i,n.config.apiKey,n.name),s=null,c=Qe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Yr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ti(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ai(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ni(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ui(t))return"Blackberry";if(si(t))return"Webos";if(ri(t))return"Safari";if((t.includes("chrome/")||ii(t))&&!t.includes("edge/"))return"Chrome";if(oi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/firefox\//i.test(e)}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/crios\//i.test(e)}function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iemobile/i.test(e)}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/android/i.test(e)}function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/blackberry/i.test(e)}function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/webos/i.test(e)}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iphone|ipad|ipod/i.test(e)}function li(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return ci(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function fi(){return yt()&&10===document.documentMode}function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return ci(e)||oi(e)||si(e)||ui(e)||/windows phone/i.test(e)||ai(e)}function di(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ti(ht());break;case"Worker":t="".concat(ti(ht()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vn,"/").concat(r)}var pi=function(){function e(t,n){He(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mi(this),this.idTokenSubscription=new mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Ge(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(Be(ze().mark((function r(){var i,a;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ei.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Be(ze().mark((function e(t){var n,r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return rr(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Br(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ot(t):null)&&rr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Be(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&rr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Be(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ur(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new wt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return rr(n=t&&ur(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ei.create(this,[ur(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Be(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return rr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return rr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=di(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=We({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vi(e){return Ot(e)}var mi=function(){function e(t){var n=this;He(this,e),this.auth=t,this.observer=null,this.addObserver=Nt((function(e){return n.observer=e}))}return Ge(e,[{key:"next",get:function(){return rr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function yi(e,t,n){var r=vi(e);rr(r._canInitEmulator,r,"emulator-config-failed"),rr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=gi(t),o=function(e){var t=gi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ki(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:ki(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function gi(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ki(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var wi=function(){function e(t,n){He(this,e),this.providerId=t,this.signInMethod=n}return Ge(e,[{key:"toJSON",value:function(){return ir("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ir("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ir("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ir("not implemented")}}]),e}();function bi(e,t){return xi.apply(this,arguments)}function xi(){return xi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:resetPassword",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function _i(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ii(e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Si(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signInWithPassword",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ni(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:sendOobCode",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}function Ri(e,t){return Oi.apply(this,arguments)}function Oi(){return Oi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,n));case 1:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}function Pi(e,t){return Di.apply(this,arguments)}function Di(){return Di=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,n));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,n));case 1:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ni(t,n));case 1:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function ji(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signInWithEmailLink",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function Bi(e,t){return qi.apply(this,arguments)}function qi(){return qi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signInWithEmailLink",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}var zi=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return He(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ge(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Si(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ji(t,{email:this._email,oobCode:this._password}));case 5:$n(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_i(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Bi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:$n(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(wi);function Wi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signInWithIdp",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}var Ki=function(e){Xe(n,e);var t=nt(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ge(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Wi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Wi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Wi(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Pn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(wi);function Gi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:sendVerificationCode",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Ji(){return Ji=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signInWithPhoneNumber",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Yi(){return Yi=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,br(t,"POST","/v1/accounts:signInWithPhoneNumber",mr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Ir(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Yi.apply(this,arguments)}var Xi=We({},"USER_NOT_FOUND","user-not-found");function $i(){return $i=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",br(t,"POST","/v1/accounts:signInWithPhoneNumber",mr(t,r),Xi));case 2:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var Zi=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ge(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ji.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Yi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $i.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(wi);var ea=function(){function e(t){var n,r,i,a,o,u;He(this,e);var s=St(Ct(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);rr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ge(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=St(Ct(e)).link,n=t?St(Ct(t)).deep_link_id:null,r=St(Ct(e)).deep_link_id;return(r?St(Ct(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(sx){return null}}}]),e}();var ta=function(){function e(){He(this,e),this.providerId=e.PROVIDER_ID}return Ge(e,null,[{key:"credential",value:function(e,t){return zi._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ea.parseLink(t);return rr(n,"argument-error"),zi._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ta.PROVIDER_ID="password",ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var na=function(){function e(t){He(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ge(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ra=function(e){Xe(n,e);var t=nt(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ge(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Dt(this.scopes)}}]),n}(na),ia=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return rr(e.idToken||e.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return rr("providerId"in t&&"signInMethod"in t,"argument-error"),Ki._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(ra),aa=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.call(this,"facebook.com")}return Ge(n,null,[{key:"credential",value:function(e){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sx){return null}}}]),n}(ra);aa.FACEBOOK_SIGN_IN_METHOD="facebook.com",aa.PROVIDER_ID="facebook.com";var oa=function(e){Xe(n,e);var t=nt(n);function n(){var e;return He(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ge(n,null,[{key:"credential",value:function(e,t){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(sx){return null}}}]),n}(ra);oa.GOOGLE_SIGN_IN_METHOD="google.com",oa.PROVIDER_ID="google.com";var ua=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.call(this,"github.com")}return Ge(n,null,[{key:"credential",value:function(e){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(sx){return null}}}]),n}(ra);ua.GITHUB_SIGN_IN_METHOD="github.com",ua.PROVIDER_ID="github.com";var sa=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ge(n,[{key:"_getIdTokenResponse",value:function(e){return Wi(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Wi(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Wi(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wi),ca=function(e){Xe(n,e);var t=nt(n);function n(e){return He(this,n),rr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ge(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=sa.fromJSON(e);return rr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return sa._create(r,n)}catch(i){return null}}}]),n}(na),la=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.call(this,"twitter.com")}return Ge(n,null,[{key:"credential",value:function(e,t){return Ki._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(sx){return null}}}]),n}(ra);function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signUp",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}la.TWITTER_SIGN_IN_METHOD="twitter.com",la.PROVIDER_ID="twitter.com";var da=function(){function e(t){He(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ge(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Be(ze().mark((function t(n,r,i){var a,o,u,s,c=arguments;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Yr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=pa(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Be(ze().mark((function t(n,r,i){var a;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=pa(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function pa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function va(){return va=Be(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new da({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,fa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,da._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}var ma=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a){var o,u;return He(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Je(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ge(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(kt);function ya(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ma._fromErrorAndOperation(e,n,t,r);throw n}))}function ga(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ka(e,t){return wa.apply(this,arguments)}function wa(){return wa=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,_a(!0,r,n);case 3:return e.t0=Cr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ga(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function ba(e,t){return xa.apply(this,arguments)}function xa(){return xa=Be(ze().mark((function e(t,n){var r,i,a=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Mr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",da._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function _a(e,t,n){return Ea.apply(this,arguments)}function Ea(){return(Ea=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(n);case 2:i=ga(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",rr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ia(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=Be(ze().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Mr(t,ya(i,a,n,t),r);case 6:return rr((o=e.sent).idToken,i,"internal-error"),rr(u=Lr(o.idToken),i,"internal-error"),s=u.sub,rr(t.uid===s,i,"user-mismatch"),e.abrupt("return",da._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&$n(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Ta.apply(this,arguments)}function Sa(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=Be(ze().mark((function e(t,n){var r,i,a,o,u=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,ya(t,i,n);case 4:return a=e.sent,e.next=7,da._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(vi(t),n));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Ra(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,_a(!1,r,n.providerId);case 3:return e.abrupt("return",ba(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pa(e,t){return Da.apply(this,arguments)}function Da(){return(Da=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ia(Ot(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t){return Ma.apply(this,arguments)}function Ma(){return Ma=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",br(t,"POST","/v1/accounts:signInWithCustomToken",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function Fa(){return Fa=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vi(t),e.next=3,La(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,da._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}var Ua=function(){function e(t,n){He(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ge(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ja._fromServerResponse(e,t):$n(e,"internal-error")}}]),e}(),ja=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ge(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ua);function Va(e,t,n){var r;rr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),rr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(rr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(rr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ba(){return Ba=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),a={requestType:"PASSWORD_RESET",email:n},r&&Va(i,a,r),e.next=5,Pi(i,a);case 5:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function qa(){return qa=Be(ze().mark((function e(t,n,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(Ot(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}function za(){return za=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii(Ot(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Wa(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,bi(r,{oobCode:n});case 3:i=e.sent,rr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return rr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:rr(i.mfaInfo,r,"internal-error");case 13:rr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ua._fromServerResponse(vi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Ka(){return Ka=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa(Ot(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e,t,n){return Qa.apply(this,arguments)}function Qa(){return Qa=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,fa(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,da._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function Ja(){return Ja=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),a={requestType:"EMAIL_SIGNIN",email:n},rr(r.handleCodeInApp,i,"argument-error"),r&&Va(i,a,r),e.next=6,Li(i,a);case 6:case"end":return e.stop()}}),e)}))),Ja.apply(this,arguments)}function Ya(){return Ya=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),rr((a=ta.credentialWithLink(n,r||sr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Na(i,a));case 4:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}function Xa(e,t){return $a.apply(this,arguments)}function $a(){return $a=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:createAuthUri",mr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}function Za(){return Za=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cr()?sr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Xa(Ot(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function eo(){return(eo=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Va(r.auth,a,n),e.next=8,Ri(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function to(){return(to=Be(ze().mark((function e(t,n,r){var i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Va(i.auth,o,r),e.next=8,Fi(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function no(e,t){return ro.apply(this,arguments)}function ro(){return ro=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(){return(io=Be(ze().mark((function e(t,n){var r,i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ot(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Mr(a,no(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ao(e,t,n){return oo.apply(this,arguments)}function oo(){return oo=Be(ze().mark((function e(t,n,r){var i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Mr(t,_i(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}var uo=Ge((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};He(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),so=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a){var o;return He(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ge(n)}(uo),co=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"facebook.com",r)}return Ge(n)}(uo),lo=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ge(n)}(so),fo=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"google.com",r)}return Ge(n)}(uo),ho=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){return He(this,n),t.call(this,e,"twitter.com",r,i)}return Ge(n)}(so);function po(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Lr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new uo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new co(a,i);case"github.com":return new lo(a,i);case"google.com":return new fo(a,i);case"twitter.com":return new ho(a,i,e.screenName||null);case"custom":case"anonymous":return new uo(a,null);default:return new uo(a,r,i)}}(n)}var vo=function(){function e(t,n){He(this,e),this.type=t,this.credential=n}return Ge(e,[{key:"toJSON",value:function(){return{multiFactorSession:We({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),mo=function(){function e(t,n,r){He(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ge(e,[{key:"resolveSignIn",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=vi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ua._fromServerResponse(r,e)}));rr(i.mfaPendingCredential,r,"internal-error");var o=vo._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Be(ze().mark((function e(t){var a,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,da._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return rr(n.user,r,"internal-error"),e.abrupt("return",da._forOperation(n.user,n.operationType,u));case 17:$n(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function yo(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:start",mr(e,t))}function go(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",mr(e,t))}var ko=function(){function e(t){var n=this;He(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ua._fromServerResponse(t.auth,e)})))}))}return Ge(e,[{key:"getSession",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=vo,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Mr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Be(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Mr(this.user,go(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),wo=new WeakMap;var bo="__sak",xo=function(){function e(t,n){He(this,e),this.storageRetriever=t,this.type=n}return Ge(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(bo,"1"),this.storage.removeItem(bo),Promise.resolve(!0)):Promise.resolve(!1)}catch(sx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _o=function(e){Xe(n,e);var t=nt(n);function n(){var e;return He(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ht();return ri(e)||ci(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=hi(),e._shouldAllowMigration=!0,e}return Ge(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);fi()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Be(ze().mark((function e(t,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On($e(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Be(ze().mark((function e(t){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On($e(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On($e(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(xo);_o.type="LOCAL";var Eo=_o,Io=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ge(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(xo);Io.type="SESSION";var To=Io;function So(e){return Promise.all(e.map(function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Co=function(){function e(t){He(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ge(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Be(ze().mark((function e(t){var n,r,i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,So(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function No(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Co.receivers=[];var Ao=function(){function e(t){He(this,e),this.target=t,this.handlers=new Set}return Ge(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Be(ze().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=No("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ro(){return window}function Oo(){return"undefined"!==typeof Ro().WorkerGlobalScope&&"function"===typeof Ro().importScripts}function Po(){return Do.apply(this,arguments)}function Do(){return(Do=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Lo(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Mo="firebaseLocalStorageDb",Fo="firebaseLocalStorage",Uo="fbase_key",jo=function(){function e(t){He(this,e),this.request=t}return Ge(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Vo(e,t){return e.transaction([Fo],t?"readwrite":"readonly").objectStore(Fo)}function Bo(){var e=indexedDB.deleteDatabase(Mo);return new jo(e).toPromise()}function qo(){var e=indexedDB.open(Mo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Fo,{keyPath:Uo})}catch(r){n(r)}})),e.addEventListener("success",Be(ze().mark((function n(){var r;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Fo)){n.next=12;break}return r.close(),n.next=5,Bo();case 5:return n.t0=t,n.next=8,qo();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function zo(e,t,n){return Wo.apply(this,arguments)}function Wo(){return Wo=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Vo(t,!0).put((We(i={},Uo,n),We(i,"value",r),i)),e.abrupt("return",new jo(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ho(e,t){return Ko.apply(this,arguments)}function Ko(){return Ko=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vo(t,!1).get(n),e.next=3,new jo(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Go(e,t){var n=Vo(e,!0).delete(t);return new jo(n).toPromise()}var Qo=function(){function e(){He(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ge(e,[{key:"_openDb",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,qo();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Be(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Co._getInstance(Oo()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Be(ze().mark((function e(n,r){var i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Be(ze().mark((function e(){var t,n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Po();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ao(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Lo()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,qo();case 5:return t=e.sent,e.next=8,zo(t,bo,"1");case 8:return e.next=10,Go(t,bo);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Be(ze().mark((function e(t,n){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return zo(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ho(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Be(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Go(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Be(ze().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Vo(e,!1).getAll();return new jo(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Qe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Qo.type="LOCAL";var Jo=Qo;function Yo(e,t){return yr(e,"POST","/v2/accounts/mfaSignIn:start",mr(e,t))}function Xo(e){return $o.apply(this,arguments)}function $o(){return $o=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Zo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Zn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function eu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var tu=1e12,nu=function(){function e(t){He(this,e),this.auth=t,this.counter=tu,this._widgets=new Map}return Ge(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ru(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||tu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||tu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||tu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ru=function(){function e(t,n,r){var i=this;He(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;rr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ge(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var iu=eu("rcb"),au=new fr(3e4,6e4),ou="https://www.google.com/recaptcha/api.js?",uu=function(){function e(){He(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ro().grecaptcha}return Ge(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return rr(su(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ro().grecaptcha):new Promise((function(r,i){var a=Ro().setTimeout((function(){i(Zn(e,"network-request-failed"))}),au.get());Ro()[iu]=function(){Ro().clearTimeout(a),delete Ro()[iu];var o=Ro().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Zn(e,"internal-error"))},Zo("".concat(ou,"?").concat(Tt({onload:iu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Zn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ro().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function su(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var cu=function(){function e(){He(this,e)}return Ge(e,[{key:"load",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new nu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),lu="recaptcha",fu={theme:"light",type:"image"},hu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},fu),r=arguments.length>2?arguments[2]:void 0;He(this,e),this.parameters=n,this.type=lu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vi(r),this.isInvisible="invisible"===this.parameters.size,rr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;rr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cu:new uu,this.validateStartingState()}return Ge(e,[{key:"verify",value:function(){var e=Be(ze().mark((function e(){var t,n,r,i=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){rr(!this.parameters.sitekey,this.auth,"argument-error"),rr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),rr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ro()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){rr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Be(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rr(cr()&&!Oo(),this.auth,"internal-error"),e.next=3,du();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Xo(this.auth);case 8:rr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return rr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function du(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var pu=function(){function e(t,n){He(this,e),this.verificationId=t,this.onConfirmation=n}return Ge(e,[{key:"confirm",value:function(e){var t=Zi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function vu(){return vu=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),e.next=3,ku(i,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new pu(a,(function(e){return Na(i,e)})));case 5:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(e,t,n){return yu.apply(this,arguments)}function yu(){return(yu=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,_a(!1,i,"phone");case 3:return e.next=5,ku(i.auth,n,Ot(r));case 5:return a=e.sent,e.abrupt("return",new pu(a,(function(e){return Ra(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(){return(gu=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,ku(i.auth,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new pu(a,(function(e){return Pa(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ku(e,t,n){return wu.apply(this,arguments)}function wu(){return wu=Be(ze().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,rr("string"===typeof a,t,"argument-error"),rr(r.type===lu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return rr("enroll"===u.type,t,"internal-error"),e.next=13,yo(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return rr("signin"===u.type,t,"internal-error"),rr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Yo(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Gi(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),wu.apply(this,arguments)}function bu(){return(bu=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(Ot(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xu=function(){function e(t){He(this,e),this.providerId=e.PROVIDER_ID,this.auth=vi(t)}return Ge(e,[{key:"verifyPhoneNumber",value:function(e,t){return ku(this.auth,e,Ot(t))}}],[{key:"credential",value:function(e,t){return Zi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Zi._fromTokenResponse(n,r):null}}]),e}();function _u(e,t){return t?ur(t):(rr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xu.PROVIDER_ID="phone",xu.PHONE_SIGN_IN_METHOD="phone";var Eu=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ge(n,[{key:"_getIdTokenResponse",value:function(e){return Wi(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Wi(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Wi(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(wi);function Iu(e){return Sa(e.auth,new Eu(e),e.bypassAuthState)}function Tu(e){var t=e.auth,n=e.user;return rr(n,t,"internal-error"),Ia(n,new Eu(e),e.bypassAuthState)}function Su(e){return Cu.apply(this,arguments)}function Cu(){return Cu=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,rr(r=t.user,n,"internal-error"),e.abrupt("return",ba(r,new Eu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}var Nu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];He(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ge(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Be(ze().mark((function t(n,r){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Be(ze().mark((function e(t){var n,r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Iu;case"linkViaPopup":case"linkViaRedirect":return Su;case"reauthViaPopup":case"reauthViaRedirect":return Tu;default:$n(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Au=new fr(2e3,1e4);function Ru(e,t,n){return Ou.apply(this,arguments)}function Ou(){return Ou=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),tr(t,n,na),a=_u(i,r),o=new Mu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Pu(){return(Pu=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tr((i=Ot(t)).auth,n,na),a=_u(i.auth,r),o=new Mu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t,n){return Lu.apply(this,arguments)}function Lu(){return(Lu=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tr((i=Ot(t)).auth,n,na),a=_u(i.auth,r),o=new Mu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mu=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a,o){var u;return He(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Je(u),u}return Ge(n,[{key:"executeNotNull",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return rr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Be(ze().mark((function e(){var t,n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ar(1===this.filter.length,"Popup operations only handle one event"),t=No(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Zn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Zn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Zn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Au.get())}()}}]),n}(Nu);Mu.currentPopupAction=null;var Fu=new Map,Uu=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return He(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ge(n,[{key:"execute",value:function(){var e=Be(ze().mark((function e(){var t,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Fu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,ju(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,On($e(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Fu.set(this.auth._key(),t);case 21:return this.bypassAuthState||Fu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Be(ze().mark((function e(t){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",On($e(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",On($e(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Nu);function ju(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(n),i=zu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return qu=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zu(t)._set(Wu(n),"true"));case 1:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function zu(e){return ur(e._redirectPersistence)}function Wu(e){return Zr("pendingRedirect",e.config.apiKey,e.name)}function Hu(e,t,n){return function(e,t,n){return Ku.apply(this,arguments)}(e,t,n)}function Ku(){return Ku=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vi(t),tr(t,n,na),a=_u(i,r),e.next=5,Bu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Gu(e,t,n){return function(e,t,n){return Qu.apply(this,arguments)}(e,t,n)}function Qu(){return(Qu=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tr((i=Ot(t)).auth,n,na),a=_u(i.auth,r),e.next=5,Bu(a,i.auth);case 5:return e.next=7,ts(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t,n){return function(e,t,n){return Yu.apply(this,arguments)}(e,t,n)}function Yu(){return(Yu=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tr((i=Ot(t)).auth,n,na),a=_u(i.auth,r),e.next=5,_a(!1,i,n.providerId);case 5:return e.next=7,Bu(a,i.auth);case 7:return e.next=9,ts(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(t)._initializationPromise;case 2:return e.abrupt("return",Zu(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return es=Be(ze().mark((function e(t,n){var r,i,a,o,u,s=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=vi(t),a=_u(i,n),o=new Uu(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e){return ns.apply(this,arguments)}function ns(){return(ns=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=No("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rs=function(){function e(t){He(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ge(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!as(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Zn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(is(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(is(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function is(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function as(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function os(e){return us.apply(this,arguments)}function us(){return us=Be(ze().mark((function e(t){var n,r=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",yr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}var ss=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cs=/^https?/;function ls(){return ls=Be(ze().mark((function e(t){var n,r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,os(t);case 4:n=e.sent,r=n.authorizedDomains,i=Qe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!fs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:$n(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ls.apply(this,arguments)}function fs(e){var t=sr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!cs.test(r))return!1;if(ss.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var hs=new fr(3e4,6e4);function ds(){var e=Ro().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Dt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ps=null;function vs(e){return ps=ps||function(e){return new Promise((function(t,n){var r,i,a;function o(){ds(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ds(),n(Zn(e,"network-request-failed"))},timeout:hs.get()})}if(null===(i=null===(r=Ro().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ro().gapi)||void 0===a?void 0:a.load)){var u=eu("iframefcb");return Ro()[u]=function(){gapi.load?o():n(Zn(e,"network-request-failed"))},Zo("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ps=null,e}))}(e),ps}var ms=new fr(5e3,15e3),ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ks(e){var t=e.config;rr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?hr(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:vn},i=gs.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Tt(r).slice(1))}function ws(e){return bs.apply(this,arguments)}function bs(){return bs=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vs(t);case 2:return n=e.sent,rr(r=Ro().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ks(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ys,dontclear:!0},(function(e){return new Promise(function(){var n=Be(ze().mark((function n(r,i){var a,o,u;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ro().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Zn(t,"network-request-failed"),o=Ro().setTimeout((function(){i(a)}),ms.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}var xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_s="_blank",Es="http://localhost",Is=function(){function e(t){He(this,e),this.window=t,this.associatedEvent=null}return Ge(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ts(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},xs),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ht().toLowerCase();n&&(u=ii(l)?_s:n),ni(l)&&(t=t||Es,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(li(l)&&"_self"!==u)return Ss(t||"",u),new Is(null);var h=window.open(t||"",u,f);rr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Is(h)}function Ss(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Cs="__/auth/handler",Ns="emulator/auth/handler";function As(e,t,n,r,i,a){rr(e.config.authDomain,e,"auth-domain-config-required"),rr(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vn,eventId:i};if(t instanceof na){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof ra){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Cs);return hr(t,Ns)}(e),"?").concat(Tt(p).slice(1))}var Rs="webStorageSupport",Os=function(){function e(){He(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=To,this._completeRedirectFn=Zu}return Ge(e,[{key:"_openPopup",value:function(){var e=Be(ze().mark((function e(t,n,r,i){var a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ar(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=As(t,n,r,sr(),i),e.abrupt("return",Ts(t,o,No()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Be(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=As(t,n,r,sr(),i),Ro().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ar(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ws(t);case 2:return n=e.sent,r=new rs(t),n.register("authEvent",(function(e){return rr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Rs,{type:Rs},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),$n(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ls.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return hi()||ri()||ci()}}]),e}(),Ps=Os,Ds=function(){function e(t){He(this,e),this.factorId=t}return Ge(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ir("unexpected MultiFactorSessionType")}}}]),e}(),Ls=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this,"phone")).credential=e,r}return Ge(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:finalize",mr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return yr(e,"POST","/v2/accounts/mfaSignIn:finalize",mr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ds),Ms=function(){function e(){He(this,e)}return Ge(e,null,[{key:"assertion",value:function(e){return Ls._fromCredential(e)}}]),e}();Ms.FACTOR_ID="phone";var Fs,Us="@firebase/auth",js="0.19.4",Vs=function(){function e(t){He(this,e),this.auth=t,this.internalListeners=new Map}return Ge(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){rr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Bs(){return window}Fs="Browser",on(new Lt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){rr(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),rr(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Fs,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:di(Fs)},r=new pi(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ur);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),on(new Lt("auth-internal",(function(e){return function(e){return new Vs(e)}(vi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),bn(Us,js,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Fs)),bn(Us,js,"esm2017");function qs(e,t,n){return zs.apply(this,arguments)}function zs(){return zs=Be(ze().mark((function e(t,n,r){var i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bs(),o=a.BuildInfo,ar(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Js(n.sessionId);case 4:return u=e.sent,s={},ci()?s.ibi=o.packageName:oi()?s.apn=o.packageName:$n(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",As(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),zs.apply(this,arguments)}function Ws(){return Ws=Be(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bs(),r=n.BuildInfo,i={},ci()?i.iosBundleId=r.packageName:oi()?i.androidPackageName=r.packageName:$n(t,"operation-not-supported-in-this-environment"),e.next=5,os(t,i);case 5:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}function Hs(e){var t=Bs().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Ks(e,t,n){return Gs.apply(this,arguments)}function Gs(){return Gs=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bs(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Zn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),oi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Gs.apply(this,arguments)}function Qs(e){var t,n,r,i,a,o,u,s,c,l,f=Bs();rr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),rr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),rr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rr("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),rr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Js(e){return Ys.apply(this,arguments)}function Ys(){return(Ys=Be(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xs(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xs(e){if(ar(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var $s=function(e){Xe(n,e);var t=nt(n);function n(){var e;return He(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ge(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),On($e(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(rs);function Zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:ic(),postBody:null,tenantId:e.tenantId,error:Zn(e,"no-auth-event")}}function ec(e,t){return ac()._set(oc(e),t)}function tc(e){return nc.apply(this,arguments)}function nc(){return nc=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac()._get(oc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ac()._remove(oc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){var n,r,i=function(e){var t=uc(e),n=t.link?decodeURIComponent(t.link):void 0,r=uc(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return uc(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=uc(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Zn(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ic(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ac(){return ur(Eo)}function oc(e){return Zr("authEvent",e.config.apiKey,e.name)}function uc(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||Pt(t)||o(t)||u();r[0];return St(r.slice(1).join("?"))}var sc=function(){function e(){He(this,e),this._redirectPersistence=To,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zu}return Ge(e,[{key:"_initialize",value:function(){var e=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new $s(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){$n(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Be(ze().mark((function e(t,n,r,i){var a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qs(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Fu.clear(),e.next=10,this._originValidation(t);case 10:return o=Zs(t,r,i),e.next=13,ec(t,o);case 13:return e.next=15,qs(t,o,n);case 15:return u=e.sent,e.next=18,Hs(u);case 18:return s=e.sent,e.abrupt("return",Ks(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ws.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Bs(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Be(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tc(e);case 2:t.onEvent(lc());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Be(ze().mark((function n(r){var i,a;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,tc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=rc(i,r.url)),t.onEvent(a||lc());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Bs().handleOpenURL=function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),cc=sc;function lc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Zn("no-auth-event")}}function fc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return!("file:"!==fc()&&"ionic:"!==fc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dc(){return yt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/Edge\/\d+/.test(e)}function vc(){try{var e=self.localStorage,t=No();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return dc()||pc(e)}()||gt()}catch(n){return mc()&&gt()}return!1}function mc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function yc(){return("http:"===fc()||"https:"===fc()||vt()||hc())&&!(mt()||pt())&&vc()&&!mc()}function gc(){return hc()&&"undefined"!==typeof document}function kc(){return wc.apply(this,arguments)}function wc(){return(wc=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bc={LOCAL:"local",NONE:"none",SESSION:"session"},xc=rr,_c="persistence";function Ec(e,t){xc(Object.values(bc).includes(t),e,"invalid-persistence-type"),mt()?xc(t!==bc.SESSION,e,"unsupported-persistence-type"):pt()?xc(t===bc.NONE,e,"unsupported-persistence-type"):mc()?xc(t===bc.NONE||t===bc.LOCAL&&gt(),e,"unsupported-persistence-type"):xc(t===bc.NONE||vc(),e,"unsupported-persistence-type")}function Ic(e){return Tc.apply(this,arguments)}function Tc(){return Tc=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Sc(),r=Zr(_c,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Sc(){return"undefined"!==typeof window?window:null}var Cc=rr,Nc=function(){function e(){He(this,e),this.browserResolver=ur(Ps),this.cordovaResolver=ur(cc),this.underlyingResolver=null,this._redirectPersistence=To,this._completeRedirectFn=Zu}return Ge(e,[{key:"_initialize",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Be(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Be(ze().mark((function e(t,n,r,i){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return gc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,kc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ac(e){return e.unwrap()}function Rc(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Mc(e,function(e,t){var n,r=Ot(e),i=t;return rr(t.customData.operationType,r,"argument-error"),rr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),mo._fromError(r,i)}(e,t));else if(r){var i=Oc(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Oc(e){var t=(e instanceof kt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof kt)&&"temporaryProof"in t&&"phoneNumber"in t)return xu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Un)return null;switch(r){case Fn:n=oa;break;case Ln:n=aa;break;case Mn:n=ua;break;case jn:n=la;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?sa._create(r,u):Ki._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new ia(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof kt?n.credentialFromError(e):n.credentialFromResult(e)}function Pc(e,t){return t.catch((function(t){throw t instanceof kt&&Rc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Oc(t)),additionalUserInfo:po(e),user:Fc.getOrCreate(r)}}))}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Pc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}var Mc=function(){function e(t,n){He(this,e),this.resolver=n,this.auth=t.wrapped()}return Ge(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Pc(Ac(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Fc=function(){function e(t){He(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ot(e);return wo.has(t)||wo.set(t,ko._fromUser(t)),wo.get(t)}(t)}return Ge(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(this.auth,Ra(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dc(this.auth,mu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(this.auth,Du(this._delegate,t,Nc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(vi(this.auth));case 2:return e.abrupt("return",Ju(this._delegate,t,Nc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(this.auth,Pa(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Dc(this.auth,function(e,t,n){return gu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Pc(this.auth,function(e,t,n){return Pu.apply(this,arguments)}(this._delegate,e,Nc))}},{key:"reauthenticateWithRedirect",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(vi(this.auth));case 2:return e.abrupt("return",Gu(this._delegate,t,Nc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return eo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ao(Ot(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ao(Ot(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return bu.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return io.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return to.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Fc.USER_MAP=new WeakMap;var Uc=rr,jc=function(){function e(t,n){if(He(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Uc(r,"invalid-api-key",{appName:t.name});var i=[$r];if("undefined"!==typeof window){i=function(e,t){var n=Sc();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Zr(_c,e,t);switch(n.sessionStorage.getItem(r)){case bc.NONE:return[$r];case bc.LOCAL:return[Jo,To];case bc.SESSION:return[To];default:return[]}}(r,t.name);for(var a=0,o=[Jo,Eo,To];a<o.length;a++){var u=o[a];i.includes(u)||i.push(u)}}Uc(r,"invalid-api-key",{appName:t.name});var s="undefined"!==typeof window?Nc:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:s}}),this._delegate._updateErrorMap(Gn),this.linkUnderlyingAuth()}return Ge(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Fc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){yi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return za.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Wa(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return qa.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pc(this._delegate,Ga(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Za.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ea.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uc(yc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Xu(this._delegate,Nc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Pc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){vi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Vc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Vc(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ja.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ba.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ec(this._delegate,t),e.t0=t,e.next=e.t0===bc.SESSION?4:e.t0===bc.LOCAL?6:e.t0===bc.NONE?11:13;break;case 4:return n=To,e.abrupt("break",14);case 6:return e.next=8,ur(Jo)._isAvailable();case 8:return r=e.sent,n=r?Jo:Eo,e.abrupt("break",14);case 11:return n=$r,e.abrupt("break",14);case 13:return e.abrupt("return",$n("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Pc(this._delegate,function(e){return va.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Pc(this._delegate,Na(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Pc(this._delegate,function(e,t){return Fa.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Pc(this._delegate,function(e,t,n){return Na(Ot(e),ta.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Pc(this._delegate,function(e,t,n){return Ya.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Dc(this._delegate,function(e,t,n){return vu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uc(yc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Pc(this._delegate,Ru(this._delegate,t,Nc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Uc(yc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ic(this._delegate);case 3:return e.abrupt("return",Hu(this._delegate,t,Nc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ka.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Vc(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Fc.getOrCreate(e))},error:t,complete:n}}jc.Persistence=bc;var Bc=function(){function e(){He(this,e),this.providerId="phone",this._delegate=new xu(Ac(An.auth()))}return Ge(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return xu.credential(e,t)}}]),e}();Bc.PHONE_SIGN_IN_METHOD=xu.PHONE_SIGN_IN_METHOD,Bc.PROVIDER_ID=xu.PROVIDER_ID;var qc,zc=rr,Wc=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:An.app();He(this,e),zc(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new hu(t,n,i.auth()),this.type=this._delegate.type}return Ge(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(qc=An).INTERNAL.registerComponent(new Lt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new jc(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vn,PASSWORD_RESET:Bn,RECOVER_EMAIL:qn,REVERT_SECOND_FACTOR_ADDITION:zn,VERIFY_AND_CHANGE_EMAIL:Wn,VERIFY_EMAIL:Hn}},EmailAuthProvider:ta,FacebookAuthProvider:aa,GithubAuthProvider:ua,GoogleAuthProvider:oa,OAuthProvider:ia,SAMLAuthProvider:ca,PhoneAuthProvider:Bc,PhoneMultiFactorGenerator:Ms,RecaptchaVerifier:Wc,TwitterAuthProvider:la,Auth:jc,AuthCredential:wi,Error:kt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),qc.registerVersion("@firebase/auth-compat","0.2.4");var Hc,Kc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Gc={},Qc=Qc||{},Jc=Kc||self;function Yc(){}function Xc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $c(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Zc="closure_uid_"+(1e9*Math.random()>>>0),el=0;function tl(e,t,n){return e.call.apply(e.bind,arguments)}function nl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function rl(e,t,n){return(rl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tl:nl).apply(null,arguments)}function il(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function al(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ol(){this.s=this.s,this.o=this.o}var ul={};ol.prototype.s=!1,ol.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Zc)&&e[Zc]||(e[Zc]=++el)}(this);delete ul[e]}},ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var sl=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},cl=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ll(e){return Array.prototype.concat.apply([],arguments)}function fl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function hl(e){return/^[\s\xa0]*$/.test(e)}var dl,pl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function vl(e,t){return-1!=e.indexOf(t)}function ml(e,t){return e<t?-1:e>t?1:0}e:{var yl=Jc.navigator;if(yl){var gl=yl.userAgent;if(gl){dl=gl;break e}}dl=""}function kl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function wl(e){var t={};for(var n in e)t[n]=e[n];return t}var bl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xl(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<bl.length;a++)n=bl[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function _l(e){return _l[" "](e),e}_l[" "]=Yc;var El,Il=vl(dl,"Opera"),Tl=vl(dl,"Trident")||vl(dl,"MSIE"),Sl=vl(dl,"Edge"),Cl=Sl||Tl,Nl=vl(dl,"Gecko")&&!(vl(dl.toLowerCase(),"webkit")&&!vl(dl,"Edge"))&&!(vl(dl,"Trident")||vl(dl,"MSIE"))&&!vl(dl,"Edge"),Al=vl(dl.toLowerCase(),"webkit")&&!vl(dl,"Edge");function Rl(){var e=Jc.document;return e?e.documentMode:void 0}e:{var Ol="",Pl=function(){var e=dl;return Nl?/rv:([^\);]+)(\)|;)/.exec(e):Sl?/Edge\/([\d\.]+)/.exec(e):Tl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Al?/WebKit\/(\S+)/.exec(e):Il?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Pl&&(Ol=Pl?Pl[1]:""),Tl){var Dl=Rl();if(null!=Dl&&Dl>parseFloat(Ol)){El=String(Dl);break e}}El=Ol}var Ll,Ml={};function Fl(){return function(e){var t=Ml;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=pl(String(El)).split("."),n=pl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ml(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ml(0==a[2].length,0==o[2].length)||ml(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Jc.document&&Tl){var Ul=Rl();Ll=Ul||(parseInt(El,10)||void 0)}else Ll=void 0;var jl=Ll,Vl=function(){if(!Jc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Jc.addEventListener("test",Yc,t),Jc.removeEventListener("test",Yc,t)}catch(n){}return e}();function Bl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ql(e,t){if(Bl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Nl){e:{try{_l(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:zl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ql.Z.h.call(this)}}Bl.prototype.h=function(){this.defaultPrevented=!0},al(ql,Bl);var zl={2:"touch",3:"pen",4:"mouse"};ql.prototype.h=function(){ql.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wl="closure_listenable_"+(1e6*Math.random()|0),Hl=0;function Kl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Hl,this.ca=this.fa=!1}function Gl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ql(e){this.src=e,this.g={},this.h=0}function Jl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=sl(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Gl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Yl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ql.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Yl(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Kl(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Xl="closure_lm_"+(1e6*Math.random()|0),$l={};function Zl(e,t,n,r,i){if(r&&r.once)return tf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Zl(e,t[a],n,r,i);return null}return n=cf(n),e&&e[Wl]?e.N(t,n,$c(r)?!!r.capture:!!r,i):ef(e,t,n,!1,r,i)}function ef(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=$c(i)?!!i.capture:!!i,u=uf(e);if(u||(e[Xl]=u=new Ql(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=of;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vl||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(af(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function tf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)tf(e,t[a],n,r,i);return null}return n=cf(n),e&&e[Wl]?e.O(t,n,$c(r)?!!r.capture:!!r,i):ef(e,t,n,!0,r,i)}function nf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)nf(e,t[a],n,r,i);else r=$c(r)?!!r.capture:!!r,n=cf(n),e&&e[Wl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Yl(a=e.g[t],n,r,i))&&(Gl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=uf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yl(t,n,r,i)),(n=-1<e?t[e]:null)&&rf(n))}function rf(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Wl])Jl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(af(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=uf(t))?(Jl(n,e),0==n.h&&(n.src=null,t[Xl]=null)):Gl(e)}}}function af(e){return e in $l?$l[e]:$l[e]="on"+e}function of(e,t){if(e.ca)e=!0;else{t=new ql(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&rf(e),e=n.call(r,t)}return e}function uf(e){return(e=e[Xl])instanceof Ql?e:null}var sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function cf(e){return"function"===typeof e?e:(e[sf]||(e[sf]=function(t){return e.handleEvent(t)}),e[sf])}function lf(){ol.call(this),this.i=new Ql(this),this.P=this,this.I=null}function ff(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Bl(t,e);else if(t instanceof Bl)t.target=t.target||e;else{var i=t;xl(t=new Bl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=hf(o,r,!0,t)&&i}if(i=hf(o=t.g=e,r,!0,t)&&i,i=hf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=hf(o=t.g=n[a],r,!1,t)&&i}function hf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Jl(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}al(lf,ol),lf.prototype[Wl]=!0,lf.prototype.removeEventListener=function(e,t,n,r){nf(this,e,t,n,r)},lf.prototype.M=function(){if(lf.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gl(n[r]);delete t.g[e],t.h--}}this.I=null},lf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},lf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var df=Jc.JSON.stringify;function pf(){var e=xf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vf,mf=function(){function e(){He(this,e),this.h=this.g=null}return Ge(e,[{key:"add",value:function(e,t){var n=yf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),yf=new(function(){function e(t,n){He(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ge(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new gf}),(function(e){return e.reset()})),gf=function(){function e(){He(this,e),this.next=this.g=this.h=null}return Ge(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function kf(e){Jc.setTimeout((function(){throw e}),0)}function wf(e,t){vf||function(){var e=Jc.Promise.resolve(void 0);vf=function(){e.then(_f)}}(),bf||(vf(),bf=!0),xf.add(e,t)}var bf=!1,xf=new mf;function _f(){for(var e;e=pf();){try{e.h.call(e.g)}catch(n){kf(n)}var t=yf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}bf=!1}function Ef(e,t){lf.call(this),this.h=e||1,this.g=t||Jc,this.j=rl(this.kb,this),this.l=Date.now()}function If(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Tf(e,t,n){if("function"===typeof e)n&&(e=rl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=rl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Jc.setTimeout(e,t||0)}function Sf(e){e.g=Tf((function(){e.g=null,e.i&&(e.i=!1,Sf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}al(Ef,lf),(Hc=Ef.prototype).da=!1,Hc.S=null,Hc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ff(this,"tick"),this.da&&(If(this),this.start()))}},Hc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hc.M=function(){Ef.Z.M.call(this),If(this),delete this.g};var Cf=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ge(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Sf(this)}},{key:"M",value:function(){On($e(n.prototype),"M",this).call(this),this.g&&(Jc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ol);function Nf(e){ol.call(this),this.h=e,this.g={}}al(Nf,ol);var Af=[];function Rf(e,t,n,r){Array.isArray(n)||(n&&(Af[0]=n.toString()),n=Af);for(var i=0;i<n.length;i++){var a=Zl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Of(e){kl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&rf(e)}),e),e.g={}}function Pf(){this.g=!0}function Df(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return df(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Nf.prototype.M=function(){Nf.Z.M.call(this),Of(this)},Nf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pf.prototype.Aa=function(){this.g=!1},Pf.prototype.info=function(){};var Lf={},Mf=null;function Ff(){return Mf=Mf||new lf}function Uf(e){Bl.call(this,Lf.Ma,e)}function jf(e){var t=Ff();ff(t,new Uf(t,e))}function Vf(e,t){Bl.call(this,Lf.STAT_EVENT,e),this.stat=t}function Bf(e){var t=Ff();ff(t,new Vf(t,e))}function qf(e,t){Bl.call(this,Lf.Na,e),this.size=t}function zf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Jc.setTimeout((function(){e()}),t)}Lf.Ma="serverreachability",al(Uf,Bl),Lf.STAT_EVENT="statevent",al(Vf,Bl),Lf.Na="timingevent",al(qf,Bl);var Wf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Hf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kf(){}function Gf(e){return e.h||(e.h=e.i())}function Qf(){}Kf.prototype.h=null;var Jf,Yf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xf(){Bl.call(this,"d")}function $f(){Bl.call(this,"c")}function Zf(){}function eh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Nf(this),this.P=nh,e=Cl?125:void 0,this.W=new Ef(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new th}function th(){this.i=null,this.g="",this.h=!1}al(Xf,Bl),al($f,Bl),al(Zf,Kf),Zf.prototype.g=function(){return new XMLHttpRequest},Zf.prototype.i=function(){return{}},Jf=new Zf;var nh=45e3,rh={},ih={};function ah(e,t,n){e.K=1,e.v=Ch(xh(t)),e.s=n,e.U=!0,oh(e,null)}function oh(e,t){e.F=Date.now(),lh(e),e.A=xh(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Bh(n.h,"t",r),e.C=0,n=e.l.H,e.h=new th,e.g=zd(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Cf(rl(e.Ia,e,e.g),e.O)),Rf(e.V,e.g,"readystatechange",e.gb),t=e.H?wl(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),jf(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function uh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function sh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ch(e,n))==ih){4==t&&(e.o=4,Bf(14),i=!1),Df(e.j,e.m,null,"[Incomplete Response]");break}if(r==rh){e.o=4,Bf(15),Df(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Df(e.j,e.m,r,null),vh(e,r)}uh(e)&&r!=ih&&r!=rh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Bf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ld(t),t.L=!0,Bf(11))):(Df(e.j,e.m,n,"[Invalid Chunked Response]"),ph(e),dh(e))}function ch(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ih:(n=Number(t.substring(n,r)),isNaN(n)?rh:(r+=1)+n>t.length?ih:(t=t.substr(r,n),e.C=r+n,t))}function lh(e){e.Y=Date.now()+e.P,fh(e,e.P)}function fh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=zf(rl(e.eb,e),t)}function hh(e){e.B&&(Jc.clearTimeout(e.B),e.B=null)}function dh(e){0==e.l.G||e.I||Ud(e.l,e)}function ph(e){hh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,If(e.W),Of(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Jh(n.i,e)))if(n.I=e.N,!e.J&&Jh(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Fd(n),Td(n)}Dd(n),Bf(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=zf(rl(n.ab,n),6e3));if(1>=Qh(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Vd(n,11)}else if((e.J||n.g==e)&&Fd(n),!hl(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(vl(l,"spdy")||vl(l,"quic")||vl(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Yh(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Sh(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=qd(r,r.H?r.la:null,r.W),d.J){Xh(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(hh(p),lh(p)),r.g=d}else Pd(r);0<n.l.length&&Nd(n)}else"stop"!=a[0]&&"close"!=a[0]||Vd(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Vd(n,7):Id(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}jf(4)}catch(a){}}function mh(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Xc(e)||"string"===typeof e)cl(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Xc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Xc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function yh(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yh)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function gh(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];kh(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)kh(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function kh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Hc=eh.prototype).setTimeout=function(e){this.P=e},Hc.gb=function(e){e=e.target;var t=this.L;t&&3==wd(e)?t.l():this.Ia(e)},Hc.Ia=function(e){try{if(e==this.g)e:{var t=wd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Cl||this.g&&(this.h.h||this.g.ga()||bd(this.g)))){this.I||4!=t||7==n||jf(8==n||0>=r?3:2),hh(this);var i=this.g.ba();this.N=i;t:if(uh(this)){var a=bd(this.g);e="";var o=a.length,u=4==wd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ph(this),dh(this);var s="";break t}this.h.i=new Jc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hl(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Bf(12),ph(this),dh(this);break e}Df(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vh(this,i)}this.U?(sh(this,t,s),Cl&&this.i&&3==t&&(Rf(this.V,this.W,"tick",this.fb),this.W.start())):(Df(this.j,this.m,s,null),vh(this,s)),4==t&&ph(this),this.i&&!this.I&&(4==t?Ud(this.l,this):(this.i=!1,lh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Bf(12)):(this.o=0,Bf(13)),ph(this),dh(this)}}}catch(t){}},Hc.fb=function(){if(this.g){var e=wd(this.g),t=this.g.ga();this.C<t.length&&(hh(this),sh(this,e,t),this.i&&4!=e&&lh(this))}},Hc.cancel=function(){this.I=!0,ph(this)},Hc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(jf(3),Bf(17)),ph(this),this.o=2,dh(this)):fh(this,this.Y-e)},(Hc=yh.prototype).R=function(){gh(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Hc.T=function(){return gh(this),this.g.concat()},Hc.get=function(e,t){return kh(this.h,e)?this.h[e]:t},Hc.set=function(e,t){kh(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Hc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var wh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bh(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof bh){this.g=void 0!==t?t:e.g,_h(this,e.j),this.s=e.s,Eh(this,e.i),Ih(this,e.m),this.l=e.l,t=e.h;var n=new Fh;n.i=t.i,t.g&&(n.g=new yh(t.g),n.h=t.h),Th(this,n),this.o=e.o}else e&&(n=String(e).match(wh))?(this.g=!!t,_h(this,n[1]||"",!0),this.s=Nh(n[2]||""),Eh(this,n[3]||"",!0),Ih(this,n[4]),this.l=Nh(n[5]||"",!0),Th(this,n[6]||"",!0),this.o=Nh(n[7]||"")):(this.g=!!t,this.h=new Fh(null,this.g))}function xh(e){return new bh(e)}function _h(e,t,n){e.j=n?Nh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Eh(e,t,n){e.i=n?Nh(t,!0):t}function Ih(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Th(e,t,n){t instanceof Fh?(e.h=t,function(e,t){t&&!e.j&&(Uh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jh(this,t),Bh(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ah(t,Lh)),e.h=new Fh(t,e.g))}function Sh(e,t,n){e.h.set(t,n)}function Ch(e){return Sh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ah(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Rh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Rh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}bh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ah(t,Oh,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ah(t,Oh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ah(n,"/"==n.charAt(0)?Dh:Ph,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ah(n,Mh)),e.join("")};var Oh=/[#\/\?@]/g,Ph=/[#\?:]/g,Dh=/[#\?]/g,Lh=/[#\?@]/g,Mh=/#/g;function Fh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Uh(e){e.g||(e.g=new yh,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jh(e,t){Uh(e),t=qh(e,t),kh(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,kh((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&gh(e)))}function Vh(e,t){return Uh(e),t=qh(e,t),kh(e.g.h,t)}function Bh(e,t,n){jh(e,t),0<n.length&&(e.i=null,e.g.set(qh(e,t),fl(n)),e.h+=n.length)}function qh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Hc=Fh.prototype).add=function(e,t){Uh(this),this.i=null,e=qh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Hc.forEach=function(e,t){Uh(this),this.g.forEach((function(n,r){cl(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Hc.T=function(){Uh(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Hc.R=function(e){Uh(this);var t=[];if("string"===typeof e)Vh(this,e)&&(t=ll(t,this.g.get(qh(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ll(t,e[n])}return t},Hc.set=function(e,t){return Uh(this),this.i=null,Vh(this,e=qh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Hc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Hc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var zh=Ge((function e(t,n){He(this,e),this.h=t,this.g=n}));function Wh(e){this.l=e||Kh,Jc.PerformanceNavigationTiming?e=0<(e=Jc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Jc.g&&Jc.g.Ea&&Jc.g.Ea()&&Jc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hh,Kh=10;function Gh(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qh(e){return e.h?1:e.g?e.g.size:0}function Jh(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yh(e,t){e.g?e.g.add(t):e.h=t}function Xh(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $h(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Qe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return fl(e.i)}function Zh(){}function ed(){this.g=new Zh}function td(e,t,n){var r=n||"";try{mh(e,(function(e,n){var i=e;$c(e)&&(i=df(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function nd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function rd(e){this.l=e.$b||null,this.j=e.ib||!1}function id(e,t){lf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=ad,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wh.prototype.cancel=function(){if(this.i=$h(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Qe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Zh.prototype.stringify=function(e){return Jc.JSON.stringify(e,void 0)},Zh.prototype.parse=function(e){return Jc.JSON.parse(e,void 0)},al(rd,Kf),rd.prototype.g=function(){return new id(this.l,this.j)},rd.prototype.i=(Hh={},function(){return Hh}),al(id,lf);var ad=0;function od(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ud(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sd(e)}function sd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Hc=id.prototype).open=function(e,t){if(this.readyState!=ad)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sd(this)},Hc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Jc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Hc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ud(this)),this.readyState=ad},Hc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Jc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;od(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Hc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ud(this):sd(this),3==this.readyState&&od(this)}},Hc.Ua=function(e){this.g&&(this.response=this.responseText=e,ud(this))},Hc.Ta=function(e){this.g&&(this.response=e,ud(this))},Hc.ha=function(){this.g&&ud(this)},Hc.setRequestHeader=function(e,t){this.v.append(e,t)},Hc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Hc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(id.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cd=Jc.JSON.parse;function ld(e){lf.call(this),this.headers=new yh,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fd,this.K=this.L=!1}al(ld,lf);var fd="",hd=/^https?$/i,dd=["POST","PUT"];function pd(e){return"content-type"==e.toLowerCase()}function vd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,md(e),gd(e)}function md(e){e.D||(e.D=!0,ff(e,"complete"),ff(e,"error"))}function yd(e){if(e.h&&"undefined"!=typeof Qc&&(!e.C[1]||4!=wd(e)||2!=e.ba()))if(e.v&&4==wd(e))Tf(e.Fa,0,e);else if(ff(e,"readystatechange"),4==wd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(wh)[1]||null;if(!a&&Jc.self&&Jc.self.location){var o=Jc.self.location.protocol;a=o.substr(0,o.length-1)}i=!hd.test(a?a.toLowerCase():"")}t=i}if(t)ff(e,"complete"),ff(e,"success");else{e.m=6;try{var u=2<wd(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",md(e)}}finally{gd(e)}}}function gd(e,t){if(e.g){kd(e);var n=e.g,r=e.C[0]?Yc:null;e.g=null,e.C=null,t||ff(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function kd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Jc.clearTimeout(e.A),e.A=null)}function wd(e){return e.g?e.g.readyState:0}function bd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case fd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function xd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return kl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Sh(e,t,n))}function _d(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ed(e){this.za=0,this.l=[],this.h=new Pf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_d("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_d("baseRetryDelayMs",5e3,e),this.$a=_d("retryDelaySeedMs",1e4,e),this.Ya=_d("forwardChannelMaxRetries",2,e),this.ra=_d("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Wh(e&&e.concurrentRequestLimit),this.Ca=new ed,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Id(e){if(Sd(e),3==e.G){var t=e.V++,n=xh(e.F);Sh(n,"SID",e.J),Sh(n,"RID",t),Sh(n,"TYPE","terminate"),Rd(e,n),(t=new eh(e,e.h,t,void 0)).K=2,t.v=Ch(xh(n)),n=!1,Jc.navigator&&Jc.navigator.sendBeacon&&(n=Jc.navigator.sendBeacon(t.v.toString(),"")),!n&&Jc.Image&&((new Image).src=t.v,n=!0),n||(t.g=zd(t.l,null),t.g.ea(t.v)),t.F=Date.now(),lh(t)}Bd(e)}function Td(e){e.g&&(Ld(e),e.g.cancel(),e.g=null)}function Sd(e){Td(e),e.u&&(Jc.clearTimeout(e.u),e.u=null),Fd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Jc.clearTimeout(e.m),e.m=null)}function Cd(e,t){e.l.push(new zh(e.Za++,t)),3==e.G&&Nd(e)}function Nd(e){Gh(e.i)||e.m||(e.m=!0,wf(e.Ha,e),e.C=0)}function Ad(e,t){var n;n=t?t.m:e.V++;var r=xh(e.F);Sh(r,"SID",e.J),Sh(r,"RID",n),Sh(r,"AID",e.U),Rd(e,r),e.o&&e.s&&xd(r,e.o,e.s),n=new eh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Od(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yh(e.i,n),ah(n,r,t)}function Rd(e,t){e.j&&mh({},(function(e,n){Sh(t,n,e)}))}function Od(e,t,n){n=Math.min(e.l.length,n);var r=e.j?rl(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{td(l,o,"req"+c+"_")}catch(bp){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Pd(e){e.g||e.u||(e.Y=1,wf(e.Ga,e),e.A=0)}function Dd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=zf(rl(e.Ga,e),jd(e,e.A)),e.A++,!0)}function Ld(e){null!=e.B&&(Jc.clearTimeout(e.B),e.B=null)}function Md(e){e.g=new eh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=xh(e.oa);Sh(t,"RID","rpc"),Sh(t,"SID",e.J),Sh(t,"CI",e.N?"0":"1"),Sh(t,"AID",e.U),Rd(e,t),Sh(t,"TYPE","xmlhttp"),e.o&&e.s&&xd(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ch(xh(t)),n.s=null,n.U=!0,oh(n,e)}function Fd(e){null!=e.v&&(Jc.clearTimeout(e.v),e.v=null)}function Ud(e,t){var n=null;if(e.g==t){Fd(e),Ld(e),e.g=null;var r=2}else{if(!Jh(e.i,t))return;n=t.D,Xh(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ff(r=Ff(),new qf(r,n,t,i)),Nd(e)}else Pd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Qh(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=zf(rl(e.Ha,e,t),jd(e,e.C)),e.C++,!0))}(e,t)||2==r&&Dd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Vd(e,5);break;case 4:Vd(e,10);break;case 3:Vd(e,6);break;default:Vd(e,2)}}function jd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vd(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=rl(e.jb,e);n||(n=new bh("//www.google.com/images/cleardot.gif"),Jc.location&&"http"==Jc.location.protocol||_h(n,"https"),Ch(n)),function(e,t){var n=new Pf;if(Jc.Image){var r=new Image;r.onload=il(nd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=il(nd,n,r,"TestLoadImage: error",!1,t),r.onabort=il(nd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=il(nd,n,r,"TestLoadImage: timeout",!1,t),Jc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Bf(2);e.G=0,e.j&&e.j.va(t),Bd(e),Sd(e)}function Bd(e){e.G=0,e.I=-1,e.j&&(0==$h(e.i).length&&0==e.l.length||(e.i.i.length=0,fl(e.l),e.l.length=0),e.j.ua())}function qd(e,t,n){var r=function(e){return e instanceof bh?xh(e):new bh(e,void 0)}(n);if(""!=r.i)t&&Eh(r,t+"."+r.i),Ih(r,r.m);else{var i=Jc.location;r=function(e,t,n,r){var i=new bh(null,void 0);return e&&_h(i,e),t&&Eh(i,t),n&&Ih(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&kl(e.aa,(function(e,t){Sh(r,t,e)})),t=e.D,n=e.sa,t&&n&&Sh(r,t,n),Sh(r,"VER",e.ma),Rd(e,r),r}function zd(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ld(new rd({ib:!0})):new ld(e.qa)).L=e.H,t}function Wd(){}function Hd(){if(Tl&&!(10<=Number(jl)))throw Error("Environmental error: no available transport.")}function Kd(e,t){lf.call(this),this.g=new Ed(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!hl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!hl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Jd(this)}function Gd(e){Xf.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Qd(){$f.call(this),this.status=1}function Jd(e){this.g=e}(Hc=ld.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jf.g(),this.C=this.u?Gf(this.u):Gf(Jf),this.g.onreadystatechange=rl(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void vd(this,a)}e=n||"";var i=new yh(this.headers);r&&mh(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=pd,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Jc.FormData&&e instanceof Jc.FormData,!(0<=sl(dd,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kd(this),0<this.B&&((this.K=function(e){return Tl&&Fl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rl(this.pa,this)):this.A=Tf(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){vd(this,a)}},Hc.pa=function(){"undefined"!=typeof Qc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ff(this,"timeout"),this.abort(8))},Hc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ff(this,"complete"),ff(this,"abort"),gd(this))},Hc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gd(this,!0)),ld.Z.M.call(this)},Hc.Fa=function(){this.s||(this.F||this.v||this.l?yd(this):this.cb())},Hc.cb=function(){yd(this)},Hc.ba=function(){try{return 2<wd(this)?this.g.status:-1}catch(Hh){return-1}},Hc.ga=function(){try{return this.g?this.g.responseText:""}catch(Hh){return""}},Hc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cd(t)}},Hc.Da=function(){return this.m},Hc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Hc=Ed.prototype).ma=8,Hc.G=1,Hc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Hc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new eh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?xl(n=wl(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Od(this,t,r),Sh(i=xh(this.F),"RID",e),Sh(i,"CVER",22),this.D&&Sh(i,"X-HTTP-Session-Id",this.D),Rd(this,i),this.o&&n&&xd(i,this.o,n),Yh(this.i,t),this.Ra&&Sh(i,"TYPE","init"),this.ja?(Sh(i,"$req",r),Sh(i,"SID","null"),t.$=!0,ah(t,i,null)):ah(t,i,r),this.G=2}}else 3==this.G&&(e?Ad(this,e):0==this.l.length||Gh(this.i)||Ad(this))},Hc.Ga=function(){if(this.u=null,Md(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=zf(rl(this.bb,this),e)}},Hc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bf(10),Td(this),Md(this))},Hc.ab=function(){null!=this.v&&(this.v=null,Td(this),Dd(this),Bf(19))},Hc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Bf(2)):(this.h.info("Failed to ping google.com"),Bf(1))},(Hc=Wd.prototype).xa=function(){},Hc.wa=function(){},Hc.va=function(){},Hc.ua=function(){},Hc.Oa=function(){},Hd.prototype.g=function(e,t){return new Kd(e,t)},al(Kd,lf),Kd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),wf(rl(e.hb,e,t))),Bf(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=qd(e,null,e.W),Nd(e)},Kd.prototype.close=function(){Id(this.g)},Kd.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Cd(this.g,t)}else this.v?((t={}).__data__=df(e),Cd(this.g,t)):Cd(this.g,e)},Kd.prototype.M=function(){this.g.j=null,delete this.j,Id(this.g),delete this.g,Kd.Z.M.call(this)},al(Gd,Xf),al(Qd,$f),al(Jd,Wd),Jd.prototype.xa=function(){ff(this.g,"a")},Jd.prototype.wa=function(e){ff(this.g,new Gd(e))},Jd.prototype.va=function(e){ff(this.g,new Qd(e))},Jd.prototype.ua=function(){ff(this.g,"b")},Hd.prototype.createWebChannel=Hd.prototype.g,Kd.prototype.send=Kd.prototype.u,Kd.prototype.open=Kd.prototype.m,Kd.prototype.close=Kd.prototype.close,Wf.NO_ERROR=0,Wf.TIMEOUT=8,Wf.HTTP_ERROR=6,Hf.COMPLETE="complete",Qf.EventType=Yf,Yf.OPEN="a",Yf.CLOSE="b",Yf.ERROR="c",Yf.MESSAGE="d",lf.prototype.listen=lf.prototype.N,ld.prototype.listenOnce=ld.prototype.O,ld.prototype.getLastError=ld.prototype.La,ld.prototype.getLastErrorCode=ld.prototype.Da,ld.prototype.getStatus=ld.prototype.ba,ld.prototype.getResponseJson=ld.prototype.Qa,ld.prototype.getResponseText=ld.prototype.ga,ld.prototype.send=ld.prototype.ea;var Yd=Gc.createWebChannelTransport=function(){return new Hd},Xd=Gc.getStatEventTarget=function(){return Ff()},$d=Gc.ErrorCode=Wf,Zd=Gc.EventType=Hf,ep=Gc.Event=Lf,tp=Gc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},np=Gc.FetchXmlHttpFactory=rd,rp=Gc.WebChannel=Qf,ip=Gc.XhrIo=ld,ap="@firebase/firestore",op=function(){function e(t){He(this,e),this.uid=t}return Ge(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();op.UNAUTHENTICATED=new op(null),op.GOOGLE_CREDENTIALS=new op("google-credentials-uid"),op.FIRST_PARTY=new op("first-party-uid"),op.MOCK_USER=new op("mock-user");var up="9.6.1",sp=new Qt("@firebase/firestore");function cp(){return sp.logLevel}function lp(e){if(sp.logLevel<=jt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dp);sp.debug.apply(sp,["Firestore (".concat(up,"): ").concat(e)].concat(Dt(i)))}}function fp(e){if(sp.logLevel<=jt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dp);sp.error.apply(sp,["Firestore (".concat(up,"): ").concat(e)].concat(Dt(i)))}}function hp(e){if(sp.logLevel<=jt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dp);sp.warn.apply(sp,["Firestore (".concat(up,"): ").concat(e)].concat(Dt(i)))}}function dp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(up,") INTERNAL ASSERTION FAILED: ")+e;throw fp(t),new Error(t)}function vp(e,t){e||pp()}function mp(e,t){return e}var yp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gp=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ge(n)}(it(Error)),kp=Ge((function e(){var t=this;He(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),wp=Ge((function e(t,n){He(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),bp=function(){function e(){He(this,e)}return Ge(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(op.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xp=function(){function e(t){He(this,e),this.token=t,this.changeListener=null}return Ge(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),_p=function(){function e(t){He(this,e),this.t=t,this.currentUser=op.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ge(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new kp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new kp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){lp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(lp("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new kp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(lp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(vp("string"==typeof n.accessToken),new wp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return vp(null===e||"string"==typeof e),new op(e)}}]),e}(),Ep=Ge((function e(t,n,r){He(this,e),this.type="FirstParty",this.user=op.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Ip=function(){function e(t,n,r){He(this,e),this.h=t,this.l=n,this.m=r}return Ge(e,[{key:"getToken",value:function(){return Promise.resolve(new Ep(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(op.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tp=Ge((function e(t){He(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Sp=function(){function e(t){He(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Ge(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&lp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){lp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):lp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(vp("string"==typeof e.token),new Tp(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Cp=function(){function e(t,n){var r=this;He(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ge(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Np(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Cp.I=-1;var Ap=function(){function e(){He(this,e)}return Ge(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Np(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Rp(e,t){return e<t?-1:e>t?1:0}function Op(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Pp(e){return e+"\0"}var Dp=function(){function e(t,n){if(He(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new gp(yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gp(yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new gp(yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gp(yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ge(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Rp(this.nanoseconds,e.nanoseconds):Rp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lp=function(){function e(t){He(this,e),this.timestamp=t}return Ge(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Dp(0,0))}}]),e}();function Mp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fp(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Up(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var jp=function(){function e(t,n,r){He(this,e),void 0===n?n=0:n>t.length&&pp(),void 0===r?r=t.length-n:r>t.length-n&&pp(),this.segments=t,this.offset=n,this.len=r}return Ge(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Vp=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new gp(yp.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Dt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jp),Bp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qp=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new gp(yp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new gp(yp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new gp(yp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new gp(yp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jp),zp=function(){function e(t){He(this,e),this.fields=t,t.sort(qp.comparator)}return Ge(e,[{key:"covers",value:function(e){var t,n=Qe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Op(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Wp=function(){function e(t){He(this,e),this.binaryString=t}return Ge(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Rp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();Wp.EMPTY_BYTE_STRING=new Wp("");var Hp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kp(e){if(vp(!!e),"string"==typeof e){var t=0,n=Hp.exec(e);if(vp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Gp(e.seconds),nanos:Gp(e.nanos)}}function Gp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Qp(e){return"string"==typeof e?Wp.fromBase64String(e):Wp.fromUint8Array(e)}function Jp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yp(e){var t=e.mapValue.fields.__previous_value__;return Jp(t)?Yp(t):t}function Xp(e){var t=Kp(e.mapValue.fields.__local_write_time__.timestampValue);return new Dp(t.seconds,t.nanos)}function $p(e){return null==e}function Zp(e){return 0===e&&1/e==-1/0}function ev(e){return"number"==typeof e&&Number.isInteger(e)&&!Zp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var tv=function(){function e(t){He(this,e),this.path=t}return Ge(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Vp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Vp.fromString(t))}},{key:"fromName",value:function(t){return new e(Vp.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Vp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Vp(t.slice()))}}]),e}();function nv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Jp(e)?4:10:pp()}function rv(e,t){var n=nv(e);if(n!==nv(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xp(e).isEqual(Xp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Kp(e.timestampValue),r=Kp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Qp(e.bytesValue).isEqual(Qp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Gp(e.geoPointValue.latitude)===Gp(t.geoPointValue.latitude)&&Gp(e.geoPointValue.longitude)===Gp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Gp(e.integerValue)===Gp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Gp(e.doubleValue),r=Gp(t.doubleValue);return n===r?Zp(n)===Zp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Op(e.arrayValue.values||[],t.arrayValue.values||[],rv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Mp(n)!==Mp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rv(n[i],r[i])))return!1;return!0}(e,t);default:return pp()}}function iv(e,t){return void 0!==(e.values||[]).find((function(e){return rv(e,t)}))}function av(e,t){var n=nv(e),r=nv(t);if(n!==r)return Rp(n,r);switch(n){case 0:return 0;case 1:return Rp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Gp(e.integerValue||e.doubleValue),r=Gp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ov(e.timestampValue,t.timestampValue);case 4:return ov(Xp(e),Xp(t));case 5:return Rp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Qp(e),r=Qp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Rp(n[i],r[i]);if(0!==a)return a}return Rp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rp(Gp(e.latitude),Gp(t.latitude));return 0!==n?n:Rp(Gp(e.longitude),Gp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=av(n[i],r[i]);if(a)return a}return Rp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Rp(r[o],a[o]);if(0!==u)return u;var s=av(n[r[o]],i[a[o]]);if(0!==s)return s}return Rp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pp()}}function ov(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rp(e,t);var n=Kp(e),r=Kp(t),i=Rp(n.seconds,r.seconds);return 0!==i?i:Rp(n.nanos,r.nanos)}function uv(e){return sv(e)}function sv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Kp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Qp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,tv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Qe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=sv(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Qe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(sv(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):pp();var t,n}function cv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function lv(e){return!!e&&"integerValue"in e}function fv(e){return!!e&&"arrayValue"in e}function hv(e){return!!e&&"nullValue"in e}function dv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pv(e){return!!e&&"mapValue"in e}function vv(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Fp(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=vv(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=vv(e.arrayValue.values[r]);return n}return Object.assign({},e)}var mv=function(){function e(t){He(this,e),this.value=t}return Ge(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!pv(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vv(t)}},{key:"setAll",value:function(e){var t=this,n=qp.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=vv(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());pv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return rv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];pv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Fp(t,(function(t,n){return e[t]=n}));var r,i=Qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(vv(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function yv(e){var t=[];return Fp(e.fields,(function(e,n){var r=new qp([e]);if(pv(n)){var i=yv(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Qe(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new zp(t)}var gv=function(){function e(t,n,r,i,a){He(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Ge(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=mv.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=mv.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lp.min(),mv.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,mv.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,mv.empty(),2)}}]),e}(),kv=Ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;He(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.R=null}));function wv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new kv(e,t,n,r,i,a,o)}function bv(e){var t=mp(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+uv(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$p(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Dv(t.startAt)),t.endAt&&(n+="|ub:",n+=Dv(t.endAt)),t.R=n}return t.R}function xv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Mv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!rv(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Uv(e.startAt,t.startAt)&&Uv(e.endAt,t.endAt)}function _v(e){return tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ev=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(av(t,this.value)):null!==t&&nv(this.value)===nv(t)&&this.v(av(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pp()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Iv(e,t,r):"array-contains"===t?new Nv(e,r):"in"===t?new Av(e,r):"not-in"===t?new Rv(e,r):"array-contains-any"===t?new Ov(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Tv(e,n):new Sv(e,n)}}]),n}(function(){return Ge((function e(){He(this,e)}))}());var Iv=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,e,r,i)).key=tv.fromName(i.referenceValue),a}return Ge(n,[{key:"matches",value:function(e){var t=tv.comparator(e.key,this.key);return this.v(t)}}]),n}(Ev),Tv=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,"in",r)).keys=Cv("in",r),i}return Ge(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ev),Sv=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,"not-in",r)).keys=Cv("not-in",r),i}return Ge(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ev);function Cv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return tv.fromName(e.referenceValue)}))}var Nv=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"array-contains",r)}return Ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return fv(t)&&iv(t.arrayValue,this.value)}}]),n}(Ev),Av=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"in",r)}return Ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&iv(this.value.arrayValue,t)}}]),n}(Ev),Rv=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"not-in",r)}return Ge(n,[{key:"matches",value:function(e){if(iv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!iv(this.value.arrayValue,t)}}]),n}(Ev),Ov=function(e){Xe(n,e);var t=nt(n);function n(e,r){return He(this,n),t.call(this,e,"array-contains-any",r)}return Ge(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return iv(t.value.arrayValue,e)}))}}]),n}(Ev),Pv=Ge((function e(t,n){He(this,e),this.position=t,this.before=n}));function Dv(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return uv(e)})).join(","))}var Lv=Ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";He(this,e),this.field=t,this.dir=n}));function Mv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Fv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?tv.comparator(tv.fromName(o.referenceValue),n.key):av(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Uv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rv(e.position[n],t.position[n]))return!1;return!0}var jv=Ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;He(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.S=null,this.D=null,this.startAt,this.endAt}));function Vv(e,t,n,r,i,a,o,u){return new jv(e,t,n,r,i,a,o,u)}function Bv(e){return new jv(e)}function qv(e){return!$p(e.limit)&&"F"===e.limitType}function zv(e){return!$p(e.limit)&&"L"===e.limitType}function Wv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Hv(e){var t,n=Qe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Kv(e){return null!==e.collectionGroup}function Gv(e){var t=mp(e);if(null===t.S){t.S=[];var n=Hv(t),r=Wv(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Lv(n)),t.S.push(new Lv(qp.keyField(),"asc"));else{var i,a=!1,o=Qe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.S.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Lv(qp.keyField(),s))}}}return t.S}function Qv(e){var t=mp(e);if(!t.D)if("F"===t.limitType)t.D=wv(t.path,t.collectionGroup,Gv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Qe(Gv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Lv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Pv(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Pv(t.startAt.position,!t.startAt.before):null;t.D=wv(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.D}function Jv(e,t,n){return new jv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yv(e,t){return xv(Qv(e),Qv(t))&&e.limitType===t.limitType}function Xv(e){return"".concat(bv(Qv(e)),"|lt:").concat(e.limitType)}function $v(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(uv(t.value));var t})).join(", "),"]")),$p(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Dv(e.startAt)),e.endAt&&(t+=", endAt: "+Dv(e.endAt)),"Target(".concat(t,")")}(Qv(e)),"; limitType=").concat(e.limitType,")")}function Zv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):tv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Qe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Qe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Fv(e.startAt,Gv(e),t))&&(!e.endAt||!Fv(e.endAt,Gv(e),t))}(e,t)}function em(e){return function(t,n){var r,i=!1,a=Qe(Gv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=tm(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function tm(e,t,n){var r=e.field.isKeyField()?tv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?av(r,i):pp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pp()}}function nm(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zp(t)?"-0":t}}function rm(e){return{integerValue:""+e}}function im(e,t){return ev(t)?rm(t):nm(e,t)}var am=Ge((function e(){He(this,e),this._=void 0}));function om(e,t,n){return e instanceof cm?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lm?fm(e,t):e instanceof hm?dm(e,t):function(e,t){var n=sm(e,t),r=vm(n)+vm(e.N);return lv(n)&&lv(e.N)?rm(r):nm(e.k,r)}(e,t)}function um(e,t,n){return e instanceof lm?fm(e,t):e instanceof hm?dm(e,t):n}function sm(e,t){return e instanceof pm?lv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var cm=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n)}(am),lm=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).elements=e,r}return Ge(n)}(am);function fm(e,t){var n,r=mm(t),i=Qe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return rv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hm=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).elements=e,r}return Ge(n)}(am);function dm(e,t){var n,r=mm(t),i=Qe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!rv(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var pm=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).k=e,i.N=r,i}return Ge(n)}(am);function vm(e){return Gp(e.integerValue||e.doubleValue)}function mm(e){return fv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ym=Ge((function e(t,n){He(this,e),this.field=t,this.transform=n}));var gm=Ge((function e(t,n){He(this,e),this.version=t,this.transformResults=n})),km=function(){function e(t,n){He(this,e),this.updateTime=t,this.exists=n}return Ge(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function wm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var bm=Ge((function e(){He(this,e)}));function xm(e,t,n){e instanceof Sm?function(e,t,n){var r=e.value.clone(),i=Am(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cm?function(e,t,n){if(wm(e.precondition,t)){var r=Am(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Nm(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _m(e,t,n){e instanceof Sm?function(e,t,n){if(wm(e.precondition,t)){var r=e.value.clone(),i=Rm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Tm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Cm?function(e,t,n){if(wm(e.precondition,t)){var r=Rm(e.fieldTransforms,n,t),i=t.data;i.setAll(Nm(e)),i.setAll(r),t.convertToFoundDocument(Tm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){wm(e.precondition,t)&&t.convertToNoDocument(Lp.min())}(e,t)}function Em(e,t){var n,r=null,i=Qe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=sm(a.transform,o||null);null!=u&&(null==r&&(r=mv.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Im(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Op(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof lm&&t instanceof lm||e instanceof hm&&t instanceof hm?Op(e.elements,t.elements,rv):e instanceof pm&&t instanceof pm?rv(e.N,t.N):e instanceof cm&&t instanceof cm}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Tm(e){return e.isFoundDocument()?e.version:Lp.min()}var Sm=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return He(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ge(n)}(bm),Cm=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return He(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ge(n)}(bm);function Nm(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Am(e,t,n){var r=new Map;vp(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,um(o,u,n[i]))}return r}function Rm(e,t,n){var r,i=new Map,a=Qe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,om(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Om,Pm,Dm=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ge(n)}(bm),Lm=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ge(n)}(bm),Mm=Ge((function e(t){He(this,e),this.count=t}));function Fm(e){switch(e){default:return pp();case yp.CANCELLED:case yp.UNKNOWN:case yp.DEADLINE_EXCEEDED:case yp.RESOURCE_EXHAUSTED:case yp.INTERNAL:case yp.UNAVAILABLE:case yp.UNAUTHENTICATED:return!1;case yp.INVALID_ARGUMENT:case yp.NOT_FOUND:case yp.ALREADY_EXISTS:case yp.PERMISSION_DENIED:case yp.FAILED_PRECONDITION:case yp.ABORTED:case yp.OUT_OF_RANGE:case yp.UNIMPLEMENTED:case yp.DATA_LOSS:return!0}}function Um(e){if(void 0===e)return fp("GRPC error has no .code"),yp.UNKNOWN;switch(e){case Om.OK:return yp.OK;case Om.CANCELLED:return yp.CANCELLED;case Om.UNKNOWN:return yp.UNKNOWN;case Om.DEADLINE_EXCEEDED:return yp.DEADLINE_EXCEEDED;case Om.RESOURCE_EXHAUSTED:return yp.RESOURCE_EXHAUSTED;case Om.INTERNAL:return yp.INTERNAL;case Om.UNAVAILABLE:return yp.UNAVAILABLE;case Om.UNAUTHENTICATED:return yp.UNAUTHENTICATED;case Om.INVALID_ARGUMENT:return yp.INVALID_ARGUMENT;case Om.NOT_FOUND:return yp.NOT_FOUND;case Om.ALREADY_EXISTS:return yp.ALREADY_EXISTS;case Om.PERMISSION_DENIED:return yp.PERMISSION_DENIED;case Om.FAILED_PRECONDITION:return yp.FAILED_PRECONDITION;case Om.ABORTED:return yp.ABORTED;case Om.OUT_OF_RANGE:return yp.OUT_OF_RANGE;case Om.UNIMPLEMENTED:return yp.UNIMPLEMENTED;case Om.DATA_LOSS:return yp.DATA_LOSS;default:return pp()}}(Pm=Om||(Om={}))[Pm.OK=0]="OK",Pm[Pm.CANCELLED=1]="CANCELLED",Pm[Pm.UNKNOWN=2]="UNKNOWN",Pm[Pm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pm[Pm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pm[Pm.NOT_FOUND=5]="NOT_FOUND",Pm[Pm.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pm[Pm.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pm[Pm.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pm[Pm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pm[Pm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pm[Pm.ABORTED=10]="ABORTED",Pm[Pm.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pm[Pm.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pm[Pm.INTERNAL=13]="INTERNAL",Pm[Pm.UNAVAILABLE=14]="UNAVAILABLE",Pm[Pm.DATA_LOSS=15]="DATA_LOSS";var jm=function(){function e(t,n){He(this,e),this.comparator=t,this.root=n||Bm.EMPTY}return Ge(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Bm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Bm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Vm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Vm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Vm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Vm(this.root,e,this.comparator,!0)}}]),e}(),Vm=function(){function e(t,n,r,i){He(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ge(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Bm=function(){function e(t,n,r,i,a){He(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ge(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw pp();if(this.right.isRed())throw pp();var e=this.left.check();if(e!==this.right.check())throw pp();return e+(this.isRed()?0:1)}}]),e}();Bm.EMPTY=null,Bm.RED=!0,Bm.BLACK=!1,Bm.EMPTY=new(function(){function e(){He(this,e),this.size=0}return Ge(e,[{key:"key",get:function(){throw pp()}},{key:"value",get:function(){throw pp()}},{key:"color",get:function(){throw pp()}},{key:"left",get:function(){throw pp()}},{key:"right",get:function(){throw pp()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Bm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var qm=function(){function e(t){He(this,e),this.comparator=t,this.data=new jm(this.comparator)}return Ge(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new zm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new zm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),zm=function(){function e(t){He(this,e),this.iter=t}return Ge(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),Wm=new jm(tv.comparator);function Hm(){return Wm}var Km=new jm(tv.comparator);function Gm(){return Km}var Qm=new jm(tv.comparator);function Jm(){return Qm}var Ym=new qm(tv.comparator);function Xm(){for(var e=Ym,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var $m=new qm(Rp);function Zm(){return $m}var ey=function(){function e(t,n,r,i,a){He(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ge(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ty.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Lp.min(),r,Zm(),Hm(),Xm())}}]),e}(),ty=function(){function e(t,n,r,i,a){He(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ge(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Wp.EMPTY_BYTE_STRING,n,Xm(),Xm(),Xm())}}]),e}(),ny=Ge((function e(t,n,r,i){He(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),ry=Ge((function e(t,n){He(this,e),this.targetId=t,this.O=n})),iy=Ge((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;He(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ay=function(){function e(){He(this,e),this.M=0,this.L=sy(),this.B=Wp.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Ge(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Xm(),t=Xm(),n=Xm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pp()}})),new ty(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=sy()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),oy=function(){function e(t){He(this,e),this.et=t,this.nt=new Map,this.st=Hm(),this.it=uy(),this.rt=new qm(Rp)}return Ge(e,[{key:"ot",value:function(e){var t,n=Qe(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Qe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:pp()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(_v(i))if(0===n){var a=new tv(i.path);this.ct(t,a,gv.newNoDocument(a,Lp.min()))}else vp(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&_v(a.target)){var o=new tv(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,gv.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Xm();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ey(e,n,this.rt,this.st,r);return this.st=Hm(),this.it=uy(),this.rt=new qm(Rp),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new ay,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new qm(Rp),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||lp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new ay),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function uy(){return new jm(tv.comparator)}function sy(){return new jm(tv.comparator)}var cy={asc:"ASCENDING",desc:"DESCENDING"},ly={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fy=Ge((function e(t,n){He(this,e),this.databaseId=t,this.C=n}));function hy(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dy(e,t){return e.C?t.toBase64():t.toUint8Array()}function py(e,t){return hy(e,t.toTimestamp())}function vy(e){return vp(!!e),Lp.fromTimestamp(function(e){var t=Kp(e);return new Dp(t.seconds,t.nanos)}(e))}function my(e,t){return function(e){return new Vp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function yy(e){var t=Vp.fromString(e);return vp(qy(t)),t}function gy(e,t){return my(e.databaseId,t.path)}function ky(e,t){var n=yy(t);if(n.get(1)!==e.databaseId.projectId)throw new gp(yp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gp(yp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tv(_y(n))}function wy(e,t){return my(e.databaseId,t)}function by(e){var t=yy(e);return 4===t.length?Vp.emptyPath():_y(t)}function xy(e){return new Vp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _y(e){return vp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ey(e,t,n){return{name:gy(e,t),fields:n.value.mapValue.fields}}function Iy(e,t,n){var r=ky(e,t.name),i=vy(t.updateTime),a=new mv({mapValue:{fields:t.fields}}),o=gv.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ty(e,t){return"found"in t?function(e,t){vp(!!t.found),t.found.name,t.found.updateTime;var n=ky(e,t.found.name),r=vy(t.found.updateTime),i=new mv({mapValue:{fields:t.found.fields}});return gv.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){vp(!!t.missing),vp(!!t.readTime);var n=ky(e,t.missing),r=vy(t.readTime);return gv.newNoDocument(n,r)}(e,t):pp()}function Sy(e,t){var n;if(t instanceof Sm)n={update:Ey(e,t.key,t.value)};else if(t instanceof Dm)n={delete:gy(e,t.key)};else if(t instanceof Cm)n={update:Ey(e,t.key,t.data),updateMask:By(t.fieldMask)};else{if(!(t instanceof Lm))return pp();n={verify:gy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof cm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hm)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof pm)return{fieldPath:t.field.canonicalString(),increment:n.N};throw pp()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:py(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pp()}(e,t.precondition)),n}function Cy(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?km.updateTime(vy(e.updateTime)):void 0!==e.exists?km.exists(e.exists):km.none()}(t.currentDocument):km.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)vp("REQUEST_TIME"===t.setToServerValue),n=new cm;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new lm(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new hm(i)}else"increment"in t?n=new pm(e,t.increment):pp();var a=qp.fromServerFormat(t.fieldPath);return new ym(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ky(e,t.update.name),a=new mv({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new zp(t.map((function(e){return qp.fromServerFormat(e)})))}(t.updateMask);return new Cm(i,a,o,n,r)}return new Sm(i,a,n,r)}if(t.delete){var u=ky(e,t.delete);return new Dm(u,n)}if(t.verify){var s=ky(e,t.verify);return new Lm(s,n)}return pp()}function Ny(e,t){return{documents:[wy(e,t.path)]}}function Ay(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=wy(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=wy(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(dv(e.value))return{unaryFilter:{field:Fy(e.field),op:"IS_NAN"}};if(hv(e.value))return{unaryFilter:{field:Fy(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dv(e.value))return{unaryFilter:{field:Fy(e.field),op:"IS_NOT_NAN"}};if(hv(e.value))return{unaryFilter:{field:Fy(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fy(e.field),op:My(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Fy(e.field),direction:Ly(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||$p(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Py(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Py(t.endAt)),n}function Ry(e){var t=by(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vp(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Oy(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Lv(Uy(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $p(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Dy(n.startAt));var l=null;return n.endAt&&(l=Dy(n.endAt)),Vv(t,i,u,o,s,"F",c,l)}function Oy(e){return e?void 0!==e.unaryFilter?[Vy(e)]:void 0!==e.fieldFilter?[jy(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Oy(e)})).reduce((function(e,t){return e.concat(t)})):pp():[]}function Py(e){return{before:e.before,values:e.position}}function Dy(e){var t=!!e.before,n=e.values||[];return new Pv(n,t)}function Ly(e){return cy[e]}function My(e){return ly[e]}function Fy(e){return{fieldPath:e.canonicalString()}}function Uy(e){return qp.fromServerFormat(e.fieldPath)}function jy(e){return Ev.create(Uy(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pp()}}(e.fieldFilter.op),e.fieldFilter.value)}function Vy(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Uy(e.unaryFilter.field);return Ev.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Uy(e.unaryFilter.field);return Ev.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Uy(e.unaryFilter.field);return Ev.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Uy(e.unaryFilter.field);return Ev.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pp()}}function By(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function qy(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function zy(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Hy(t)),t=Wy(e.get(n),t);return Hy(t)}function Wy(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Hy(e){return e+"\x01\x01"}function Ky(e){var t=e.length;if(vp(t>=2),2===t)return vp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Vp.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&pp(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:pp()}a=o+2}return new Vp(r)}var Gy=Ge((function e(t,n){He(this,e),this.seconds=t,this.nanoseconds=n})),Qy=Ge((function e(t,n,r){He(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Qy.store="owner",Qy.key="owner";var Jy=Ge((function e(t,n,r){He(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Jy.store="mutationQueues",Jy.keyPath="userId";var Yy=Ge((function e(t,n,r,i,a){He(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Yy.store="mutations",Yy.keyPath="batchId",Yy.userMutationsIndex="userMutationsIndex",Yy.userMutationsKeyPath=["userId","batchId"];var Xy=function(){function e(){He(this,e)}return Ge(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,zy(t)]}},{key:"key",value:function(e,t,n){return[e,zy(t),n]}}]),e}();Xy.store="documentMutations",Xy.PLACEHOLDER=new Xy;var $y=Ge((function e(t,n){He(this,e),this.path=t,this.readTime=n})),Zy=Ge((function e(t,n){He(this,e),this.path=t,this.version=n})),eg=Ge((function e(t,n,r,i,a,o){He(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));eg.store="remoteDocuments",eg.readTimeIndex="readTimeIndex",eg.readTimeIndexPath="readTime",eg.collectionReadTimeIndex="collectionReadTimeIndex",eg.collectionReadTimeIndexPath=["parentPath","readTime"];var tg=Ge((function e(t){He(this,e),this.byteSize=t}));tg.store="remoteDocumentGlobal",tg.key="remoteDocumentGlobalKey";var ng=Ge((function e(t,n,r,i,a,o,u){He(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));ng.store="targets",ng.keyPath="targetId",ng.queryTargetsIndexName="queryTargetsIndex",ng.queryTargetsKeyPath=["canonicalId","targetId"];var rg=Ge((function e(t,n,r){He(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));rg.store="targetDocuments",rg.keyPath=["targetId","path"],rg.documentTargetsIndex="documentTargetsIndex",rg.documentTargetsKeyPath=["path","targetId"];var ig=Ge((function e(t,n,r,i){He(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));ig.key="targetGlobalKey",ig.store="targetGlobal";var ag=Ge((function e(t,n){He(this,e),this.collectionId=t,this.parent=n}));ag.store="collectionParents",ag.keyPath=["collectionId","parent"];var og=Ge((function e(t,n,r,i){He(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));og.store="clientMetadata",og.keyPath="clientId";var ug=Ge((function e(t,n,r){He(this,e),this.bundleId=t,this.createTime=n,this.version=r}));ug.store="bundles",ug.keyPath="bundleId";var sg=Ge((function e(t,n,r){He(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));sg.store="namedQueries",sg.keyPath="name";var cg=[Jy.store,Yy.store,Xy.store,eg.store,ng.store,Qy.store,ig.store,rg.store].concat([og.store]).concat([tg.store]).concat([ag.store]).concat([ug.store,sg.store]),lg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fg=function(){function e(){He(this,e),this.onCommittedListeners=[]}return Ge(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),hg=function(){function e(t){var n=this;He(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ge(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&pp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Qe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),dg=function(){function e(t,n){var r=this;He(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new kp,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new mg(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=bg(e.target.error);r.It.reject(new mg(t,n))}}return Ge(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(lp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new gg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new mg(n,t)}}}]),e}(),pg=function(){function e(t,n,r){He(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(ht())&&fp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ge(e,[{key:"Ct",value:function(){var e=Be(ze().mark((function e(t){var n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return lp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new mg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new gp(yp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new gp(yp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new mg(t,n))},i.onupgradeneeded=function(e){lp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){lp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Be(ze().mark((function e(t,n,r,i){var a,o,u,s,c=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ze().mark((function e(){var n,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=dg.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),hg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,lp("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return lp("SimpleDb","Removing database:",e),kg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!gt())return!1;if(e.vt())return!0;var t=ht(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/movie_db",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),vg=function(){function e(t){He(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return Ge(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return kg(this.$t.delete())}}]),e}(),mg=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,yp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ge(n)}(gp);function yg(e){return"IndexedDbTransactionError"===e.name}var gg=function(){function e(t){He(this,e),this.store=t}return Ge(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(lp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kg(n)}},{key:"add",value:function(e){return lp("SimpleDb","ADD",this.store.name,e,e),kg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return kg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),lp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return lp("SimpleDb","DELETE",this.store.name,e),kg(this.store.delete(e))}},{key:"count",value:function(){return lp("SimpleDb","COUNT",this.store.name),kg(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){lp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new hg((function(n,r){t.onerror=function(e){var t=bg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new hg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new vg(i),o=t(i.primaryKey,i.value,a);if(o instanceof hg){var u=o.catch((function(e){return a.done(),hg.reject(e)}));n.push(u)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return hg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function kg(e){return new hg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=bg(e.target.error);n(t)}}))}var wg=!1;function bg(e){var t=pg.Pt(ht());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new gp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wg||(wg=!0,setTimeout((function(){throw r}),0)),r}}return e}var xg=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Ge(n)}(fg);function _g(e,t){var n=mp(e);return pg.Dt(n.Wt,t)}var Eg=function(){function e(t,n,r,i){He(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ge(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&xm(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Qe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&_m(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Qe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&_m(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Lp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Xm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Op(this.mutations,e.mutations,(function(e,t){return Im(e,t)}))&&Op(this.baseMutations,e.baseMutations,(function(e,t){return Im(e,t)}))}}]),e}(),Ig=function(){function e(t,n,r,i){He(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ge(e,null,[{key:"from",value:function(t,n,r){vp(t.mutations.length===r.length);for(var i=Jm(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Tg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lp.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Wp.EMPTY_BYTE_STRING;He(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ge(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Sg=Ge((function e(t){He(this,e),this.Gt=t}));function Cg(e,t){if(t.document)return Iy(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=tv.fromSegments(t.noDocument.path),r=Pg(t.noDocument.readTime),i=gv.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=tv.fromSegments(t.unknownDocument.path),o=Pg(t.unknownDocument.version);return gv.newUnknownDocument(a,o)}return pp()}function Ng(e,t,n){var r=Ag(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:gy(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hy(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new eg(null,null,a,o,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Og(t.version),c=t.hasCommittedMutations;return new eg(null,new $y(u,s),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Og(t.version);return new eg(new Zy(l,f),null,null,!0,r,i)}return pp()}function Ag(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Rg(e){var t=new Dp(e[0],e[1]);return Lp.fromTimestamp(t)}function Og(e){var t=e.toTimestamp();return new Gy(t.seconds,t.nanoseconds)}function Pg(e){var t=new Dp(e.seconds,e.nanoseconds);return Lp.fromTimestamp(t)}function Dg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Cy(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Cy(e.Gt,t)})),u=Dp.fromMillis(t.localWriteTimeMs);return new Eg(t.batchId,u,n,o)}function Lg(e){var t,n,r=Pg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Pg(e.lastLimboFreeSnapshotVersion):Lp.min();return void 0!==e.query.documents?(vp(1===(n=e.query).documents.length),t=Qv(Bv(by(n.documents[0])))):t=function(e){return Qv(Ry(e))}(e.query),new Tg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Wp.fromBase64String(e.resumeToken))}function Mg(e,t){var n,r=Og(t.snapshotVersion),i=Og(t.lastLimboFreeSnapshotVersion);n=_v(t.target)?Ny(e.Gt,t.target):Ay(e.Gt,t.target);var a=t.resumeToken.toBase64();return new ng(t.targetId,bv(t.target),r,a,t.sequenceNumber,i,n)}function Fg(e){var t=Ry({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jv(t,t.limit,"L"):t}var Ug=function(){function e(){He(this,e)}return Ge(e,[{key:"getBundleMetadata",value:function(e,t){return jg(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Pg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return jg(e).put({bundleId:(n=t).id,createTime:Og(vy(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vg(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Fg(t.bundledQuery),readTime:Pg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vg(e).put(function(e){return{name:e.name,readTime:Og(vy(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function jg(e){return _g(e,ug.store)}function Vg(e){return _g(e,sg.store)}var Bg=function(){function e(){He(this,e),this.zt=new qg}return Ge(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),hg.resolve()}},{key:"getCollectionParents",value:function(e,t){return hg.resolve(this.zt.getEntries(t))}}]),e}(),qg=function(){function e(){He(this,e),this.index={}}return Ge(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new qm(Vp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new qm(Vp.comparator)).toArray()}}]),e}(),zg=function(){function e(){He(this,e),this.Ht=new qg}return Ge(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:zy(i)};return Wg(e).put(a)}return hg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Pp(t),""],!1,!0);return Wg(e).Bt(r).next((function(e){var r,i=Qe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ky(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function Wg(e){return _g(e,ag.store)}var Hg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kg=function(){function e(t,n,r){He(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ge(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Gg(e,t,n){var r=e.store(Yy.store),i=e.store(Xy.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.jt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){vp(1===u)})));var c,l=[],f=Qe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xy.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return hg.waitFor(a).next((function(){return l}))}function Qg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pp();t=e.noDocument}return JSON.stringify(t).length}Kg.DEFAULT_COLLECTION_PERCENTILE=10,Kg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kg.DEFAULT=new Kg(41943040,Kg.DEFAULT_COLLECTION_PERCENTILE,Kg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kg.DISABLED=new Kg(-1,0,0);var Jg=function(){function e(t,n,r,i){He(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Ge(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xg(e).jt({index:Yy.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=$g(e),o=Xg(e);return o.add({}).next((function(u){vp("number"==typeof u);var s,c=new Eg(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Sy(e.Gt,t)})),i=n.mutations.map((function(t){return Sy(e.Gt,t)}));return new Yy(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new qm((function(e,t){return Rp(e.canonicalString(),t.canonicalString())})),d=Qe(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xy.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Xy.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[u]=c.keys()})),hg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Xg(e).get(t).next((function(e){return e?(vp(e.userId===n.userId),Dg(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?hg.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Xg(e).jt({index:Yy.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(vp(t.batchId>=r),a=Dg(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Xg(e).jt({index:Yy.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xg(e).Bt(Yy.userMutationsIndex,n).next((function(e){return e.map((function(e){return Dg(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Xy.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return $g(e).jt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Ky(l);if(c===n.userId&&t.path.isEqual(h))return Xg(e).get(f).next((function(e){if(!e)throw pp();vp(e.userId===n.userId),a.push(Dg(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qm(Rp),i=[];return t.forEach((function(t){var a=Xy.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=$g(e).jt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Ky(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),hg.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Xy.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new qm(Rp);return $g(e).jt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Ky(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.te(e,u)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Xg(e).get(t).next((function(e){if(null===e)throw pp();vp(e.userId===n.userId),r.push(Dg(n.k,e))})))})),hg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Gg(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),hg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return hg.resolve();var r=IDBKeyRange.lowerBound(Xy.prefixForUser(t.userId)),i=[];return $g(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ky(e[1]);i.push(a)}else r.done()})).next((function(){vp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Yg(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return Zg(e).get(this.userId).next((function(e){return e||new Jy(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return vp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Yg(e,t,n){var r=Xy.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return $g(e).jt({range:a,Kt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function Xg(e){return _g(e,Yy.store)}function $g(e){return _g(e,Xy.store)}function Zg(e){return _g(e,Jy.store)}var ek=function(){function e(t){He(this,e),this.se=t}return Ge(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),tk=function(){function e(t,n){He(this,e),this.referenceDelegate=t,this.k=n}return Ge(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new ek(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Lp.fromTimestamp(new Dp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return nk(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return vp(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return nk(e).jt((function(o,u){var s=Lg(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return hg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return nk(e).jt((function(e,n){var r=Lg(n);t(r)}))}},{key:"oe",value:function(e){return rk(e).get(ig.key).next((function(e){return vp(null!==e),e}))}},{key:"ae",value:function(e,t){return rk(e).put(ig.key,t)}},{key:"ce",value:function(e,t){return nk(e).put(Mg(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=bv(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return nk(e).jt({range:r,index:ng.queryTargetsIndexName},(function(e,n,r){var a=Lg(n);xv(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ik(e);return t.forEach((function(t){var o=zy(t.path);i.push(a.put(new rg(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),hg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ik(e);return hg.forEach(t,(function(t){var a=zy(t.path);return hg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ik(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ik(e),i=Xm();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Ky(e[1]),a=new tv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=zy(t.path),r=IDBKeyRange.bound([n],[Pp(n)],!1,!0),i=0;return ik(e).jt({index:rg.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return nk(e).get(t).next((function(e){return e?Lg(e):null}))}}]),e}();function nk(e){return _g(e,ng.store)}function rk(e){return _g(e,ig.store)}function ik(e){return _g(e,rg.store)}function ak(e){return ok.apply(this,arguments)}function ok(){return ok=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===yp.FAILED_PRECONDITION&&t.message===lg){e.next=2;break}throw t;case 2:lp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ok.apply(this,arguments)}function uk(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Rp(r,o);return 0===c?Rp(i,u):c}var sk=function(){function e(t){He(this,e),this.he=t,this.buffer=new qm(uk),this.le=0}return Ge(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();uk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),ck=function(){function e(t,n){He(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Ge(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;lp("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Be(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!yg(n.t0)){n.next=12;break}lp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,ak(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),lk=function(){function e(t,n){He(this,e),this.ge=t,this.params=n}return Ge(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return hg.resolve(Cp.I);var r=new sk(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lp("LruGarbageCollector","Garbage collection skipped; disabled"),hg.resolve(Hg)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(lp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Hg):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(lp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),cp()<=jt.DEBUG&&lp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),hg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),fk=function(){function e(t,n){He(this,e),this.db=t,this.garbageCollector=function(e,t){return new lk(e,t)}(this,n)}return Ge(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return hk(e,n)}},{key:"removeReference",value:function(e,t,n){return hk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return hk(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return Zg(e).Qt((function(r){return Yg(e,r,t).next((function(e){return e&&(n=!0),hg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,u){if(u<=t){var s=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),ik(e).delete([0,zy(o.path)])}))}));i.push(s)}})).next((function(){return hg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return hk(e,t)}},{key:"Ie",value:function(e,t){var n,r=ik(e),i=Cp.I;return r.jt({index:rg.documentTargetsIndex},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Cp.I&&t(new tv(Ky(n)),i),i=c,n=u):i=Cp.I})).next((function(){i!==Cp.I&&t(new tv(Ky(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function hk(e,t){return ik(e).put(function(e,t){return new rg(0,zy(e.path),t)}(t,e.currentSequenceNumber))}var dk=function(){function e(t,n){He(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Ge(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Qe(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Fp(this.inner,(function(t,n){var r,i=Qe(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Up(this.inner)}}]),e}(),pk=function(){function e(){He(this,e),this.changes=new dk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ge(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Lp.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:gv.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?hg.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),vk=function(){function e(t,n){He(this,e),this.k=t,this.Jt=n}return Ge(e,[{key:"addEntry",value:function(e,t,n){return gk(e).put(kk(t),n)}},{key:"removeEntry",value:function(e,t){var n=gk(e),r=kk(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return gk(e).get(kk(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return gk(e).get(kk(t)).next((function(e){return{document:n.Pe(t,e),size:Qg(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=Hm();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=Hm(),i=new jm(tv.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,Qg(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return hg.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return gk(e).jt({range:r},(function(e,t,r){for(var o=tv.fromSegments(e);a&&tv.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=Hm(),a=t.path.length+1,o={};if(n.isEqual(Lp.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Ag(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=eg.collectionReadTimeIndex}return gk(e).jt(o,(function(e,n,o){if(e.length===a){var u=Cg(r.k,n);t.path.isPrefixOf(u.key.path)?Zv(t,u)&&(i=i.insert(u.key,u)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new mk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return yk(e).get(tg.key).next((function(e){return vp(!!e),e}))}},{key:"Re",value:function(e,t){return yk(e).put(tg.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Cg(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Lp.min()))return n}return gv.newInvalidDocument(e)}}]),e}(),mk=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new dk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ge(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new qm((function(e,t){return Rp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Ce.get(a);if(o.document.isValidDocument()){var s=Ng(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Qg(s);r+=c-u,n.push(t.De.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=Ng(t.De.k,gv.newNoDocument(a,Lp.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),hg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(pk);function yk(e){return _g(e,tg.store)}function gk(e){return _g(e,eg.store)}function kk(e){return e.path.toArray()}var wk=function(){function e(t){He(this,e),this.k=t}return Ge(e,[{key:"Nt",value:function(e,t,n,r){var i=this;vp(n<r&&n>=0&&r<=11);var a=new dg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Qy.store)}(e),function(e){e.createObjectStore(Jy.store,{keyPath:Jy.keyPath}),e.createObjectStore(Yy.store,{keyPath:Yy.keyPath,autoIncrement:!0}).createIndex(Yy.userMutationsIndex,Yy.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Xy.store)}(e),bk(e),function(e){e.createObjectStore(eg.store)}(e));var o=hg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(rg.store),e.deleteObjectStore(ng.store),e.deleteObjectStore(ig.store)}(e),bk(e)),o=o.next((function(){return function(e){var t=e.store(ig.store),n=new ig(0,0,Lp.min().toTimestamp(),0);return t.put(ig.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Yy.store).Bt().next((function(n){e.deleteObjectStore(Yy.store),e.createObjectStore(Yy.store,{keyPath:Yy.keyPath,autoIncrement:!0}).createIndex(Yy.userMutationsIndex,Yy.userMutationsKeyPath,{unique:!0});var r=t.store(Yy.store),i=n.map((function(e){return r.put(e)}));return hg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(og.store,{keyPath:og.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(tg.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(eg.store);t.createIndex(eg.readTimeIndex,eg.readTimeIndexPath,{unique:!1}),t.createIndex(eg.collectionReadTimeIndex,eg.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(ug.store,{keyPath:ug.keyPath})}(e),function(e){e.createObjectStore(sg.store,{keyPath:sg.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(eg.store).jt((function(e,n){t+=Qg(n)})).next((function(){var n=new tg(t);return e.store(tg.store).put(tg.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Jy.store),r=e.store(Yy.store);return n.Bt().next((function(n){return hg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Yy.userMutationsIndex,i).next((function(r){return hg.forEach(r,(function(r){vp(r.userId===n.userId);var i=Dg(t.k,r);return Gg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(rg.store),n=e.store(eg.store);return e.store(ig.store).get(ig.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Vp(n),o=function(e){return[0,zy(e)]}(a);r.push(t.get(o).next((function(n){return n?hg.resolve():function(n){return t.put(new rg(0,zy(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return hg.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(ag.store,{keyPath:ag.keyPath});var n=t.store(ag.store),r=new qg,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:zy(i)})}};return t.store(eg.store).jt({Kt:!0},(function(e,t){var n=new Vp(e);return i(n.popLast())})).next((function(){return t.store(Xy.store).jt({Kt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Ky(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(ng.store);return n.jt((function(e,r){var i=Lg(r),a=Mg(t.k,i);return n.put(a)}))}}]),e}();function bk(e){e.createObjectStore(rg.store,{keyPath:rg.keyPath}).createIndex(rg.documentTargetsIndex,rg.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ng.store,{keyPath:ng.keyPath}).createIndex(ng.queryTargetsIndexName,ng.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ig.store)}var xk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",_k=function(){function e(t,n,r,i,a,o,u,s,c,l){if(He(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=u,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new gp(yp.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fk(this,i),this.Ge=n+"main",this.k=new Sg(s),this.ze=new pg(this.Ge,11,new wk(this.k)),this.He=new tk(this.referenceDelegate,this.k),this.Jt=new zg,this.Je=function(e,t){return new vk(e,t)}(this.k,this.Jt),this.Ye=new Ug,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&fp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ge(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new gp(yp.FAILED_PRECONDITION,xk);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Cp(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Be(ze().mark((function n(r){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Be(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ik(t).put(new og(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(yg(t))return lp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return lp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Ek(e).get(Qy.key).next((function(e){return hg.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Ik(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Be(ze().mark((function e(){var t,n,r,i,a=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=_g(e,og.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return hg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Qe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?hg.resolve(!0):Ek(e).get(Qy.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new gp(yp.FAILED_PRECONDITION,xk);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ik(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&lp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Be(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Qy.store,og.store],(function(e){var n=new xg(e,Cp.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ik(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Jg.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;lp("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,cg,(function(a){return i=new xg(a,r.Be?r.Be.next():Cp.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw fp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new gp(yp.FAILED_PRECONDITION,lg);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Ek(e).get(Qy.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new gp(yp.FAILED_PRECONDITION,xk)}))}},{key:"cn",value:function(e){var t=new Qy(this.clientId,this.allowTabSynchronization,Date.now());return Ek(e).put(Qy.key,t)}},{key:"an",value:function(e){var t=this,n=Ek(e);return n.get(Qy.key).next((function(e){return t.un(e)?(lp("IndexedDbPersistence","Releasing primary lease."),n.delete(Qy.key)):hg.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(fp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return lp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return fp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(al){fp("Failed to set zombie client id.",al)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(al){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return pg.bt()}}]),e}();function Ek(e){return _g(e,Qy.store)}function Ik(e){return _g(e,og.store)}function Tk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Sk=Ge((function e(t,n){He(this,e),this.progress=t,this.In=n})),Ck=function(){function e(t,n,r){He(this,e),this.Je=t,this.An=n,this.Jt=r}return Ge(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Qe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Qe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return tv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Kv(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new tv(t)).next((function(e){var t=Gm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Gm();return this.Jt.getCollectionParents(e,i).next((function(o){return hg.forEach(o,(function(o){var u=function(e,t){return new jv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Qe(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Qe(o.mutations);try{for(u.s();!(a=u.n()).done;){var s=a.value,c=s.key,l=r.get(c);null==l&&(l=gv.newInvalidDocument(c),r=r.insert(c,l)),_m(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){u.e(f)}finally{u.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Zv(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Xm(),a=Qe(t);try{for(a.s();!(r=a.n()).done;){var o,u=Qe(r.value.mutations);try{for(u.s();!(o=u.n()).done;){var s=o.value;s instanceof Cm&&null===n.get(s.key)&&(i=i.add(s.key))}}catch(l){u.e(l)}finally{u.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Nk=function(){function e(t,n,r,i){He(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Ge(e,null,[{key:"$n",value:function(t,n){var r,i=Xm(),a=Xm(),o=Qe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ak=function(){function e(){He(this,e)}return Ge(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Lp.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(qv(t)||zv(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(cp()<=jt.DEBUG&&lp("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),$v(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new qm(em(e));return t.forEach((function(t,r){Zv(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return cp()<=jt.DEBUG&&lp("QueryEngine","Using full collection scan to execute query:",$v(t)),this.On.getDocumentsMatchingQuery(e,t,Lp.min())}}]),e}(),Rk=function(){function e(t,n,r,i){He(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new jm(Rp),this.Kn=new dk((function(e){return bv(e)}),xv),this.jn=Lp.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Ck(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return Ge(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Ok(e,t,n,r){return new Rk(e,t,n,r)}function Pk(e,t){return Dk.apply(this,arguments)}function Dk(){return Dk=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Ck(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=Xm(),s=Qe(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Qe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Qe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Qe(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,u).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Dk.apply(this,arguments)}function Lk(e,t){var n=mp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=hg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);vp(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Mk(e){var t=mp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Fk(e,t){var n=mp(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var u=i.get(a);if(u){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return vp(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var u=Hm();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Uk(e,a,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(Lp.min())){var s=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return hg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,u)})).next((function(){return u}))})).then((function(e){return n.qn=i,e}))}function Uk(e,t,n,r,i){var a=Xm();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=Hm();return n.forEach((function(n,o){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Lp.min())?(t.removeEntry(n,s),a=a.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),a=a.insert(n,o)):lp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),a}))}function jk(e,t){var n=mp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Vk(e,t){var n=mp(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,hg.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Tg(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Bk(e,t,n){return qk.apply(this,arguments)}function qk(){return qk=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mp(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),yg(e.t1)){e.next=12;break}throw e.t1;case 12:lp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),qk.apply(this,arguments)}function zk(e,t,n){var r=mp(e),i=Lp.min(),a=Xm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=mp(e),i=r.Kn.get(n);return void 0!==i?hg.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Qv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Lp.min(),n?a:Xm())})).next((function(e){return{documents:e,zn:a}}))}))}function Wk(e,t){var n=mp(e),r=mp(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function Hk(e){var t=mp(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=mp(e),i=Hm(),a=Ag(n),o=gk(t),u=IDBKeyRange.lowerBound(a,!0);return o.jt({index:eg.readTimeIndex,range:u},(function(e,t){var n=Cg(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Rg(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Kk(e){return Gk.apply(this,arguments)}function Gk(){return Gk=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mp(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=gk(e),n=Lp.min();return t.jt({index:eg.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Rg(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t,n,r){return Jk.apply(this,arguments)}function Jk(){return Jk=Be(ze().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=mp(t),o=Xm(),u=Hm(),s=Jm(),c=Qe(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),u=u.insert(h,n.Jn(f)),s=s.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Vk(a,function(e){return Qv(Bv(Vp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Uk(e,d,u,Lp.min(),s).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Yk(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=Be(ze().mark((function e(t,n){var r,i,a,o=arguments;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Xm(),e.next=3,Vk(t,Qv(Fg(n.bundledQuery)));case 3:return i=e.sent,a=mp(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=vy(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Wp.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}var $k=function(){function e(t){He(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Ge(e,[{key:"getBundleMetadata",value:function(e,t){return hg.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:vy(n.createTime)}),hg.resolve()}},{key:"getNamedQuery",value:function(e,t){return hg.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Fg(e.bundledQuery),readTime:vy(e.readTime)}}(t)),hg.resolve()}}]),e}(),Zk=function(){function e(){He(this,e),this.ts=new qm(ew.es),this.ns=new qm(ew.ss)}return Ge(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ew(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new ew(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new tv(new Vp([])),r=new ew(n,e),i=new ew(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new tv(new Vp([])),n=new ew(t,e),r=new ew(t,e+1),i=Xm();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ew(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ew=function(){function e(t,n){He(this,e),this.key=t,this.fs=n}return Ge(e,null,[{key:"es",value:function(e,t){return tv.comparator(e.key,t.key)||Rp(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Rp(e.fs,t.fs)||tv.comparator(e.key,t.key)}}]),e}(),tw=function(){function e(t,n){He(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new qm(ew.es)}return Ge(e,[{key:"checkEmpty",value:function(e){return hg.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Eg(i,t,n,r);this.An.push(a);var o,u=Qe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ws=this.ws.add(new ew(s.key,i)),this.Jt.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return hg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return hg.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return hg.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return hg.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return hg.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ew(t,0),i=new ew(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),hg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new qm(Rp);return t.forEach((function(e){var t=new ew(e,0),i=new ew(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),hg.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;tv.isDocumentKey(i)||(i=i.child(""));var a=new ew(new tv(i),0),o=new qm(Rp);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),hg.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;vp(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return hg.forEach(t.mutations,(function(i){var a=new ew(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ew(t,0),r=this.ws.firstAfterOrEqual(n);return hg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,hg.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),nw=function(){function e(t,n){He(this,e),this.Jt=t,this.Ts=n,this.docs=new jm(tv.comparator),this.size=0}return Ge(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return hg.resolve(n?n.document.clone():gv.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Hm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():gv.newInvalidDocument(e))})),hg.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=Hm(),i=new tv(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Zv(t,c)&&(r=r.insert(c.key,c.clone()))}return hg.resolve(r)}},{key:"Es",value:function(e,t){return hg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new rw(this)}},{key:"getSize",value:function(e){return hg.resolve(this.size)}}]),e}(),rw=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).De=e,r}return Ge(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),hg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(pk),iw=function(){function e(t){He(this,e),this.persistence=t,this.Is=new dk((function(e){return bv(e)}),xv),this.lastRemoteSnapshotVersion=Lp.min(),this.highestTargetId=0,this.As=0,this.Rs=new Zk,this.targetCount=0,this.Ps=ek.ie()}return Ge(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),hg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return hg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return hg.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),hg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),hg.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new ek(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,hg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),hg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,hg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),hg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return hg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return hg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),hg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),hg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),hg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return hg.resolve(n)}},{key:"containsKey",value:function(e,t){return hg.resolve(this.Rs.containsKey(t))}}]),e}(),aw=function(){function e(t,n){var r=this;He(this,e),this.bs={},this.Be=new Cp(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new iw(this),this.Jt=new Bg,this.Je=function(e,t){return new nw(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Sg(n),this.Ye=new $k(this.k)}return Ge(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new tw(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;lp("MemoryPersistence","Starting transaction:",e);var i=new ow(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return hg.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ow=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ge(n)}(fg),uw=function(){function e(t){He(this,e),this.persistence=t,this.Cs=new Zk,this.Ns=null}return Ge(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw pp()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),hg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),hg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),hg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hg.forEach(this.xs,(function(r){var i=tv.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return hg.or([function(){return hg.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function sw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function cw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function lw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var fw=function(){function e(t,n,r,i){He(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ge(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new gp(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(fp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),hw=function(){function e(t,n,r){He(this,e),this.targetId=t,this.state=n,this.error=r}return Ge(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new gp(i.error.code,i.error.message))),a?new e(t,i.state,r):(fp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),dw=function(){function e(t,n){He(this,e),this.clientId=t,this.activeTargetIds=n}return Ge(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Zm(),o=0;i&&o<r.activeTargetIds.length;++o)i=ev(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(fp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),pw=function(){function e(t,n){He(this,e),this.clientId=t,this.onlineState=n}return Ge(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(fp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),vw=function(){function e(){He(this,e),this.activeTargetIds=Zm()}return Ge(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),mw=function(){function e(t,n,r,i,a){He(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new jm(Rp),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=sw(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new vw),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Ge(e,[{key:"start",value:function(){var e=Be(ze().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Qe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(sw(this.persistenceKey,i)))&&(o=dw.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(u=this.storage.getItem(this.Js))&&(s=this.Zs(u))&&this.ti(s),c=Qe(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(lw(this.persistenceKey,e));if(n){var r=hw.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(lw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return lp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){lp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){lp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(lp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void fp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Be(ze().mark((function e(){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(u));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}s=function(e){var t=Cp.I;if(null!=e)try{var n=JSON.parse(e);vp("number"==typeof n),t=n}catch(e){fp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Cp.I&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new fw(this.currentUser,e,t,n),i=cw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=cw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=lw(this.persistenceKey,e),i=new hw(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return dw.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fw.Fs(new op(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return hw.Fs(r,t)}},{key:"Zs",value:function(e){return pw.Fs(e)}},{key:"fi",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:lp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.yi(o,u).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=Zm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),yw=function(){function e(){He(this,e),this.pi=new vw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ge(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new vw,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),gw=function(){function e(){He(this,e)}return Ge(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),kw=function(){function e(){var t=this;He(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return Ge(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){lp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Qe(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){lp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Qe(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ww={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bw=function(){function e(t){He(this,e),this.Vi=t.Vi,this.Si=t.Si}return Ge(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),xw=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ge(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ip;o.listenOnce(Zd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case $d.NO_ERROR:var t=o.getResponseJson();lp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $d.TIMEOUT:lp("Connection",'RPC "'+e+'" timed out'),a(new gp(yp.DEADLINE_EXCEEDED,"Request time out"));break;case $d.HTTP_ERROR:var n=o.getStatus();if(lp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yp).indexOf(t)>=0?t:yp.UNKNOWN}(r.status);a(new gp(u,r.message))}else a(new gp(yp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gp(yp.UNAVAILABLE,"Connection failed."));break;default:pp()}}finally{lp("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Yd(),a=Xd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new np({})),this.qi(o.initMessageHeaders,t,n),dt()||mt()||ht().indexOf("Electron/")>=0||yt()||ht().indexOf("MSAppHost/")>=0||vt()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");lp("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new bw({Vi:function(e){l?lp("Connection","Not sending because WebChannel is closed:",e):(c||(lp("Connection","Opening WebChannel transport."),s.open(),c=!0),lp("Connection","WebChannel sending:",e),s.send(e))},Si:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,rp.EventType.OPEN,(function(){l||lp("Connection","WebChannel transport opened.")})),h(s,rp.EventType.CLOSE,(function(){l||(l=!0,lp("Connection","WebChannel transport closed"),f.Fi())})),h(s,rp.EventType.ERROR,(function(e){l||(l=!0,hp("Connection","WebChannel transport errored:",e),f.Fi(new gp(yp.UNAVAILABLE,"The operation could not be completed")))})),h(s,rp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];vp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){lp("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Om[e];if(void 0!==t)return Um(t)}(a),u=i.message;void 0===o&&(o=yp.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new gp(o,u)),s.close()}else lp("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,ep.STAT_EVENT,(function(e){e.stat===tp.PROXY?lp("Connection","Detected buffering proxy"):e.stat===tp.NOPROXY&&lp("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){He(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ge(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);lp("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return lp("RestConnection","Received: ",e),e}),(function(t){throw hp("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+up,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=ww[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function _w(){return"undefined"!=typeof window?window:null}function Ew(){return"undefined"!=typeof document?document:null}function Iw(e){return new fy(e,!0)}var Tw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;He(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Ge(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&lp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Sw=function(){function e(t,n,r,i,a,o,u,s){He(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Tw(t,n)}return Ge(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===yp.RESOURCE_EXHAUSTED?(fp(n.toString()),fp("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===yp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new gp(yp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return lp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(lp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Cw=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a,o,u){var s;return He(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).k=o,s}return Ge(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(vp(void 0===t||"string"==typeof t),Wp.fromBase64String(t||"")):(vp(void 0===t||t instanceof Uint8Array),Wp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?yp.UNKNOWN:Um(e.code);return new gp(t,e.message||"")}(o);n=new iy(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=ky(e,s.document.name),l=vy(s.document.updateTime),f=new mv({mapValue:{fields:s.document.fields}}),h=gv.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new ny(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=ky(e,v.document),y=v.readTime?vy(v.readTime):Lp.min(),g=gv.newNoDocument(m,y),k=v.removedTargetIds||[];n=new ny([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=ky(e,w.document),x=w.removedTargetIds||[];n=new ny([],x,b,null)}else{if(!("filter"in t))return pp();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new Mm(E),T=_.targetId;n=new ry(T,I)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Lp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lp.min():t.readTime?vy(t.readTime):Lp.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=xy(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=_v(r)?{documents:Ny(e,r)}:{query:Ay(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=dy(e,t.resumeToken):t.snapshotVersion.compareTo(Lp.min())>0&&(n.readTime=hy(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pp()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=xy(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Sw),Nw=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a,o,u){var s;return He(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).k=o,s.Vr=!1,s}return Ge(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,On($e(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(vp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(vp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vy(e.updateTime):vy(t);return n.isEqual(Lp.min())&&(n=vy(t)),new gm(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vy(e.commitTime);return this.listener.Cr(n,t)}return vp(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=xy(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sy(t.k,e)}))};this.gr(n)}}]),n}(Sw),Aw=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a){var o;return He(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Ge(n,[{key:"Fr",value:function(){if(this.$r)throw new gp(yp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.ir.Bi(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gp(yp.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.ir.ji(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new gp(yp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Ge((function e(){He(this,e)}))}()),Rw=function(){function e(t,n){He(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return Ge(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(fp(t),this.Lr=!1):lp("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Ow=Ge((function e(t,n,r,i,a){var o=this;He(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=zw(o),!e.t0){e.next=5;break}return lp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mp(t)).Gr.add(4),e.next=4,Lw(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Pw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Rw(r,i)}));function Pw(e){return Dw.apply(this,arguments)}function Dw(){return Dw=Be(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zw(t)){e.next=18;break}n=Qe(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Dw.apply(this,arguments)}function Lw(e){return Mw.apply(this,arguments)}function Mw(){return Mw=Be(ze().mark((function e(t){var n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Qe(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Mw.apply(this,arguments)}function Fw(e,t){var n=mp(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),qw(n)?Bw(n):mb(n).lr()&&jw(n,t))}function Uw(e,t){var n=mp(e),r=mb(n);n.Wr.delete(t),r.lr()&&Vw(n,t),0===n.Wr.size&&(r.lr()?r._r():zw(n)&&n.Jr.set("Unknown"))}function jw(e,t){e.Yr.X(t.targetId),mb(e).br(t)}function Vw(e,t){e.Yr.X(t),mb(e).vr(t)}function Bw(e){e.Yr=new oy({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),mb(e).start(),e.Jr.Br()}function qw(e){return zw(e)&&!mb(e).hr()&&e.Wr.size>0}function zw(e){return 0===mp(e).Gr.size}function Ww(e){e.Yr=void 0}function Hw(e){return Kw.apply(this,arguments)}function Kw(){return Kw=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){jw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Kw.apply(this,arguments)}function Gw(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ww(t),qw(t)?(t.Jr.Kr(n),Bw(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Jw(e,t,n){return Yw.apply(this,arguments)}function Yw(){return Yw=Be(ze().mark((function e(t,n,r){var i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof iy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Qe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),lp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Xw(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ny?t.Yr.ot(n):n instanceof ry?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Lp.min())){e.next=29;break}return e.prev=14,e.next=17,Mk(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Wp.EMPTY_BYTE_STRING,n.snapshotVersion)),Vw(e,t);var r=new Tg(n.target,t,1,n.sequenceNumber);jw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),lp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Xw(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Yw.apply(this,arguments)}function Xw(e,t,n){return $w.apply(this,arguments)}function $w(){return $w=Be(ze().mark((function e(t,n,r){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yg(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Lw(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Mk(t.localStore)}),t.asyncQueue.enqueueRetryable(Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Pw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Zw(e,t){return t().catch((function(n){return Xw(e,n,t)}))}function eb(e){return tb.apply(this,arguments)}function tb(){return tb=Be(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=mp(t),r=yb(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!nb(n)){e.next=19;break}return e.prev=3,e.next=6,jk(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,rb(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Xw(n,e.t0);case 17:e.next=2;break;case 19:ib(n)&&ab(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),tb.apply(this,arguments)}function nb(e){return zw(e)&&e.Qr.length<10}function rb(e,t){e.Qr.push(t);var n=yb(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function ib(e){return zw(e)&&!yb(e).hr()&&e.Qr.length>0}function ab(e){yb(e).start()}function ob(e){return ub.apply(this,arguments)}function ub(){return ub=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yb(t).kr();case 1:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function sb(e){return cb.apply(this,arguments)}function cb(){return cb=Be(ze().mark((function e(t){var n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yb(t),r=Qe(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t,n){return fb.apply(this,arguments)}function fb(){return fb=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Ig.from(i,n,r),e.next=3,Zw(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,eb(t);case 5:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(e,t){return db.apply(this,arguments)}function db(){return db=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&yb(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fm(i=n.code)||i===yp.ABORTED){e.next=7;break}return r=t.Qr.shift(),yb(t).wr(),e.next=5,Zw(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,eb(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:ib(t)&&ab(t);case 5:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t){return vb.apply(this,arguments)}function vb(){return vb=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Pw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Lw(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function mb(e){return e.Xr||(e.Xr=function(e,t,n){var r=mp(e);return r.Fr(),new Cw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Hw.bind(null,e),Ni:Gw.bind(null,e),Pr:Jw.bind(null,e)}),e.zr.push(function(){var t=Be(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),qw(e)?Bw(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Ww(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function yb(e){return e.Zr||(e.Zr=function(e,t,n){var r=mp(e);return r.Fr(),new Nw(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:ob.bind(null,e),Ni:hb.bind(null,e),Nr:sb.bind(null,e),Cr:lb.bind(null,e)}),e.zr.push(function(){var t=Be(ze().mark((function t(n){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,eb(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(lp("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var gb=function(){function e(t,n,r,i,a){He(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new kp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ge(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gp(yp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function kb(e,t){if(fp("AsyncQueue","".concat(t,": ").concat(e)),yg(e))return new gp(yp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var wb=function(){function e(t){He(this,e),this.comparator=t?function(e,n){return t(e,n)||tv.comparator(e.key,n.key)}:function(e,t){return tv.comparator(e.key,t.key)},this.keyedMap=Gm(),this.sortedSet=new jm(this.comparator)}return Ge(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),bb=function(){function e(){He(this,e),this.eo=new jm(tv.comparator)}return Ge(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):pp():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),xb=function(){function e(t,n,r,i,a,o,u,s){He(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ge(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,wb.emptySet(n),a,r,i,!0,!1)}}]),e}(),_b=Ge((function e(){He(this,e),this.so=void 0,this.listeners=[]})),Eb=Ge((function e(){He(this,e),this.queries=new dk((function(e){return Xv(e)}),Yv),this.onlineState="Unknown",this.io=new Set}));function Ib(e,t){return Tb.apply(this,arguments)}function Tb(){return Tb=Be(ze().mark((function e(t,n){var r,i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new _b),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=kb(e.t0,"Initialization of query '".concat($v(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Rb(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Tb.apply(this,arguments)}function Sb(e,t){return Cb.apply(this,arguments)}function Cb(){return Cb=Be(ze().mark((function e(t,n){var r,i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Cb.apply(this,arguments)}function Nb(e,t){var n,r=mp(e),i=!1,a=Qe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Qe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Rb(r)}function Ab(e,t,n){var r=mp(e),i=r.queries.get(t);if(i){var a,o=Qe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Rb(e){e.io.forEach((function(e){e.next()}))}var Ob=function(){function e(t,n,r){He(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Ge(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Qe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new xb(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=xb.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),Pb=function(){function e(t,n){He(this,e),this.payload=t,this.byteLength=n}return Ge(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Db=function(){function e(t){He(this,e),this.k=t}return Ge(e,[{key:"Hn",value:function(e){return ky(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Iy(this.k,e.document,!1):gv.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return vy(e)}}]),e}(),Lb=function(){function e(t,n,r){He(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Mb(t)}return Ge(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Db(this.k),i=Qe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Hn(a.metadata.name),s=Qe(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Xm()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Be(ze().mark((function e(){var t,n,r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qk(this.localStore,new Db(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Qe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Yk(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Sk(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Fb=Ge((function e(t){He(this,e),this.key=t})),Ub=Ge((function e(t){He(this,e),this.key=t})),jb=function(){function e(t,n){He(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Xm(),this.mutatedKeys=Xm(),this.Ao=em(t),this.Ro=new wb(this.Ao)}return Ge(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new bb,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=qv(this.query)&&i.size===this.query.limit?i.last():null,c=zv(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Zv(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ao(f,s)>0||c&&n.Ao(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),qv(this.query)||zv(this.query))for(;o.size>this.query.limit;){var l=qv(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:u,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pp()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],u=0===this.Io.size&&this.current?1:0,s=u!==this.Eo;return this.Eo=u,0!==a.length||s?{snapshot:new xb(this.query,e.Ro,i,a,e.mutatedKeys,0===u,s,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new bb,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Xm(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Ub(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Fb(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Xm();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return xb.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Vb=Ge((function e(t,n,r){He(this,e),this.query=t,this.targetId=n,this.view=r})),Bb=Ge((function e(t){He(this,e),this.key=t,this.$o=!1})),qb=function(){function e(t,n,r,i,a,o){He(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new dk((function(e){return Xv(e)}),Yv),this.Mo=new Map,this.Lo=new Set,this.Bo=new jm(tv.comparator),this.Uo=new Map,this.qo=new Zk,this.Ko={},this.jo=new Map,this.Qo=ek.re(),this.onlineState="Unknown",this.Wo=void 0}return Ge(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function zb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Be(ze().mark((function e(t,n){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mx(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Vk(r.localStore,Qv(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Hb(r,n,i,"current"===s);case 13:a=e.sent,r.isPrimaryClient&&Fw(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Hb(e,t,n,r){return Kb.apply(this,arguments)}function Kb(){return Kb=Be(ze().mark((function e(t,n,r,i){var a,o,u,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Be(ze().mark((function e(t,n,r,i){var a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,zk(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(hx(t,n.targetId,u.Co),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,zk(t.localStore,n,!0);case 3:return a=e.sent,o=new jb(n,a.zn),u=o.bo(a.documents),s=ty.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),hx(t,r,c.Co),l=new Vb(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Kb.apply(this,arguments)}function Gb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mp(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!Yv(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Bk(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Uw(r.remoteStore,i.targetId),lx(r,i.targetId)})).catch(ak);case 9:e.next=14;break;case 11:return lx(r,i.targetId),e.next=14,Bk(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}function Jb(e,t,n){return Yb.apply(this,arguments)}function Yb(){return Yb=Be(ze().mark((function e(t,n,r){var i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fx(t),e.prev=1,e.next=4,function(e,t){var n,r=mp(e),i=Dp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Xm());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,u=[],s=Qe(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Em(c,n.get(c.key));null!=l&&u.push(new Cm(c.key,l,yv(l.value.mapValue),km.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.An.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new jm(Rp)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,vx(i,a.changes);case 9:return e.next=11,eb(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=kb(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Yb.apply(this,arguments)}function Xb(e,t){return $b.apply(this,arguments)}function $b(){return $b=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),e.prev=1,e.next=4,Fk(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(vp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?vp(n.$o):e.removedDocuments.size>0&&(vp(n.$o),n.$o=!1))})),e.next=8,vx(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ak(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),$b.apply(this,arguments)}function Zb(e,t,n){var r=mp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=mp(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Qe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Rb(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ex(e,t,n){return tx.apply(this,arguments)}function tx(){return tx=Be(ze().mark((function e(t,n,r){var i,a,o,u,s,c;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=mp(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new jm(tv.comparator)).insert(o,gv.newNoDocument(o,Lp.min())),s=Xm().add(o),c=new ey(Lp.min(),new Map,new qm(Rp),u,s),e.next=9,Xb(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),px(i),e.next=16;break;case 14:return e.next=16,Bk(i.localStore,n,!1).then((function(){return lx(i,n,r)})).catch(ak);case 16:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),i=n.batch.batchId,e.prev=1,e.next=4,Lk(r.localStore,n);case 4:return a=e.sent,cx(r,i,null),sx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,vx(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ak(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),rx.apply(this,arguments)}function ix(e,t,n){return ax.apply(this,arguments)}function ax(){return ax=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mp(t),e.prev=1,e.next=4,function(e,t){var n=mp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return vp(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,cx(i,n,r),sx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,vx(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ak(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ax.apply(this,arguments)}function ox(e,t){return ux.apply(this,arguments)}function ux(){return ux=Be(ze().mark((function e(t,n){var r,i,a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zw((r=mp(t)).remoteStore)||lp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=mp(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=kb(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ux.apply(this,arguments)}function sx(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function cx(e,t,n){var r=mp(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function lx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Qe(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||fx(e,t)}))}function fx(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Uw(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),px(e))}function hx(e,t,n){var r,i=Qe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Fb?(e.qo.addReference(a.key,t),dx(e,a)):a instanceof Ub?(lp("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||fx(e,a.key)):pp()}}catch(o){i.e(o)}finally{i.f()}}function dx(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(lp("SyncEngine","New document in limbo: "+n),e.Lo.add(r),px(e))}function px(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new tv(Vp.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Bb(n)),e.Bo=e.Bo.insert(n,r),Fw(e.remoteStore,new Tg(Qv(Bv(n.path)),r,2,Cp.I))}}function vx(e,t,n){return mx.apply(this,arguments)}function mx(){return mx=Be(ze().mark((function e(t,n,r){var i,a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=mp(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Nk.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Be(ze().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return hg.forEach(n,(function(t){return hg.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return hg.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),yg(e.t0)){e.next=10;break}throw e.t0;case 10:lp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Qe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.qn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=mp(t)).currentUser.isEqual(n)){e.next=11;break}return lp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Pk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new gp(yp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,vx(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function kx(e,t){var n=mp(e),r=n.Uo.get(t);if(r&&r.$o)return Xm().add(r.key);var i=Xm(),a=n.Mo.get(t);if(!a)return i;var o,u=Qe(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Oo.get(s);i=i.unionWith(c.view.Po)}}catch(l){u.e(l)}finally{u.f()}return i}function wx(e,t){return bx.apply(this,arguments)}function bx(){return bx=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),e.next=3,zk(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&hx(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),bx.apply(this,arguments)}function xx(e){return _x.apply(this,arguments)}function _x(){return _x=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mp(t),e.abrupt("return",Hk(n.localStore).then((function(e){return vx(n,e)})));case 2:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Ex(e,t,n,r){return Ix.apply(this,arguments)}function Ix(){return Ix=Be(ze().mark((function e(t,n,r,i){var a,o;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mp(t),e.next=3,function(e,t){var n=mp(e),r=mp(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):hg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,eb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(cx(a,n,i||null),sx(a,n),function(e,t){mp(mp(e).An).ee(t)}(a.localStore,n)):pp();case 11:return e.next=13,vx(a,o);case 13:e.next=16;break;case 15:lp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Tx(e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=Be(ze().mark((function e(t,n){var r,i,a,o,u,s,c,l;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mx(r=mp(t)),Fx(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Cx(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,pb(r.remoteStore,!0);case 9:o=Qe(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Fw(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return lx(r,t),Bk(r.localStore,t,!0)})),Uw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Cx(r,c);case 21:return function(e){var t=mp(e);t.Uo.forEach((function(e,n){Uw(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new jm(tv.comparator)}(r),r.Wo=!1,e.next=25,pb(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Cx(e,t,n){return Nx.apply(this,arguments)}function Nx(){return Nx=Be(ze().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=mp(t),a=[],o=[],u=Qe(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,Vk(i.localStore,Qv(f[0]));case 11:l=e.sent,h=Qe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,wx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Wk(i.localStore,c);case 36:return y=e.sent,e.next=39,Vk(i.localStore,y);case 39:return l=e.sent,e.next=42,Hb(i,Ax(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Nx.apply(this,arguments)}function Ax(e){return Vv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Rx(e){var t=mp(e);return mp(mp(t.localStore).persistence).Tn()}function Ox(e,t,n,r){return Px.apply(this,arguments)}function Px(){return Px=Be(ze().mark((function e(t,n,r,i){var a,o,u;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=mp(t)).Wo){e.next=5;break}lp("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Hk(a.localStore);case 11:return o=e.sent,u=ey.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,vx(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Bk(a.localStore,n,!0);case 18:return lx(a,n,i),e.abrupt("break",21);case 20:pp();case 21:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Dx(e,t,n){return Lx.apply(this,arguments)}function Lx(){return Lx=Be(ze().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Mx(t)).Wo){e.next=45;break}a=Qe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Mo.has(u)){e.next=10;break}return lp("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Wk(i.localStore,u);case 12:return s=e.sent,e.next=15,Vk(i.localStore,s);case 15:return c=e.sent,e.next=18,Hb(i,Ax(s),c.targetId,!1);case 18:Fw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Qe(r),e.prev=30,h=ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,Bk(i.localStore,t,!1).then((function(){Uw(i.remoteStore,t),lx(i,t)})).catch(ak);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Lx.apply(this,arguments)}function Mx(e){var t=mp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Xb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ex.bind(null,t),t.Fo.Pr=Nb.bind(null,t.eventManager),t.Fo.zo=Ab.bind(null,t.eventManager),t}function Fx(e){var t=mp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ix.bind(null,t),t}function Ux(e,t,n){var r=mp(e);(function(){var e=Be(ze().mark((function e(t,n,r){var i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=mp(e),r=vy(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Mb(i)),a=new Lb(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,vx(t,s.In,void 0);case 30:return e.next=32,function(e,t){var n=mp(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),hp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var jx=function(){function e(){He(this,e),this.synchronizeTabs=!1}return Ge(e,[{key:"initialize",value:function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Iw(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Ok(this.persistence,new Ak,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new aw(uw.ks,this.k)}},{key:"Jo",value:function(e){return new yw}},{key:"terminate",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vx=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ge(n,[{key:"initialize",value:function(){var e=Be(ze().mark((function e(t){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On($e(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Kk(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,Fx(this.ta.syncEngine);case 8:return e.next=10,eb(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Ok(this.persistence,new Ak,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new ck(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Kg.withCacheSize(this.cacheSizeBytes):Kg.DEFAULT;return new _k(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_w(),Ew(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new yw}}]),n}(jx),Bx=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ge(n,[{key:"initialize",value:function(){var e=Be(ze().mark((function e(t){var r,i=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On($e(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof mw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Ex.bind(null,r),gi:Ox.bind(null,r),yi:Dx.bind(null,r),Tn:Rx.bind(null,r),_i:xx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tx(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=_w();if(!mw.bt(t))throw new gp(yp.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Tk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Vx),qx=function(){function e(){He(this,e)}return Ge(e,[{key:"initialize",value:function(){var e=Be(ze().mark((function e(t,n){var r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Zb(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yx.bind(null,this.syncEngine),e.next=12,pb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Eb}},{key:"createDatastore",value:function(e){var t,n=Iw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xw(t));return function(e,t,n,r){return new Aw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Zb(o.syncEngine,e,0)},a=kw.bt()?new kw:new gw,new Ow(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new qb(e,t,n,r,i,a);return o&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mp(t),lp("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Lw(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function zx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Be(ze().mark((function r(){var i;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Wx=function(){function e(t){He(this,e),this.observer=t,this.muted=!1}return Ge(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Hx=function(){function e(t,n){var r=this;He(this,e),this.sa=t,this.k=n,this.metadata=new kp,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ge(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Be(ze().mark((function e(){var t,n,r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new Pb(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Be(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Be(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Kx=function(){function e(t){He(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ge(e,[{key:"lookup",value:function(){var e=Be(ze().mark((function e(t){var n,r=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new gp(yp.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Be(ze().mark((function e(t,n){var r,i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),i=xy(r.k)+"/documents",a={documents:n.map((function(e){return gy(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Ty(r.k,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());vp(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Dm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Be(ze().mark((function e(){var t,n=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=tv.fromPath(t);n.mutations.push(new Lm(r,n.precondition(r)))})),e.next=7,function(){var e=Be(ze().mark((function e(t,n){var r,i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mp(t),i=xy(r.k)+"/documents",a={writes:n.map((function(e){return Sy(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pp();t=Lp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gp(yp.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?km.updateTime(t):km.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lp.min()))throw new gp(yp.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return km.updateTime(t)}return km.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Gx=function(){function e(t,n,r,i){He(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Tw(this.asyncQueue,"transaction_retry")}return Ge(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Be(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Kx(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!$p(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Fm(t)}return!1}}]),e}(),Qx=function(){function e(t,n,r,i){var a=this;He(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=op.UNAUTHENTICATED,this.clientId=Ap.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lp("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Ge(e,[{key:"getConfiguration",value:function(){var e=Be(ze().mark((function e(){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new gp(yp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new kp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Be(ze().mark((function n(){var r;return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=kb(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Jx(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),lp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Pk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Xx(e,t){return $x.apply(this,arguments)}function $x(){return $x=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Zx(t);case 3:return r=e.sent,lp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Be(ze().mark((function e(t,n){var r,i;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=mp(t)).asyncQueue.verifyOperationInProgress(),lp("RemoteStore","RemoteStore received new credentials"),i=zw(r),r.Gr.add(3),e.next=6,Lw(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Pw(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Zx(e){return e_.apply(this,arguments)}function e_(){return e_=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return lp("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Jx(t,new jx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e){return n_.apply(this,arguments)}function n_(){return n_=Be(ze().mark((function e(t){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return lp("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Xx(t,new qx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e){return Zx(e).then((function(e){return e.persistence}))}function i_(e){return Zx(e).then((function(e){return e.localStore}))}function a_(e){return t_(e).then((function(e){return e.remoteStore}))}function o_(e){return t_(e).then((function(e){return e.syncEngine}))}function u_(e){return s_.apply(this,arguments)}function s_(){return s_=Be(ze().mark((function e(t){var n,r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t_(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=zb.bind(null,n.syncEngine),r.onUnlisten=Gb.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}function c_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Wx({next:function(a){t.enqueueAndForget((function(){return Sb(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new gp(yp.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new gp(yp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ob(Bv(n.path),a,{includeMetadataChanges:!0,wo:!0});return Ib(e,o)},i.next=3,u_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function l_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Wx({next:function(n){t.enqueueAndForget((function(){return Sb(e,o)})),n.fromCache&&"server"===r.source?i.reject(new gp(yp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ob(n,a,{includeMetadataChanges:!0,wo:!0});return Ib(e,o)},i.next=3,u_(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var f_=Ge((function e(t,n,r,i,a,o,u,s){He(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),h_=function(){function e(t,n){He(this,e),this.projectId=t,this.database=n||"(default)"}return Ge(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),d_=new Map;function p_(e,t,n){if(!n)throw new gp(yp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function v_(e,t,n,r){if(!0===t&&!0===r)throw new gp(yp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function m_(e){if(!tv.isDocumentKey(e))throw new gp(yp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function y_(e){if(tv.isDocumentKey(e))throw new gp(yp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function g_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":pp()}function k_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gp(yp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=g_(e);throw new gp(yp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function w_(e,t){if(t<=0)throw new gp(yp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var b_=function(){function e(t){var n;if(He(this,e),void 0===t.host){if(void 0!==t.ssl)throw new gp(yp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gp(yp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,v_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ge(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),x_=function(){function e(t,n,r){He(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,t instanceof h_?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gp(yp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h_(e.options.projectId)}(t))}return Ge(e,[{key:"app",get:function(){if(!this._app)throw new gp(yp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new gp(yp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bp;switch(e.type){case"gapi":var t=e.client;return vp(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ip(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new gp(yp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=d_.get(e);t&&(lp("ComponentProvider","Removing Datastore"),d_.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function __(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=k_(e,x_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&hp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=op.MOCK_USER;else{o=ft(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new gp(yp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new op(s)}e._authCredentials=new xp(new wp(o,u))}}var E_=function(){function e(t,n,r){He(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ge(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new T_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),I_=function(){function e(t,n,r){He(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ge(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),T_=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,e,r,Bv(i)))._path=i,a.type="collection",a}return Ge(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new E_(this.firestore,null,new tv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(I_);function S_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),p_("collection","path",t),e instanceof x_){var a=Vp.fromString.apply(Vp,[t].concat(r));return y_(a),new T_(e,null,a)}if(!(e instanceof E_||e instanceof T_))throw new gp(yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Vp.fromString.apply(Vp,[t].concat(r)));return y_(o),new T_(e.firestore,null,o)}function C_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=Ap.A()),p_("doc","path",t),e instanceof x_){var a=Vp.fromString.apply(Vp,[t].concat(r));return m_(a),new E_(e,null,new tv(a))}if(!(e instanceof E_||e instanceof T_))throw new gp(yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Vp.fromString.apply(Vp,[t].concat(r)));return m_(o),new E_(e.firestore,e instanceof T_?e.converter:null,new tv(o))}function N_(e,t){return e=Ot(e),t=Ot(t),(e instanceof E_||e instanceof T_)&&(t instanceof E_||t instanceof T_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function A_(e,t){return e=Ot(e),t=Ot(t),e instanceof I_&&t instanceof I_&&e.firestore===t.firestore&&Yv(e._query,t._query)&&e.converter===t.converter}var R_=function(){function e(){var t=this;He(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Tw(this,"async_queue_retry"),this.Ra=function(){var e=Ew();e&&lp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Ew();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return Ge(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Ew();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new kp;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Be(ze().mark((function e(){var t=this;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),yg(e.t0)){e.next=12;break}throw e.t0;case 12:lp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw fp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=gb.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&pp()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Be(ze().mark((function e(){var t;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Qe(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Qe(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function O_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Qe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var P_=function(){function e(){He(this,e),this._progressObserver={},this._taskCompletionResolver=new kp,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ge(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),D_=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new R_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ge(n,[{key:"_terminate",value:function(){return this._firestoreClient||M_(this),this._firestoreClient.terminate()}}]),n}(x_);function L_(e){return e._firestoreClient||M_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function M_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new f_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Qx(e._authCredentials,e._appCheckCredentials,e._queue,r)}function F_(e,t,n){var r=new kp;return e.asyncQueue.enqueue(Be(ze().mark((function i(){return ze().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Jx(e,n);case 3:return i.next=5,Xx(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===yp.FAILED_PRECONDITION||e.code===yp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function U_(e){return function(e){return e.asyncQueue.enqueue(Be(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r_(e);case 2:return n=t.sent,t.next=5,a_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=mp(e);return t.Gr.delete(0),Pw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(L_(e=k_(e,D_)))}function j_(e){return function(e){return e.asyncQueue.enqueue(Be(ze().mark((function t(){var n,r;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r_(e);case 2:return n=t.sent,t.next=5,a_(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mp(t)).Gr.add(0),e.next=4,Lw(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(L_(e=k_(e,D_)))}function V_(e,t){var n=L_(e=k_(e,D_)),r=new P_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Hx(e,t)}(function(e,t){if(e instanceof Uint8Array)return zx(e,t);if(e instanceof ArrayBuffer)return zx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Iw(t));e.asyncQueue.enqueueAndForget(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ux,t.next=3,o_(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function B_(e,t){return function(e,t){return e.asyncQueue.enqueue(Be(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=mp(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,i_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(L_(e=k_(e,D_)),t).then((function(t){return t?new I_(e,null,t.query):null}))}function q_(e){if(e._initialized||e._terminated)throw new gp(yp.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var z_=function(){function e(){He(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new gp(yp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qp(n)}return Ge(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var W_=function(){function e(t){He(this,e),this._byteString=t}return Ge(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Wp.fromBase64String(t))}catch(t){throw new gp(yp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Wp.fromUint8Array(t))}}]),e}(),H_=Ge((function e(t){He(this,e),this._methodName=t})),K_=function(){function e(t,n){if(He(this,e),!isFinite(t)||t<-90||t>90)throw new gp(yp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gp(yp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ge(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Rp(this._lat,e._lat)||Rp(this._long,e._long)}}]),e}(),G_=/^__.*__$/,Q_=function(){function e(t,n,r){He(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ge(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Cm(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sm(e,this.data,t,this.fieldTransforms)}}]),e}(),J_=function(){function e(t,n,r){He(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ge(e,[{key:"toMutation",value:function(e,t){return new Cm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Y_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pp()}}var X_=function(){function e(t,n,r,i,a,o){He(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ge(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return yE(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Y_(this.xa)&&G_.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),$_=function(){function e(t,n,r){He(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Iw(t)}return Ge(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new X_({xa:e,methodName:t,Ka:n,path:qp.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Z_(e){var t=e._freezeSettings(),n=Iw(e._databaseId);return new $_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function eE(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);dE("Data must be an object, but it was:",o,r);var u,s,c=fE(r,o);if(a.merge)u=new zp(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Qe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=pE(t,d,n);if(!o.contains(p))throw new gp(yp.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));gE(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new zp(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Q_(new mv(c),u,s)}var tE=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(H_);function nE(e,t,n){return new X_({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var rE=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"_toFieldTransform",value:function(e){return new ym(e.path,new cm)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(H_),iE=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e)).Qa=r,i}return Ge(n,[{key:"_toFieldTransform",value:function(e){var t=nE(this,e,!0),n=this.Qa.map((function(e){return lE(e,t)})),r=new lm(n);return new ym(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(H_),aE=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e)).Qa=r,i}return Ge(n,[{key:"_toFieldTransform",value:function(e){var t=nE(this,e,!0),n=this.Qa.map((function(e){return lE(e,t)})),r=new hm(n);return new ym(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(H_),oE=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e)).Wa=r,i}return Ge(n,[{key:"_toFieldTransform",value:function(e){var t=new pm(e.k,im(e.k,this.Wa));return new ym(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(H_);function uE(e,t,n,r){var i=e.ja(1,t,n);dE("Data must be an object, but it was:",i,r);var a=[],o=mv.empty();Fp(r,(function(e,r){var u=mE(t,e,n);r=Ot(r);var s=i.La(u);if(r instanceof tE)a.push(u);else{var c=lE(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new zp(a);return new J_(o,u,i.fieldTransforms)}function sE(e,t,n,r,i,a){var o=e.ja(1,t,n),u=[pE(t,r,n)],s=[i];if(a.length%2!=0)throw new gp(yp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(pE(t,a[c])),s.push(a[c+1]);for(var l=[],f=mv.empty(),h=u.length-1;h>=0;--h)if(!gE(l,u[h])){var d=u[h],p=s[h];p=Ot(p);var v=o.La(d);if(p instanceof tE)l.push(d);else{var m=lE(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new zp(l);return new J_(f,y,o.fieldTransforms)}function cE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lE(n,e.ja(r?4:3,t))}function lE(e,t){if(hE(e=Ot(e)))return dE("Unsupported field value:",t,e),fE(e,t);if(e instanceof H_)return function(e,t){if(!Y_(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Qe(e);try{for(a.s();!(n=a.n()).done;){var o=lE(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return im(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Dp.fromDate(e);return{timestampValue:hy(t.k,n)}}if(e instanceof Dp){var r=new Dp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hy(t.k,r)}}if(e instanceof K_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof W_)return{bytesValue:dy(t.k,e._byteString)};if(e instanceof E_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:my(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(g_(e)))}(e,t)}function fE(e,t){var n={};return Up(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fp(e,(function(e,r){var i=lE(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function hE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dp||e instanceof K_||e instanceof W_||e instanceof E_||e instanceof H_)}function dE(e,t,n){if(!hE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=g_(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function pE(e,t,n){if((t=Ot(t))instanceof z_)return t._internalPath;if("string"==typeof t)return mE(e,t);throw yE("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var vE=new RegExp("[~\\*/\\[\\]]");function mE(e,t,n){if(t.search(vE)>=0)throw yE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return rt(z_,Dt(t.split(".")))._internalPath}catch(r){throw yE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function yE(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new gp(yp.INVALID_ARGUMENT,u+e+s)}function gE(e,t){return e.some((function(e){return e.isEqual(t)}))}var kE=function(){function e(t,n,r,i,a){He(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ge(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new E_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new wE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(bE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),wE=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"data",value:function(){return On($e(n.prototype),"data",this).call(this)}}]),n}(kE);function bE(e,t){return"string"==typeof t?mE(e,t):t instanceof z_?t._internalPath:t._delegate._internalPath}var xE=function(){function e(t,n){He(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ge(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),_E=function(e){Xe(n,e);var t=nt(n);function n(e,r,i,a,o,u){var s;return He(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ge(n,[{key:"exists",value:function(){return On($e(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new EE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(bE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(kE),EE=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return On($e(n.prototype),"data",this).call(this,e)}}]),n}(_E),IE=function(){function e(t,n,r,i){He(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xE(i.hasPendingWrites,i.fromCache),this.query=r}return Ge(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new EE(n._firestore,n._userDataWriter,r.key,r,new xE(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gp(yp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new EE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new EE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:TE(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function TE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pp()}}function SE(e,t){return e instanceof _E&&t instanceof _E?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof IE&&t instanceof IE&&e._firestore===t._firestore&&A_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function CE(e){if(zv(e)&&0===e.explicitOrderBy.length)throw new gp(yp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NE=Ge((function e(){He(this,e)}));function AE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var RE=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return Ge(n,[{key:"_apply",value:function(e){var t=Z_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new gp(yp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){qE(o,a);var s,c=[],l=Qe(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(BE(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=BE(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||qE(o,a),u=cE(n,"where",o,"in"===a||"not-in"===a);var h=Ev.create(i,a,u);return function(e,t){if(t.V()){var n=Hv(e);if(null!==n&&!n.isEqual(t.field))throw new gp(yp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Wv(e);null!==r&&zE(e,t.field,r)}var i=function(e,t){var n,r=Qe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new gp(yp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gp(yp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new I_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new jv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(NE);var OE=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return Ge(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new gp(yp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gp(yp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Lv(t,n);return function(e,t){if(null===Wv(e)){var n=Hv(e);null!==n&&zE(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new I_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new jv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(NE);var PE=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return Ge(n,[{key:"_apply",value:function(e){return new I_(e.firestore,e.converter,Jv(e._query,this.Ya,this.Xa))}}]),n}(NE);var DE=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Ge(n,[{key:"_apply",value:function(e){var t=VE(e,this.type,this.Za,this.tc);return new I_(e.firestore,e.converter,function(e,t){return new jv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(NE);function LE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DE("startAt",t,!0)}function ME(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DE("startAfter",t,!1)}var FE=function(e){Xe(n,e);var t=nt(n);function n(e,r,i){var a;return He(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Ge(n,[{key:"_apply",value:function(e){var t=VE(e,this.type,this.Za,this.tc);return new I_(e.firestore,e.converter,function(e,t){return new jv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(NE);function UE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FE("endBefore",t,!0)}function jE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new FE("endAt",t,!1)}function VE(e,t,n,r){if(n[0]=Ot(n[0]),n[0]instanceof kE)return function(e,t,n,r,i){if(!r)throw new gp(yp.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Qe(Gv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(cv(t,r.key));else{var c=r.data.field(s.field);if(Jp(c))throw new gp(yp.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new gp(yp.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Pv(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Z_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new gp(yp.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new gp(yp.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Kv(e)&&-1!==c.indexOf("/"))throw new gp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Vp.fromString(c));if(!tv.isDocumentKey(l))throw new gp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new tv(l);u.push(cv(t,f))}else{var h=cE(n,r,c);u.push(h)}}return new Pv(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function BE(e,t,n){if("string"==typeof(n=Ot(n))){if(""===n)throw new gp(yp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kv(t)&&-1!==n.indexOf("/"))throw new gp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Vp.fromString(n));if(!tv.isDocumentKey(r))throw new gp(yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return cv(e,new tv(r))}if(n instanceof E_)return cv(e,n._key);throw new gp(yp.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(g_(n),"."))}function qE(e,t){if(!Array.isArray(e)||0===e.length)throw new gp(yp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new gp(yp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function zE(e,t,n){if(!n.isEqual(t))throw new gp(yp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var WE=function(){function e(){He(this,e)}return Ge(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(nv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pp()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Fp(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new K_(Gp(e.latitude),Gp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Yp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Xp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Kp(e);return new Dp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Vp.fromString(e);vp(qy(n));var r=new h_(n.get(1),n.get(3)),i=new tv(n.popFirst(5));return r.isEqual(t)||fp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function HE(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var KE=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).firestore=e,r}return Ge(n,[{key:"convertBytes",value:function(e){return new W_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new E_(this.firestore,null,t)}}]),n}(WE),GE=function(){function e(t,n){He(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Z_(t)}return Ge(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=QE(e,this._firestore),i=HE(r.converter,t,n),a=eE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,km.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=QE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ot(t))||t instanceof z_?sE(this._dataReader,"WriteBatch.update",i._key,t,n,o):uE(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,km.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=QE(e,this._firestore);return this._mutations=this._mutations.concat(new Dm(t._key,km.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new gp(yp.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function QE(e,t){if((e=Ot(e)).firestore!==t)throw new gp(yp.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var JE=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).firestore=e,r}return Ge(n,[{key:"convertBytes",value:function(e){return new W_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new E_(this.firestore,null,t)}}]),n}(WE);function YE(e){e=k_(e,E_);var t=k_(e.firestore,D_),n=L_(t),r=new JE(t);return function(e,t){var n=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=mp(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new gp(yp.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=kb(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,i_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new _E(t,r,e._key,n,new xE(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function XE(e){e=k_(e,I_);var t=k_(e.firestore,D_),n=L_(t),r=new JE(t);return function(e,t){var n=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Be(ze().mark((function e(t,n,r){var i,a,o,u,s;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zk(t,n,!0);case 3:i=e.sent,a=new jb(n,i.zn),o=a.bo(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=kb(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,i_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new IE(t,r,e,n)}))}function $E(e,t,n){e=k_(e,E_);var r=k_(e.firestore,D_),i=HE(e.converter,t,n);return nI(r,[eE(Z_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,km.none())])}function ZE(e,t,n){e=k_(e,E_);for(var r=k_(e.firestore,D_),i=Z_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return nI(r,[("string"==typeof(t=Ot(t))||t instanceof z_?sE(i,"updateDoc",e._key,t,n,o):uE(i,"updateDoc",e._key,t)).toMutation(e._key,km.exists(!0))])}function eI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ot(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||O_(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(O_(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof E_)l=k_(e.firestore,D_),f=Bv(e._key.path),c={next:function(t){n[s]&&n[s](rI(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=k_(e,I_);l=k_(p.firestore,D_),f=p._query;var v=new JE(l);c={next:function(e){n[s]&&n[s](new IE(l,v,p,e))},error:n[s+1],complete:n[s+2]},CE(e._query)}return function(e,t,n,r){var i=new Wx(r),a=new Ob(t,i,n);return e.asyncQueue.enqueueAndForget(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ib,t.next=3,u_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sb,t.next=3,u_(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(L_(l),f,h,c)}function tI(e,t){return function(e,t){var n=new Wx(t);return e.asyncQueue.enqueueAndForget(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mp(e).io.add(t),t.next()},t.next=3,u_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Be(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){mp(e).io.delete(t)},t.next=3,u_(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(L_(e=k_(e,D_)),O_(t)?t:{next:t})}function nI(e,t){return function(e,t){var n=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function r(){return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Jb,r.next=3,o_(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(L_(e),t)}function rI(e,t,n){var r=n.docs.get(t._key),i=new JE(e);return new _E(e,i,t._key,r,new xE(n.hasPendingWrites,n.fromCache),t.converter)}var iI=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ge(n,[{key:"get",value:function(e){var t=this,r=QE(e,this._firestore),i=new JE(this._firestore);return On($e(n.prototype),"get",this).call(this,e).then((function(e){return new _E(t._firestore,i,r._key,e._document,new xE(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){He(this,e),this._firestore=t,this._transaction=n,this._dataReader=Z_(t)}return Ge(e,[{key:"get",value:function(e){var t=this,n=QE(e,this._firestore),r=new KE(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return pp();var i=e[0];if(i.isFoundDocument())return new kE(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new kE(t._firestore,r,n._key,null,n.converter);throw pp()}))}},{key:"set",value:function(e,t,n){var r=QE(e,this._firestore),i=HE(r.converter,t,n),a=eE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=QE(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ot(t))||t instanceof z_?sE(this._dataReader,"Transaction.update",i._key,t,n,o):uE(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=QE(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function aI(e,t){return function(e,t){var n=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function r(){var i;return ze().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return t_(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Gx(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(L_(e=k_(e,D_)),(function(n){return t(new iI(e,n))}))}function oI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new iE("arrayUnion",t)}function uI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new aE("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){up=e}(vn),on(new Lt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new D_(i,new _p(e.getProvider("auth-internal")),new Sp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),bn(ap,"3.4.1",e),bn(ap,"3.4.1","esm2017")}();function sI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function cI(){if("undefined"===typeof Uint8Array)throw new gp("unimplemented","Uint8Arrays are not available in this environment.")}function lI(){if("undefined"==typeof atob)throw new gp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var fI=function(){function e(t){He(this,e),this._delegate=t}return Ge(e,[{key:"toBase64",value:function(){return lI(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return cI(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return lI(),new e(W_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return cI(),new e(W_.fromUint8Array(t))}}]),e}();function hI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Qe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var dI=function(){function e(){He(this,e)}return Ge(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){q_(e=k_(e,D_));var n=L_(e),r=e._freezeSettings(),i=new qx;return F_(n,i,new Vx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){q_(e=k_(e,D_));var t=L_(e),n=e._freezeSettings(),r=new qx;return F_(t,r,new Bx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new gp(yp.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new kp;return e._queue.enqueueAndForgetEvenWhileRestricted(Be(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Be(ze().mark((function e(t){var n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pg.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,pg.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Tk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),pI=function(){function e(t,n,r){var i=this;He(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof h_||(this._appCompat=t)}return Ge(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||hp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};__(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return U_(this._delegate)}},{key:"disableNetwork",value:function(){return j_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&v_("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new kp;return e.asyncQueue.enqueueAndForget(Be(ze().mark((function n(){return ze().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ox,n.next=3,o_(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(L_(e=k_(e,D_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return tI(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new gp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new CI(this,S_(this._delegate,e))}catch(t){throw wI(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new kI(this,C_(this._delegate,e))}catch(t){throw wI(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new II(this,function(e,t){if(e=k_(e,x_),p_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gp(yp.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new I_(e,null,function(e){return new jv(Vp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw wI(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return aI(this._delegate,(function(n){return e(new mI(t,n))}))}},{key:"batch",value:function(){var e=this;return L_(this._delegate),new yI(new GE(this._delegate,(function(t){return nI(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return V_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return B_(this._delegate,e).then((function(e){return e?new II(t,e):null}))}}]),e}(),vI=function(e){Xe(n,e);var t=nt(n);function n(e){var r;return He(this,n),(r=t.call(this)).firestore=e,r}return Ge(n,[{key:"convertBytes",value:function(e){return new fI(new W_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return kI.forKey(t,this.firestore,null)}}]),n}(WE);var mI=function(){function e(t,n){He(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new vI(t)}return Ge(e,[{key:"get",value:function(e){var t=this,n=NI(e);return this._delegate.get(n).then((function(e){return new _I(t._firestore,new _E(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=NI(e);return n?(sI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=NI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=NI(e);return this._delegate.delete(t),this}}]),e}(),yI=function(){function e(t){He(this,e),this._delegate=t}return Ge(e,[{key:"set",value:function(e,t,n){var r=NI(e);return n?(sI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=NI(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=NI(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),gI=function(){function e(t,n,r){He(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ge(e,[{key:"fromFirestore",value:function(e,t){var n=new EE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new EI(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new vI(t),n),i.set(n,a)),a}}]),e}();gI.INSTANCES=new WeakMap;var kI=function(){function e(t,n){He(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new vI(t)}return Ge(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new CI(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new CI(this.firestore,S_(this._delegate,e))}catch(t){throw wI(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ot(e))instanceof E_&&N_(this._delegate,e)}},{key:"set",value:function(e,t){t=sI("DocumentReference.set",t);try{return t?$E(this._delegate,e,t):$E(this._delegate,e)}catch(n){throw wI(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ZE(this._delegate,e):ZE.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw wI(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return nI(k_(e.firestore,D_),[new Dm(e._key,km.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bI(n),a=xI(n,(function(t){return new _I(e.firestore,new _E(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return eI(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?YE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=k_(e,E_);var t=k_(e.firestore,D_);return c_(L_(t),e._key,{source:"server"}).then((function(n){return rI(t,e,n)}))}(this._delegate):function(e){e=k_(e,E_);var t=k_(e.firestore,D_);return c_(L_(t),e._key).then((function(n){return rI(t,e,n)}))}(this._delegate),t.then((function(e){return new _I(n.firestore,new _E(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(gI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new gp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new E_(n._delegate,r,new tv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new E_(n._delegate,r,t))}}]),e}();function wI(e,t,n){return e.message=e.message.replace(t,n),e}function bI(e){var t,n=Qe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!hI(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function xI(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=hI(e[0])?e[0]:hI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var _I=function(){function e(t,n){He(this,e),this._firestore=t,this._delegate=n}return Ge(e,[{key:"ref",get:function(){return new kI(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return SE(this._delegate,e._delegate)}}]),e}(),EI=function(e){Xe(n,e);var t=nt(n);function n(){return He(this,n),t.apply(this,arguments)}return Ge(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||pp()}(void 0!==t),t}}]),n}(_I),II=function(){function e(t,n){He(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new vI(t)}return Ge(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,AE(this._delegate,function(e,t,n){var r=t,i=bE("where",e);return new RE(i,r,n)}(t,n,r)))}catch(i){throw wI(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,AE(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=bE("orderBy",e);return new OE(n,t)}(t,n)))}catch(r){throw wI(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,AE(this._delegate,function(e){return w_("limit",e),new PE("limit",e,"F")}(t)))}catch(n){throw wI(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,AE(this._delegate,function(e){return w_("limitToLast",e),new PE("limitToLast",e,"L")}(t)))}catch(n){throw wI(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,AE(this._delegate,LE.apply(void 0,arguments)))}catch(t){throw wI(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,AE(this._delegate,ME.apply(void 0,arguments)))}catch(t){throw wI(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,AE(this._delegate,UE.apply(void 0,arguments)))}catch(t){throw wI(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,AE(this._delegate,jE.apply(void 0,arguments)))}catch(t){throw wI(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return A_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?XE(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=k_(e,I_);var t=k_(e.firestore,D_),n=L_(t),r=new JE(t);return l_(n,e._query,{source:"server"}).then((function(n){return new IE(t,r,e,n)}))}(this._delegate):function(e){e=k_(e,I_);var t=k_(e.firestore,D_),n=L_(t),r=new JE(t);return CE(e._query),l_(n,e._query).then((function(n){return new IE(t,r,e,n)}))}(this._delegate),t.then((function(e){return new SI(n.firestore,new IE(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bI(n),a=xI(n,(function(t){return new SI(e.firestore,new IE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return eI(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(gI.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),TI=function(){function e(t,n){He(this,e),this._firestore=t,this._delegate=n}return Ge(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new EI(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),SI=function(){function e(t,n){He(this,e),this._firestore=t,this._delegate=n}return Ge(e,[{key:"query",get:function(){return new II(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new EI(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new TI(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new EI(n._firestore,r))}))}},{key:"isEqual",value:function(e){return SE(this._delegate,e._delegate)}}]),e}(),CI=function(e){Xe(n,e);var t=nt(n);function n(e,r){var i;return He(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ge(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new kI(this.firestore,e):null}},{key:"doc",value:function(e){try{return new kI(this.firestore,void 0===e?C_(this._delegate):C_(this._delegate,e))}catch(t){throw wI(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=k_(e.firestore,D_),r=C_(e),i=HE(e.converter,t);return nI(n,[eE(Z_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,km.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new kI(t.firestore,e)}))}},{key:"isEqual",value:function(e){return N_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(gI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(II);function NI(e){return k_(e,E_)}var AI=function(){function e(){He(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=rt(z_,n)}return Ge(e,[{key:"isEqual",value:function(e){return(e=Ot(e))instanceof z_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(qp.keyField().canonicalString())}}]),e}(),RI=function(){function e(t){He(this,e),this._delegate=t}return Ge(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new rE("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new tE("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=oI.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=uI.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new oE("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),OI={Firestore:pI,GeoPoint:K_,Timestamp:Dp,Blob:fI,Transaction:mI,WriteBatch:yI,DocumentReference:kI,DocumentSnapshot:_I,Query:II,QueryDocumentSnapshot:EI,QuerySnapshot:SI,CollectionReference:CI,FieldPath:AI,FieldValue:RI,setLogLevel:function(e){!function(e){sp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Lt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},OI)))}(e,(function(e,t){return new pI(e,t,new dI)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(An);var PI=function(e,t,n){je[{success:"success",error:"error",info:"info"}[e]](t,{toastId:n})},DI=An.initializeApp({apiKey:"AIzaSyBUKptuVv3dgwNtTTd_1j-RzxAgv5gP8sQ",authDomain:"movieapp-8b645.firebaseapp.com",projectId:"movieapp-8b645",storageBucket:"movieapp-8b645.appspot.com",messagingSenderId:"970693590704",appId:"1:970693590704:web:6de01b2699d7ccb0a44575",measurementId:"G-5RG3YTEFY1"}),LI=DI.auth(),MI=DI.firestore(),FI=new An.auth.GoogleAuthProvider,UI=function(){var e=Be(ze().mark((function e(t,n,r){var i,a;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,LI.createUserWithEmailAndPassword(n,r);case 3:return i=e.sent,a=i.user,e.next=7,MI.collection("users").add({uid:a.uid,name:t,authProvider:"local",email:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),PI("error","!Upss user was not created, plaese check and try again!","error_register");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),jI=function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,LI.signInWithEmailAndPassword(t,n);case 3:e.sent,e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),PI("error","!Upss user does not exists, please check and try again!","error_auth");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),VI=function(){var e=Be(ze().mark((function e(){var t,n;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,LI.signInWithPopup(FI);case 3:return t=e.sent,n=t.user,e.next=7,MI.collection("users").where("uid","==",n.uid).get();case 7:if(0!==e.sent.docs.length){e.next=11;break}return e.next=11,MI.collection("users").add({uid:n.uid,name:n.displayName,authProvider:"google",email:n.email});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),PI("error","!Upss credentials erros, please check and try again!","error_adding_favorite");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),BI=function(){var e=Be(ze().mark((function e(t,n){return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$E(C_(MI,"fav_users",n),{favorites:[t]});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),PI("error","Upps could not add to favorite, please try again!","error_adding_favorite");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),qI=function(){var e=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C_(MI,"fav_users",n),e.prev=1,e.next=4,ZE(r,{favorites:oI(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),PI("error","Upps could not update favorites, please try again!","error_updating_favorite");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),zI=function(){var e=Be(ze().mark((function e(t,n){var r;return ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=C_(MI,"fav_users",n),e.prev=1,e.next=4,ZE(r,{favorites:uI(t)});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),PI("error","Upps an error has occurred, please try again!","error_removing_favorite");case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),WI=function(){return WI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},WI.apply(this,arguments)};var HI=function(e){return{loading:void 0===e||null===e,value:e}},KI=function(e){var n=e?e():void 0,r=(0,t.useReducer)((function(e,t){switch(t.type){case"error":return WI({},e,{error:t.error,loading:!1,value:void 0});case"reset":return HI(t.defaultValue);case"value":return WI({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),HI(n)),i=r[0],a=r[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,t.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},GI=function(e){var n=KI((function(){return e.currentUser})),r=n.error,i=n.loading,a=n.setError,o=n.setValue,u=n.value;(0,t.useEffect)((function(){return function(e,t,n,r){return Ot(e).onAuthStateChanged(t,n,r)}(e,o,a)}),[e]);var s=[u,i,r];return(0,t.useMemo)((function(){return s}),s)},QI=n(184);function JI(){var e=N(),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(""),2),o=a[0],u=a[1],c=s(GI(LI),3),l=c[0],f=c[1];c[2];return(0,t.useEffect)((function(){f||l&&e("/home")}),[l,f]),(0,QI.jsx)(t.Fragment,{children:(0,QI.jsx)("div",{className:"Login__container",children:(0,QI.jsxs)("form",{className:"Login__form",children:[(0,QI.jsx)("h1",{children:" Movie App "}),(0,QI.jsx)("input",{type:"email",placeholder:"E-mail",className:"Input_credentials",value:r,onChange:function(e){return i(e.target.value)}}),(0,QI.jsx)("input",{type:"password",placeholder:"Password",className:"Input_credentials",value:o,onChange:function(e){return u(e.target.value)}}),(0,QI.jsx)("button",{type:"button",className:"Main_btn primary",onClick:function(){r.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)?o.length<8?PI("error","Password must be at least 8 characters!","error_pwd"):jI(r,o):PI("error","Please insert a valid email!","error_pwd")},children:"Login"}),(0,QI.jsx)("button",{type:"button",className:"Main_btn secundary",onClick:function(){return VI()},children:"Login with Google"}),(0,QI.jsxs)("p",{className:"Create_text",children:["Create your own account. ",(0,QI.jsx)(Y,{to:"/register",className:"link_to",children:"Register"})," now!"]})]})})})}function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YI(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $I(e){var t,n=e.name,r=e.stroke,i=(e.width,e.fill),a=e.className,o=e.selected,u=(e.height,e.color,i);o&&(u=o);var s={LogOut:(0,QI.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:u,stroke:r,width:"30",height:"30",viewBox:"0 0 24 24",children:(0,QI.jsx)("path",{d:"M8 9v-4l8 7-8 7v-4h-8v-6h8zm2-7v2h12v16h-12v2h14v-20h-14z"})}),Favorite:(0,QI.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:a,fill:u,stroke:r,width:"30",height:"30",viewBox:"0 0 24 24",children:(0,QI.jsx)("path",{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"})}),Home:(0,QI.jsxs)("svg",(t={fill:"#000000",xmlns:"http://www.w3.org/2000/svg",className:a,viewBox:"0 0 24 24"},We(t,"fill",u),We(t,"stroke",r),We(t,"width","30px"),We(t,"height","30px"),We(t,"children",["    ",(0,QI.jsx)("path",{d:"M 12 2.0996094 L 1 12 L 4 12 L 4 21 L 10 21 L 10 14 L 14 14 L 14 21 L 20 21 L 20 12 L 23 12 L 12 2.0996094 z"})]),t)),Roll:(0,QI.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",className:a,fill:u,stroke:r,width:"158.635px",height:"158.635px",viewBox:"0 0 358.635 358.635",children:[(0,QI.jsx)("g",{children:(0,QI.jsx)("g",{children:(0,QI.jsx)("path",{d:"M346.975,336.987c-4.154-4.254-12.083-13.256-18.521-25.729c-12.082-23.414-13.847-48.069-5.248-73.283\r c8.869-26.002,13.198-50.95,12.867-74.155l0.011-0.896C336.083,73.087,262.997,0,173.161,0\r C83.326,0.001,10.239,73.088,10.239,162.925c0,89.835,73.086,162.922,162.922,162.922c44.907,0,86.735-17.883,117.779-50.354\r c0.958,16.992,5.65,33.58,13.948,49.299c8.421,15.955,18.563,27.145,23.86,32.395c0.938,0.931,2.204,1.449,3.521,1.449\r c0.072,0,0.146-0.002,0.22-0.006c1.394-0.061,2.697-0.701,3.599-1.766l11.126-13.152\r C348.877,341.743,348.775,338.833,346.975,336.987z M103.896,122.934c-4.748,8.225-13.604,13.334-23.113,13.334\r c-4.652,0-9.253-1.236-13.305-3.575c-6.167-3.561-10.579-9.31-12.421-16.188c-1.843-6.878-0.896-14.063,2.665-20.231\r C62.47,88.049,71.326,82.94,80.835,82.94c4.651,0,9.252,1.236,13.303,3.574C106.869,93.868,111.247,110.207,103.896,122.934z\r M55.056,209.343c1.843-6.878,6.254-12.626,12.42-16.188c4.053-2.338,8.655-3.575,13.307-3.575\r c9.507,0,18.364,5.108,23.113,13.334c7.351,12.729,2.973,29.065-9.756,36.419c-4.054,2.34-8.655,3.576-13.306,3.576\r c-9.508,0-18.364-5.109-23.113-13.336C54.16,223.407,53.214,216.222,55.056,209.343z M173.161,242.903L173.161,242.903\r c7.122,0,13.816,2.771,18.853,7.81c5.034,5.035,7.808,11.729,7.808,18.854c0,14.7-11.959,26.659-26.659,26.659\r c-14.699,0-26.658-11.959-26.658-26.659C146.504,254.865,158.462,242.903,173.161,242.903z M173.161,82.944\r c-14.699,0-26.658-11.959-26.658-26.659c0-14.701,11.959-26.661,26.658-26.661c14.7,0,26.659,11.96,26.659,26.661\r C199.82,70.985,187.861,82.944,173.161,82.944z M173.161,128.12c19.192,0,34.807,15.613,34.807,34.806\r c0,19.19-15.613,34.804-34.807,34.804c-19.191,0-34.804-15.612-34.804-34.804C138.358,143.733,153.97,128.12,173.161,128.12z\r M278.848,132.692c-4.056,2.34-8.655,3.576-13.309,3.576c-9.508,0-18.364-5.109-23.114-13.335\r c-7.352-12.728-2.974-29.064,9.757-36.418c4.053-2.34,8.652-3.576,13.306-3.576c9.509,0,18.366,5.109,23.115,13.334\r C295.953,109.005,291.576,125.341,278.848,132.692z M242.426,202.915c4.749-8.225,13.604-13.334,23.112-13.334\r c4.653,0,9.254,1.236,13.309,3.576c6.152,3.554,10.56,9.304,12.403,16.188c1.848,6.89,0.905,14.072-2.647,20.229\r c-4.749,8.226-13.606,13.334-23.115,13.334c-4.65,0-9.252-1.235-13.303-3.573C239.454,231.981,235.077,215.644,242.426,202.915z"})})}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{}),(0,QI.jsx)("g",{})]})};return void 0===s[n]?null:s[n]}function ZI(e){var n=e.user,r=e.movies,i=e.from,a=s((0,t.useState)(0),2),o=a[0],u=a[1],c=s((0,t.useState)([]),2),l=c[0],f=c[1],h=s((0,t.useState)(!1),2),d=h[0],p=h[1];(0,t.useEffect)((function(){MI.collection("fav_users").onSnapshot((function(e){var t=e.docs.map((function(e){return XI({id:e.id},e.data())})).filter((function(e){return e.id===n}));t!==o&&u(t[0])}))}),[d]),(0,t.useEffect)((function(){o&&f(o.favorites)}),[o]);return(0,QI.jsx)(t.Fragment,{children:null===r||void 0===r?void 0:r.map((function(e){return(0,QI.jsxs)("div",{className:"Cards__container",children:[(0,QI.jsx)("div",{className:"Img__container",children:(0,QI.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"Banner for ".concat(e.title," movie")})}),(0,QI.jsxs)("div",{className:"Info__container",children:[(0,QI.jsx)("h3",{children:e.title.length<40?e.title:e.title.substr(0,30)+"..."}),(0,QI.jsx)("p",{className:"Release_date",children:e.release_date}),"home"===i&&(0,QI.jsxs)("span",{onClick:function(){return t=e.id,l.includes(t)?zI(t,n):0!==o?"object"===typeof o?qI(t,n):BI(t,n):void p(!d);var t},children:[(0,QI.jsx)($I,{name:"Favorite",fill:l&&l.includes(e.id)?"#01d277":"none",stroke:"#01d277",className:"Add_to_fav"}),(0,QI.jsx)("p",{children:"Add to favorite"})]}),(0,QI.jsx)(Y,{to:"/details",state:{movie_id:e.id},className:"details",children:"Details"})]}),(0,QI.jsx)("span",{className:"Movie_rate",children:"IMDB ".concat(e.vote_average)})]},e.id)}))})}function eT(){var e=C(),n=N(),r=s((0,t.useState)("home"),2),i=r[0],a=r[1],o=[{tabName:"Home",page:"/home",action:function(e){return u(e)}},{tabName:"Favorite",page:"/favorites",action:function(e){return u(e)}},{tabName:"Log out",page:"/",action:function(){LI.signOut()}}];function u(e){n(e)}return(0,t.useEffect)((function(){a(e)}),[e.pathname]),(0,QI.jsx)(t.Fragment,{children:(0,QI.jsxs)("nav",{className:"NavBar__container",children:[(0,QI.jsxs)("div",{className:"Movieapp__logo",children:[(0,QI.jsx)("p",{children:"MOVIE"}),(0,QI.jsx)("p",{children:"APP"})]}),(0,QI.jsx)("ul",{children:o.map((function(e,t){return(0,QI.jsx)("li",{className:i.pathname===e.page?"Tab__selected Tab__container":"Tab__container",onClick:function(){return e.action(e.page)},children:e.tabName},t)}))})]})})}function tT(){return(0,QI.jsx)(t.Fragment,{children:(0,QI.jsx)("div",{className:"Loadind__container",children:(0,QI.jsx)("div",{className:"Loading_icon",children:(0,QI.jsx)($I,{name:"Roll",fill:"#01d277",stroke:"#01d277",className:"12"})})})})}var nT=function(){var e=s(GI(LI),3),n=e[0],r=e[1],i=(e[2],N());return(0,t.useEffect)((function(){if(!r)return n?void 0:i("/")}),[n,r]),[n,r]},rT=n(569),iT=n.n(rT),aT=function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=21d48dd94eb2105951a273ec15768f0a&language=en-US");return iT()({method:"GET",url:t})};function oT(){var e=s((0,t.useState)(null),2),n=e[0],r=e[1],i=s((0,t.useState)(1),2),a=i[0],o=i[1],u=s((0,t.useState)(!0),2),c=u[0],l=u[1],f=s(GI(LI),2),h=f[0];f[1];function d(e){"next"===e&&o(a+1),"back"===e&&o(a-1)}return nT(),(0,t.useEffect)((function(){var e=function(){var e="https://api.themoviedb.org/3/movie/popular?api_key=21d48dd94eb2105951a273ec15768f0a&language=en-US&page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return iT()({method:"GET",url:e})}(a);e.then((function(e){r(e.data.results)})).catch((function(e){return PI("error","Upps, looks like we dont have movies to show!, please try later","getListadoError")})),setTimeout((function(){l(!1)}),500)}),[a]),c?(0,QI.jsx)(tT,{}):(0,QI.jsx)(t.Fragment,{children:(0,QI.jsxs)("section",{className:"Home__container",children:[(0,QI.jsx)(eT,{}),(0,QI.jsxs)("div",{className:"List__movie_container",children:[(0,QI.jsx)("div",{className:"Movies_list",children:h&&(null===n||void 0===n?void 0:n.length)>0&&(0,QI.jsx)(ZI,{user:h.email,movies:n,from:"home"})}),(0,QI.jsxs)("div",{className:"Btn__container",children:[a>1&&(0,QI.jsx)("button",{name:"back",className:"Btn_back_next",onClick:function(e){return d(e.target.name)},children:"< Back"}),(0,QI.jsx)("button",{name:"next",className:"Btn_back_next",onClick:function(e){return d(e.target.name)},children:"Next >"})]})]})]})})}function uT(){var e=C().state,n=s((0,t.useState)(void 0),2),r=n[0],i=n[1],a=s((0,t.useState)(!0),2),o=a[0],u=a[1];nT(),(0,t.useEffect)((function(){aT(e.movie_id).then((function(e){i(e.data)})).catch((function(e){return PI("error","Upps, an error has ocurred!, please try later","getListadoError")})),setTimeout((function(){u(!1)}),300)}),[]);var c=[null!==r&&void 0!==r&&r.adult?"18+":"6+",null===r||void 0===r?void 0:r.release_date,null===r||void 0===r?void 0:r.popularity],l=null===r||void 0===r?void 0:r.genres;return o?(0,QI.jsx)(tT,{}):(0,QI.jsx)(t.Fragment,{children:(0,QI.jsxs)("section",{className:"Details__container",children:[(0,QI.jsx)(eT,{}),(0,QI.jsx)("div",{className:"Detail__image_container",children:(0,QI.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(null===r||void 0===r?void 0:r.backdrop_path),alt:"Banner for ".concat(null===r||void 0===r?void 0:r.title," movie")})}),(0,QI.jsx)("div",{className:"Detail__transition_background",children:(0,QI.jsxs)("div",{className:"Detail_description_container",children:[(0,QI.jsxs)("div",{className:"Tags_container",children:[null===c||void 0===c?void 0:c.map((function(e,t){return(0,QI.jsxs)("span",{className:"Tag_text",children:[2===t&&(0,QI.jsx)($I,{name:"Favorite",fill:"#01d277",stroke:"#01d277",className:"Fav_counter"}),e]},t)})),null===l||void 0===l?void 0:l.map((function(e){return(0,QI.jsx)("span",{className:"Tag_text",children:e.name},e.id)}))]}),(0,QI.jsxs)("div",{className:"Detail_description",children:[(0,QI.jsx)("h3",{children:null===r||void 0===r?void 0:r.title}),(0,QI.jsx)("p",{children:null===r||void 0===r?void 0:r.overview})]})]})})]})})}function sT(){var e=s((0,t.useState)([]),2),n=e[0],r=e[1],i=s((0,t.useState)(0),2),a=i[0],o=i[1],u=s((0,t.useState)([]),2),c=u[0],l=u[1],f=s((0,t.useState)(!0),2),h=f[0],d=f[1],p=s(GI(LI),2),v=p[0];p[1];return nT(),(0,t.useEffect)((function(){MI.collection("fav_users").onSnapshot((function(e){var t=e.docs.map((function(e){return XI({id:e.id},e.data())})).filter((function(e){return e.id===(null===v||void 0===v?void 0:v.email)}));t!==a&&o(t[0])}))}),[]),(0,t.useEffect)((function(){a&&l(a.favorites)}),[a]),(0,t.useEffect)((function(){for(var e=0;e<c.length;e++){aT(c[e]).then((function(e){r((function(t){return[].concat(Dt(t),[e.data])}))}))}setTimeout((function(){d(!1)}),300)}),[c]),h?(0,QI.jsx)(tT,{}):(0,QI.jsx)(t.Fragment,{children:(0,QI.jsxs)("div",{className:"Favorites__container",children:[(0,QI.jsx)(eT,{}),(0,QI.jsx)("div",{className:"Favorites_list",children:0===n.length?(0,QI.jsx)("h1",{children:"No favorite movies "}):(0,QI.jsx)(ZI,{movies:n,from:"faorites"})})]})})}function cT(){var e=N(),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(""),2),o=a[0],u=a[1],c=s((0,t.useState)(""),2),l=c[0],f=c[1],h=s(GI(LI),3),d=h[0],p=h[1];h[2];return(0,t.useEffect)((function(){p||d&&e("/home")}),[d,p]),(0,QI.jsx)(t.Fragment,{children:(0,QI.jsx)("div",{className:"Login__container",children:(0,QI.jsxs)("form",{className:"Login__form",children:[(0,QI.jsx)("h1",{children:" Movie App "}),(0,QI.jsx)("input",{type:"text",value:r,placeholder:"Name",className:"Input_credentials",onChange:function(e){var t=e.target;return i(t.value)}}),(0,QI.jsx)("input",{type:"email",value:o,placeholder:"E-mail",className:"Input_credentials",onChange:function(e){var t=e.target;return u(t.value)}}),(0,QI.jsx)("input",{type:"password",value:l,placeholder:"Password",className:"Input_credentials",onChange:function(e){var t=e.target;return f(t.value)}}),(0,QI.jsx)("button",{type:"button",className:"Main_btn primary",onClick:function(){r.length<1?PI("error","Please insert a full name!","error_name"):o.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/g)?l.length<8?PI("error","Password must be at least 8 characters!","error_pwd"):UI(r,o,l):PI("error","Please insert a valid email!","error_pwd")},children:"Register"}),(0,QI.jsxs)("p",{className:"Create_text",children:["If you have an account account.",(0,QI.jsx)(Y,{to:"/",className:"link_to",children:" Login"})," now!"]})]})})})}var lT=function(){return(0,QI.jsx)("div",{className:"App",children:(0,QI.jsxs)(J,{basename:"/movie_db",children:[(0,QI.jsxs)(I,{children:[(0,QI.jsx)(_,{exact:!0,path:"/",element:(0,QI.jsx)(JI,{})}),(0,QI.jsx)(_,{exact:!0,path:"/register",element:(0,QI.jsx)(cT,{})}),(0,QI.jsx)(_,{exact:!0,path:"/home",element:(0,QI.jsx)(oT,{})}),(0,QI.jsx)(_,{exact:!0,path:"/favorites",element:(0,QI.jsx)(sT,{})}),(0,QI.jsx)(_,{exact:!0,path:"/details",element:(0,QI.jsx)(uT,{})})]}),(0,QI.jsx)(Se,{position:"top-right",autoClose:2500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,QI.jsx)(Se,{})]})})},fT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,QI.jsx)(t.StrictMode,{children:(0,QI.jsx)(lT,{})}),document.getElementById("root")),fT()}()}();
//# sourceMappingURL=main.16b0f3d1.js.map